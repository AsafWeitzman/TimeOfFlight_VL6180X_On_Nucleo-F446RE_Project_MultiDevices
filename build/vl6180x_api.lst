ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"vl6180x_api.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text._filter_Init,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	_filter_Init:
  26              	.LVL0:
  27              	.LFB65:
  28              		.file 1 "Src/vl6180x_api.c"
   1:Src/vl6180x_api.c **** /*******************************************************************************
   2:Src/vl6180x_api.c **** Copyright © 2015, STMicroelectronics International N.V.
   3:Src/vl6180x_api.c **** All rights reserved.
   4:Src/vl6180x_api.c **** 
   5:Src/vl6180x_api.c **** Redistribution and use in source and binary forms, with or without
   6:Src/vl6180x_api.c **** modification, are permitted provided that the following conditions are met:
   7:Src/vl6180x_api.c ****     * Redistributions of source code must retain the above copyright
   8:Src/vl6180x_api.c ****       notice, this list of conditions and the following disclaimer.
   9:Src/vl6180x_api.c ****     * Redistributions in binary form must reproduce the above copyright
  10:Src/vl6180x_api.c ****       notice, this list of conditions and the following disclaimer in the
  11:Src/vl6180x_api.c ****       documentation and/or other materials provided with the distribution.
  12:Src/vl6180x_api.c ****     * Neither the name of STMicroelectronics nor the
  13:Src/vl6180x_api.c ****       names of its contributors may be used to endorse or promote products
  14:Src/vl6180x_api.c ****       derived from this software without specific prior written permission.
  15:Src/vl6180x_api.c **** 
  16:Src/vl6180x_api.c **** THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
  17:Src/vl6180x_api.c **** ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
  18:Src/vl6180x_api.c **** WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND
  19:Src/vl6180x_api.c **** NON-INFRINGEMENT OF INTELLECTUAL PROPERTY RIGHTS ARE DISCLAIMED.
  20:Src/vl6180x_api.c **** IN NO EVENT SHALL STMICROELECTRONICS INTERNATIONAL N.V. BE LIABLE FOR ANY
  21:Src/vl6180x_api.c **** DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  22:Src/vl6180x_api.c **** (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  23:Src/vl6180x_api.c **** LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  24:Src/vl6180x_api.c **** ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  25:Src/vl6180x_api.c **** (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  26:Src/vl6180x_api.c **** SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  27:Src/vl6180x_api.c **** ********************************************************************************/
  28:Src/vl6180x_api.c **** 
  29:Src/vl6180x_api.c **** /*
  30:Src/vl6180x_api.c ****  * $Date: 2018-07-04 16:49:57 +0200 (Wed, 04 Jul 2018) $
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 2


  31:Src/vl6180x_api.c ****  * $Revision: 2768 $
  32:Src/vl6180x_api.c ****  */
  33:Src/vl6180x_api.c **** #include "vl6180x_api.h"
  34:Src/vl6180x_api.c **** 
  35:Src/vl6180x_api.c **** #define VL6180x_9to7Conv(x) (x)
  36:Src/vl6180x_api.c **** 
  37:Src/vl6180x_api.c **** /* TODO when set all "cached" value with "default init" are updated after init from register read b
  38:Src/vl6180x_api.c **** #define REFRESH_CACHED_DATA_AFTER_INIT  1
  39:Src/vl6180x_api.c **** 
  40:Src/vl6180x_api.c **** 
  41:Src/vl6180x_api.c **** #define IsValidGPIOFunction(x) ((x) == GPIOx_SELECT_GPIO_INTERRUPT_OUTPUT || (x) == GPIOx_SELECT_OF
  42:Src/vl6180x_api.c **** 
  43:Src/vl6180x_api.c **** 
  44:Src/vl6180x_api.c **** /** default value ECE factor Molecular */
  45:Src/vl6180x_api.c **** #define DEF_ECE_FACTOR_M    85
  46:Src/vl6180x_api.c **** /** default value ECE factor Denominator */
  47:Src/vl6180x_api.c **** #define DEF_ECE_FACTOR_D    100
  48:Src/vl6180x_api.c **** /** default value ALS integration time */
  49:Src/vl6180x_api.c **** #define DEF_INT_PEFRIOD     100
  50:Src/vl6180x_api.c **** /** default value ALS gain */
  51:Src/vl6180x_api.c **** #define DEF_ALS_GAIN        1
  52:Src/vl6180x_api.c **** /** default value ALS scaler */
  53:Src/vl6180x_api.c **** #define DEF_ALS_SCALER      1
  54:Src/vl6180x_api.c **** /** default value for DMAX Enable */
  55:Src/vl6180x_api.c **** #define DEF_DMAX_ENABLE     1
  56:Src/vl6180x_api.c **** /** default ambient tuning factor %x1000 */
  57:Src/vl6180x_api.c **** #define DEF_AMBIENT_TUNING  80
  58:Src/vl6180x_api.c **** 
  59:Src/vl6180x_api.c **** #define DEF_CROSS_TALK_VALID_HEIGHT_VALUE   20
  60:Src/vl6180x_api.c **** 
  61:Src/vl6180x_api.c **** 
  62:Src/vl6180x_api.c **** #if VL6180x_SINGLE_DEVICE_DRIVER
  63:Src/vl6180x_api.c **** extern  struct VL6180xDevData_t SingleVL6180xDevData;
  64:Src/vl6180x_api.c **** #define VL6180xDevDataGet(dev, field) (SingleVL6180xDevData.field)
  65:Src/vl6180x_api.c **** #define VL6180xDevDataSet(dev, field, data) SingleVL6180xDevData.field = (data)
  66:Src/vl6180x_api.c **** #endif
  67:Src/vl6180x_api.c **** 
  68:Src/vl6180x_api.c **** #define LUXRES_FIX_PREC 8
  69:Src/vl6180x_api.c **** #define GAIN_FIX_PREC    8  /* ! if not sme as LUX_PREC then :( adjust GetLux */
  70:Src/vl6180x_api.c **** #define AN_GAIN_MULT    (1 << GAIN_FIX_PREC)
  71:Src/vl6180x_api.c **** 
  72:Src/vl6180x_api.c **** 
  73:Src/vl6180x_api.c **** static int32_t _GetAveTotalTime(VL6180xDev_t dev);
  74:Src/vl6180x_api.c **** static int VL6180x_RangeSetEarlyConvergenceEestimateThreshold(VL6180xDev_t dev);
  75:Src/vl6180x_api.c **** 
  76:Src/vl6180x_api.c **** /**
  77:Src/vl6180x_api.c ****  * ScalerLookUP scaling factor-1 to register #RANGE_SCALER lookup
  78:Src/vl6180x_api.c ****  */
  79:Src/vl6180x_api.c **** static const uint16_t ScalerLookUP[]      ROMABLE_DATA = {253, 127, 84}; /* lookup table for scalin
  80:Src/vl6180x_api.c **** /**
  81:Src/vl6180x_api.c ****  * scaling factor to Upper limit look up
  82:Src/vl6180x_api.c ****  */
  83:Src/vl6180x_api.c **** static const uint16_t UpperLimitLookUP[]  ROMABLE_DATA = {185, 370, 580}; /* lookup table for scali
  84:Src/vl6180x_api.c **** /**
  85:Src/vl6180x_api.c ****  * Als Code gain to fix point gain lookup
  86:Src/vl6180x_api.c ****  */
  87:Src/vl6180x_api.c **** static const uint16_t AlsGainLookUp[8]    ROMABLE_DATA = {
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 3


  88:Src/vl6180x_api.c **** 	(uint16_t)(20.0f * AN_GAIN_MULT),
  89:Src/vl6180x_api.c **** 	(uint16_t)(10.0f * AN_GAIN_MULT),
  90:Src/vl6180x_api.c **** 	(uint16_t)(5.0f  * AN_GAIN_MULT),
  91:Src/vl6180x_api.c **** 	(uint16_t)(2.5f  * AN_GAIN_MULT),
  92:Src/vl6180x_api.c **** 	(uint16_t)(1.67f * AN_GAIN_MULT),
  93:Src/vl6180x_api.c **** 	(uint16_t)(1.25f * AN_GAIN_MULT),
  94:Src/vl6180x_api.c **** 	(uint16_t)(1.0f  * AN_GAIN_MULT),
  95:Src/vl6180x_api.c **** 	(uint16_t)(40.0f * AN_GAIN_MULT),
  96:Src/vl6180x_api.c **** };
  97:Src/vl6180x_api.c **** 
  98:Src/vl6180x_api.c **** 
  99:Src/vl6180x_api.c **** #if VL6180x_RANGE_STATUS_ERRSTRING
 100:Src/vl6180x_api.c **** const char *ROMABLE_DATA VL6180x_RangeStatusErrString[] = {
 101:Src/vl6180x_api.c **** 	"No Error",
 102:Src/vl6180x_api.c **** 	"VCSEL Continuity Test",
 103:Src/vl6180x_api.c **** 	"VCSEL Watchdog Test",
 104:Src/vl6180x_api.c **** 	"VCSEL Watchdog",
 105:Src/vl6180x_api.c **** 	"PLL1 Lock",
 106:Src/vl6180x_api.c **** 	"PLL2 Lock",
 107:Src/vl6180x_api.c **** 	"Early Convergence Estimate",
 108:Src/vl6180x_api.c **** 	"Max Convergence",
 109:Src/vl6180x_api.c **** 	"No Target Ignore",
 110:Src/vl6180x_api.c **** 	"Not used 9",
 111:Src/vl6180x_api.c **** 	"Not used 10",
 112:Src/vl6180x_api.c **** 	"Max Signal To Noise Ratio",
 113:Src/vl6180x_api.c **** 	"Raw Ranging Algo Underflow",
 114:Src/vl6180x_api.c **** 	"Raw Ranging Algo Overflow",
 115:Src/vl6180x_api.c **** 	"Ranging Algo Underflow",
 116:Src/vl6180x_api.c **** 	"Ranging Algo Overflow",
 117:Src/vl6180x_api.c **** 
 118:Src/vl6180x_api.c **** 	"Filtered by post processing (WAF)",
 119:Src/vl6180x_api.c **** 	"Ranging filtering (WAF) on-going",
 120:Src/vl6180x_api.c **** 	"Data not ready",
 121:Src/vl6180x_api.c **** };
 122:Src/vl6180x_api.c **** 
 123:Src/vl6180x_api.c **** const char *VL6180x_RangeGetStatusErrString(uint8_t RangeErrCode)
 124:Src/vl6180x_api.c **** {
 125:Src/vl6180x_api.c **** 	if (RangeErrCode > sizeof(VL6180x_RangeStatusErrString) / sizeof(VL6180x_RangeStatusErrString[0]))
 126:Src/vl6180x_api.c **** 		return NULL;
 127:Src/vl6180x_api.c **** 	return  VL6180x_RangeStatusErrString[RangeErrCode];
 128:Src/vl6180x_api.c **** }
 129:Src/vl6180x_api.c **** #endif
 130:Src/vl6180x_api.c **** 
 131:Src/vl6180x_api.c **** #if VL6180x_UPSCALE_SUPPORT == 1
 132:Src/vl6180x_api.c **** 	#define _GetUpscale(dev, ...)  1
 133:Src/vl6180x_api.c **** 	#define _SetUpscale(...) -1
 134:Src/vl6180x_api.c **** 	#define DEF_UPSCALE 1
 135:Src/vl6180x_api.c **** #elif VL6180x_UPSCALE_SUPPORT == 2
 136:Src/vl6180x_api.c **** 	#define _GetUpscale(dev, ...)  2
 137:Src/vl6180x_api.c **** 	#define _SetUpscale(...)
 138:Src/vl6180x_api.c **** 	#define DEF_UPSCALE 2
 139:Src/vl6180x_api.c **** #elif VL6180x_UPSCALE_SUPPORT == 3
 140:Src/vl6180x_api.c **** 	#define _GetUpscale(dev, ...)  3
 141:Src/vl6180x_api.c **** 	#define _SetUpscale(...)
 142:Src/vl6180x_api.c **** 	#define DEF_UPSCALE 3
 143:Src/vl6180x_api.c **** #else
 144:Src/vl6180x_api.c **** 	#define DEF_UPSCALE (-(VL6180x_UPSCALE_SUPPORT))
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 4


 145:Src/vl6180x_api.c **** 	#define _GetUpscale(dev, ...) VL6180xDevDataGet(dev, UpscaleFactor)
 146:Src/vl6180x_api.c **** 	#define _SetUpscale(dev, Scaling) VL6180xDevDataSet(dev, UpscaleFactor, Scaling)
 147:Src/vl6180x_api.c **** #endif
 148:Src/vl6180x_api.c **** 
 149:Src/vl6180x_api.c **** 
 150:Src/vl6180x_api.c **** #if VL6180x_SINGLE_DEVICE_DRIVER
 151:Src/vl6180x_api.c **** /**
 152:Src/vl6180x_api.c ****  * the unique driver data  When single device driver is active
 153:Src/vl6180x_api.c ****  */
 154:Src/vl6180x_api.c **** struct VL6180xDevData_t VL6180x_DEV_DATA_ATTR  SingleVL6180xDevData = {
 155:Src/vl6180x_api.c **** 	.EceFactorM        = DEF_ECE_FACTOR_M,
 156:Src/vl6180x_api.c **** 	.EceFactorD        = DEF_ECE_FACTOR_D,
 157:Src/vl6180x_api.c **** #ifdef VL6180x_HAVE_UPSCALE_DATA
 158:Src/vl6180x_api.c **** 	.UpscaleFactor     = DEF_UPSCALE,
 159:Src/vl6180x_api.c **** #endif
 160:Src/vl6180x_api.c **** #ifdef VL6180x_HAVE_ALS_DATA
 161:Src/vl6180x_api.c **** 	.IntegrationPeriod = DEF_INT_PEFRIOD,
 162:Src/vl6180x_api.c **** 	.AlsGainCode       = DEF_ALS_GAIN,
 163:Src/vl6180x_api.c **** 	.AlsScaler         = DEF_ALS_SCALER,
 164:Src/vl6180x_api.c **** #endif
 165:Src/vl6180x_api.c **** #ifdef VL6180x_HAVE_DMAX_RANGING
 166:Src/vl6180x_api.c **** 	.DMaxEnable =   DEF_DMAX_ENABLE,
 167:Src/vl6180x_api.c **** #endif
 168:Src/vl6180x_api.c **** };
 169:Src/vl6180x_api.c **** #endif /* VL6180x_SINGLE_DEVICE_DRIVER */
 170:Src/vl6180x_api.c **** 
 171:Src/vl6180x_api.c **** 
 172:Src/vl6180x_api.c **** 
 173:Src/vl6180x_api.c **** #define Fix7_2_KCPs(x) ((((uint32_t)(x))*1000)>>7)
 174:Src/vl6180x_api.c **** 
 175:Src/vl6180x_api.c **** 
 176:Src/vl6180x_api.c **** #if VL6180x_WRAP_AROUND_FILTER_SUPPORT || VL6180x_HAVE_DMAX_RANGING
 177:Src/vl6180x_api.c **** static int _GetRateResult(VL6180xDev_t dev, VL6180x_RangeData_t *pRangeData);
 178:Src/vl6180x_api.c **** #endif
 179:Src/vl6180x_api.c **** 
 180:Src/vl6180x_api.c **** #if VL6180x_WRAP_AROUND_FILTER_SUPPORT
 181:Src/vl6180x_api.c **** static int _filter_Init(VL6180xDev_t dev);
 182:Src/vl6180x_api.c **** static int _filter_GetResult(VL6180xDev_t dev, VL6180x_RangeData_t *pData);
 183:Src/vl6180x_api.c **** 	#define _IsWrapArroundActive(dev) VL6180xDevDataGet(dev, WrapAroundFilterActive)
 184:Src/vl6180x_api.c **** #else
 185:Src/vl6180x_api.c **** 	#define _IsWrapArroundActive(dev) 0
 186:Src/vl6180x_api.c **** #endif
 187:Src/vl6180x_api.c **** 
 188:Src/vl6180x_api.c **** 
 189:Src/vl6180x_api.c **** #if VL6180x_HAVE_DMAX_RANGING
 190:Src/vl6180x_api.c **** 	void _DMax_OneTimeInit(VL6180xDev_t dev);
 191:Src/vl6180x_api.c **** 	static int _DMax_InitData(VL6180xDev_t dev);
 192:Src/vl6180x_api.c **** 	static int _DMax_Compute(VL6180xDev_t dev, VL6180x_RangeData_t *pRange);
 193:Src/vl6180x_api.c **** 	#define _IsDMaxActive(dev) VL6180xDevDataGet(dev, DMaxEnable)
 194:Src/vl6180x_api.c **** #else
 195:Src/vl6180x_api.c **** 	#define _DMax_InitData(...) 0 /* success */
 196:Src/vl6180x_api.c **** 	#define _DMax_OneTimeInit(...) (void)0
 197:Src/vl6180x_api.c **** 	#define _IsDMaxActive(...) 0
 198:Src/vl6180x_api.c **** #endif
 199:Src/vl6180x_api.c **** 
 200:Src/vl6180x_api.c **** static int VL6180x_RangeStaticInit(VL6180xDev_t dev);
 201:Src/vl6180x_api.c **** static int  VL6180x_UpscaleStaticInit(VL6180xDev_t dev);
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 5


 202:Src/vl6180x_api.c **** 
 203:Src/vl6180x_api.c **** int VL6180x_WaitDeviceBooted(VL6180xDev_t dev)
 204:Src/vl6180x_api.c **** {
 205:Src/vl6180x_api.c **** 	uint8_t FreshOutReset;
 206:Src/vl6180x_api.c **** 	int status;
 207:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 208:Src/vl6180x_api.c **** 	do {
 209:Src/vl6180x_api.c **** 		status = VL6180x_RdByte(dev, SYSTEM_FRESH_OUT_OF_RESET, &FreshOutReset);
 210:Src/vl6180x_api.c **** 	} while (FreshOutReset != 1 && status == 0);
 211:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 212:Src/vl6180x_api.c **** 	return status;
 213:Src/vl6180x_api.c **** }
 214:Src/vl6180x_api.c **** 
 215:Src/vl6180x_api.c **** int VL6180x_InitData(VL6180xDev_t dev)
 216:Src/vl6180x_api.c **** {
 217:Src/vl6180x_api.c **** 	int status, dmax_status ;
 218:Src/vl6180x_api.c **** 	int8_t offset;
 219:Src/vl6180x_api.c **** 	uint8_t FreshOutReset;
 220:Src/vl6180x_api.c **** 	uint32_t CalValue;
 221:Src/vl6180x_api.c **** 	uint16_t u16;
 222:Src/vl6180x_api.c **** 	uint32_t XTalkCompRate_KCps;
 223:Src/vl6180x_api.c **** 
 224:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 225:Src/vl6180x_api.c **** 
 226:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, EceFactorM, DEF_ECE_FACTOR_M);
 227:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, EceFactorD, DEF_ECE_FACTOR_D);
 228:Src/vl6180x_api.c **** 
 229:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, RangeIgnore.Enabled, 0);
 230:Src/vl6180x_api.c **** 
 231:Src/vl6180x_api.c **** #ifdef VL6180x_HAVE_UPSCALE_DATA
 232:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, UpscaleFactor,  DEF_UPSCALE);
 233:Src/vl6180x_api.c **** #endif
 234:Src/vl6180x_api.c **** 
 235:Src/vl6180x_api.c **** #ifdef VL6180x_HAVE_ALS_DATA
 236:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, IntegrationPeriod, DEF_INT_PEFRIOD);
 237:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, AlsGainCode, DEF_ALS_GAIN);
 238:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, AlsScaler, DEF_ALS_SCALER);
 239:Src/vl6180x_api.c **** #endif
 240:Src/vl6180x_api.c **** 
 241:Src/vl6180x_api.c **** #ifdef VL6180x_HAVE_WRAP_AROUND_DATA
 242:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, WrapAroundFilterActive, (VL6180x_WRAP_AROUND_FILTER_SUPPORT > 0));
 243:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, DMaxEnable, DEF_DMAX_ENABLE);
 244:Src/vl6180x_api.c **** #endif
 245:Src/vl6180x_api.c **** 
 246:Src/vl6180x_api.c **** 	_DMax_OneTimeInit(dev);
 247:Src/vl6180x_api.c **** 	do {
 248:Src/vl6180x_api.c **** 
 249:Src/vl6180x_api.c **** 		/* backup offset initial value from nvm these must be done prior any over call that use offset */
 250:Src/vl6180x_api.c **** 		status = VL6180x_RdByte(dev, SYSRANGE_PART_TO_PART_RANGE_OFFSET, (uint8_t *)&offset);
 251:Src/vl6180x_api.c **** 		if (status) {
 252:Src/vl6180x_api.c **** 			VL6180x_ErrLog("SYSRANGE_PART_TO_PART_RANGE_OFFSET rd fail");
 253:Src/vl6180x_api.c **** 			break;
 254:Src/vl6180x_api.c **** 		}
 255:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, Part2PartOffsetNVM, offset);
 256:Src/vl6180x_api.c **** 
 257:Src/vl6180x_api.c **** 		status = VL6180x_RdDWord(dev, SYSRANGE_RANGE_IGNORE_THRESHOLD, &CalValue);
 258:Src/vl6180x_api.c **** 		if (status) {
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 6


 259:Src/vl6180x_api.c **** 			VL6180x_ErrLog("Part2PartAmbNVM rd fail");
 260:Src/vl6180x_api.c **** 			break;
 261:Src/vl6180x_api.c **** 		}
 262:Src/vl6180x_api.c **** 		if ((CalValue&0xFFFF0000) == 0) {
 263:Src/vl6180x_api.c **** 			CalValue = 0x00CE03F8;
 264:Src/vl6180x_api.c **** 		}
 265:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, Part2PartAmbNVM, CalValue);
 266:Src/vl6180x_api.c **** 
 267:Src/vl6180x_api.c **** 		status = VL6180x_RdWord(dev, SYSRANGE_CROSSTALK_COMPENSATION_RATE , &u16);
 268:Src/vl6180x_api.c **** 		if (status) {
 269:Src/vl6180x_api.c **** 			VL6180x_ErrLog("SYSRANGE_CROSSTALK_COMPENSATION_RATE rd fail ");
 270:Src/vl6180x_api.c **** 			break;
 271:Src/vl6180x_api.c **** 		}
 272:Src/vl6180x_api.c **** 		XTalkCompRate_KCps = Fix7_2_KCPs(u16);
 273:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, XTalkCompRate_KCps, XTalkCompRate_KCps);
 274:Src/vl6180x_api.c **** 
 275:Src/vl6180x_api.c **** 		dmax_status = _DMax_InitData(dev);
 276:Src/vl6180x_api.c **** 		if (dmax_status < 0) {
 277:Src/vl6180x_api.c **** 			VL6180x_ErrLog("DMax init failure");
 278:Src/vl6180x_api.c **** 			break;
 279:Src/vl6180x_api.c **** 		}
 280:Src/vl6180x_api.c **** 
 281:Src/vl6180x_api.c **** 		/* Read or wait for fresh out of reset  */
 282:Src/vl6180x_api.c **** 		status = VL6180x_RdByte(dev, SYSTEM_FRESH_OUT_OF_RESET, &FreshOutReset);
 283:Src/vl6180x_api.c **** 		if (status) {
 284:Src/vl6180x_api.c **** 			VL6180x_ErrLog("SYSTEM_FRESH_OUT_OF_RESET rd fail");
 285:Src/vl6180x_api.c **** 			break;
 286:Src/vl6180x_api.c **** 		}
 287:Src/vl6180x_api.c **** 		if (FreshOutReset != 1 || dmax_status)
 288:Src/vl6180x_api.c **** 			status = CALIBRATION_WARNING;
 289:Src/vl6180x_api.c **** 
 290:Src/vl6180x_api.c **** 	} while (0);
 291:Src/vl6180x_api.c **** 
 292:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 293:Src/vl6180x_api.c **** 	return status;
 294:Src/vl6180x_api.c **** }
 295:Src/vl6180x_api.c **** 
 296:Src/vl6180x_api.c **** int8_t VL6180x_GetOffsetCalibrationData(VL6180xDev_t dev)
 297:Src/vl6180x_api.c **** {
 298:Src/vl6180x_api.c **** 	int8_t offset;
 299:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 300:Src/vl6180x_api.c **** 	offset = VL6180xDevDataGet(dev, Part2PartOffsetNVM);
 301:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(offset);
 302:Src/vl6180x_api.c **** 	return offset;
 303:Src/vl6180x_api.c **** }
 304:Src/vl6180x_api.c **** 
 305:Src/vl6180x_api.c **** int  VL6180x_SetOffsetCalibrationData(VL6180xDev_t dev, int8_t offset)
 306:Src/vl6180x_api.c **** {
 307:Src/vl6180x_api.c **** 	int status;
 308:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", offset);
 309:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, Part2PartOffsetNVM, offset);
 310:Src/vl6180x_api.c **** 	offset /= _GetUpscale(dev);
 311:Src/vl6180x_api.c **** 	status = VL6180x_WrByte(dev, SYSRANGE_PART_TO_PART_RANGE_OFFSET, offset);
 312:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 313:Src/vl6180x_api.c **** 	return status;
 314:Src/vl6180x_api.c **** }
 315:Src/vl6180x_api.c **** 
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 7


 316:Src/vl6180x_api.c **** int  VL6180x_SetXTalkCompensationRate(VL6180xDev_t dev, FixPoint97_t Rate)
 317:Src/vl6180x_api.c **** {
 318:Src/vl6180x_api.c **** 	int status;
 319:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", Rate);
 320:Src/vl6180x_api.c **** 	status = VL6180x_WrWord(dev, SYSRANGE_CROSSTALK_COMPENSATION_RATE, Rate);
 321:Src/vl6180x_api.c **** 	if (status == 0) {
 322:Src/vl6180x_api.c **** 		uint32_t XTalkCompRate_KCps;
 323:Src/vl6180x_api.c **** 		XTalkCompRate_KCps = Fix7_2_KCPs(Rate);
 324:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, XTalkCompRate_KCps, XTalkCompRate_KCps);
 325:Src/vl6180x_api.c **** 		/* update dmax whenever xtalk rate changes */
 326:Src/vl6180x_api.c **** 		status = _DMax_InitData(dev);
 327:Src/vl6180x_api.c **** 	}
 328:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 329:Src/vl6180x_api.c **** 	return status;
 330:Src/vl6180x_api.c **** }
 331:Src/vl6180x_api.c **** 
 332:Src/vl6180x_api.c **** int VL6180x_SetI2CAddress(VL6180xDev_t dev, uint8_t NewAddress)
 333:Src/vl6180x_api.c **** {
 334:Src/vl6180x_api.c **** 	int status;
 335:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 336:Src/vl6180x_api.c **** 
 337:Src/vl6180x_api.c **** 	status = VL6180x_WrByte(dev, I2C_SLAVE_DEVICE_ADDRESS, NewAddress / 2);
 338:Src/vl6180x_api.c **** 	if (status) {
 339:Src/vl6180x_api.c **** 		VL6180x_ErrLog("new i2c addr Wr fail");
 340:Src/vl6180x_api.c **** 	}
 341:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 342:Src/vl6180x_api.c **** 	return status;
 343:Src/vl6180x_api.c **** }
 344:Src/vl6180x_api.c **** 
 345:Src/vl6180x_api.c **** uint16_t VL6180x_GetUpperLimit(VL6180xDev_t dev)
 346:Src/vl6180x_api.c **** {
 347:Src/vl6180x_api.c **** 	uint16_t limit;
 348:Src/vl6180x_api.c **** 	int scaling;
 349:Src/vl6180x_api.c **** 
 350:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 351:Src/vl6180x_api.c **** 
 352:Src/vl6180x_api.c **** 	scaling = _GetUpscale(dev);
 353:Src/vl6180x_api.c **** 	/* FIXME we do assume here _GetUpscale is valid if  user call us prior to init we may overflow the
 354:Src/vl6180x_api.c **** 	limit = UpperLimitLookUP[scaling - 1];
 355:Src/vl6180x_api.c **** 
 356:Src/vl6180x_api.c **** 	LOG_FUNCTION_END((int)limit);
 357:Src/vl6180x_api.c **** 	return limit;
 358:Src/vl6180x_api.c **** }
 359:Src/vl6180x_api.c **** 
 360:Src/vl6180x_api.c **** 
 361:Src/vl6180x_api.c **** 
 362:Src/vl6180x_api.c **** int VL6180x_StaticInit(VL6180xDev_t dev)
 363:Src/vl6180x_api.c **** {
 364:Src/vl6180x_api.c **** 	int status = 0, init_status;
 365:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 366:Src/vl6180x_api.c **** 
 367:Src/vl6180x_api.c **** 	/* TODO doc When using configurable scaling but using 1x as start condition
 368:Src/vl6180x_api.c **** 	 * load tunning upscale  or not ??? */
 369:Src/vl6180x_api.c **** 	if (_GetUpscale(dev) == 1 && !(VL6180x_UPSCALE_SUPPORT < 0))
 370:Src/vl6180x_api.c **** 		init_status = VL6180x_RangeStaticInit(dev);
 371:Src/vl6180x_api.c **** 	else
 372:Src/vl6180x_api.c **** 		init_status = VL6180x_UpscaleStaticInit(dev);
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 8


 373:Src/vl6180x_api.c **** 
 374:Src/vl6180x_api.c **** 	if (init_status < 0) {
 375:Src/vl6180x_api.c **** 		VL6180x_ErrLog("StaticInit fail");
 376:Src/vl6180x_api.c **** 		goto error;
 377:Src/vl6180x_api.c **** 	} else if (init_status > 0) {
 378:Src/vl6180x_api.c **** 		VL6180x_ErrLog("StaticInit warning");
 379:Src/vl6180x_api.c **** 	}
 380:Src/vl6180x_api.c **** 
 381:Src/vl6180x_api.c **** 	#if REFRESH_CACHED_DATA_AFTER_INIT
 382:Src/vl6180x_api.c **** 	#ifdef VL6180x_HAVE_ALS_DATA
 383:Src/vl6180x_api.c **** 	/* update cached value after tuning applied */
 384:Src/vl6180x_api.c **** 	do {
 385:Src/vl6180x_api.c **** 		uint8_t data;
 386:Src/vl6180x_api.c **** 		status =  VL6180x_RdByte(dev, FW_ALS_RESULT_SCALER, &data);
 387:Src/vl6180x_api.c **** 		if (status)
 388:Src/vl6180x_api.c **** 			break;
 389:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, AlsScaler, data);
 390:Src/vl6180x_api.c **** 
 391:Src/vl6180x_api.c **** 		status =  VL6180x_RdByte(dev, SYSALS_ANALOGUE_GAIN, &data);
 392:Src/vl6180x_api.c **** 		if (status)
 393:Src/vl6180x_api.c **** 			break;
 394:Src/vl6180x_api.c **** 		VL6180x_AlsSetAnalogueGain(dev, data);
 395:Src/vl6180x_api.c **** 	} while (0);
 396:Src/vl6180x_api.c **** 	#endif
 397:Src/vl6180x_api.c **** 	#endif /* REFRESH_CACHED_DATA_AFTER_INIT */
 398:Src/vl6180x_api.c **** 	if (status < 0) {
 399:Src/vl6180x_api.c **** 		VL6180x_ErrLog("StaticInit fail");
 400:Src/vl6180x_api.c **** 	}
 401:Src/vl6180x_api.c **** 	if (!status && init_status) {
 402:Src/vl6180x_api.c **** 		status = init_status;
 403:Src/vl6180x_api.c **** 	}
 404:Src/vl6180x_api.c **** error:
 405:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 406:Src/vl6180x_api.c **** 	return status;
 407:Src/vl6180x_api.c **** }
 408:Src/vl6180x_api.c **** 
 409:Src/vl6180x_api.c **** 
 410:Src/vl6180x_api.c **** int VL6180x_SetGroupParamHold(VL6180xDev_t dev, int Hold)
 411:Src/vl6180x_api.c **** {
 412:Src/vl6180x_api.c **** 	int status;
 413:Src/vl6180x_api.c **** 	uint8_t value;
 414:Src/vl6180x_api.c **** 
 415:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", Hold);
 416:Src/vl6180x_api.c **** 	if (Hold)
 417:Src/vl6180x_api.c **** 		value = 1;
 418:Src/vl6180x_api.c **** 	else
 419:Src/vl6180x_api.c **** 		value = 0;
 420:Src/vl6180x_api.c **** 	status = VL6180x_WrByte(dev, SYSTEM_GROUPED_PARAMETER_HOLD, value);
 421:Src/vl6180x_api.c **** 
 422:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 423:Src/vl6180x_api.c **** 	return status;
 424:Src/vl6180x_api.c **** 
 425:Src/vl6180x_api.c **** }
 426:Src/vl6180x_api.c **** 
 427:Src/vl6180x_api.c **** int VL6180x_Prepare(VL6180xDev_t dev)
 428:Src/vl6180x_api.c **** {
 429:Src/vl6180x_api.c **** 	int status;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 9


 430:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 431:Src/vl6180x_api.c **** 
 432:Src/vl6180x_api.c **** 	do {
 433:Src/vl6180x_api.c **** 		status = VL6180x_StaticInit(dev);
 434:Src/vl6180x_api.c **** 		if (status < 0)
 435:Src/vl6180x_api.c **** 			break;
 436:Src/vl6180x_api.c **** 
 437:Src/vl6180x_api.c **** 		/* set range InterruptMode to new sample */
 438:Src/vl6180x_api.c **** 		status = VL6180x_RangeConfigInterrupt(dev, CONFIG_GPIO_INTERRUPT_NEW_SAMPLE_READY);
 439:Src/vl6180x_api.c **** 		if (status)
 440:Src/vl6180x_api.c **** 			break;
 441:Src/vl6180x_api.c **** 
 442:Src/vl6180x_api.c **** 		/* set default threshold */
 443:Src/vl6180x_api.c **** 		status = VL6180x_RangeSetRawThresholds(dev, 10, 200);
 444:Src/vl6180x_api.c **** 		if (status) {
 445:Src/vl6180x_api.c **** 			VL6180x_ErrLog("VL6180x_RangeSetRawThresholds fail");
 446:Src/vl6180x_api.c **** 			break;
 447:Src/vl6180x_api.c **** 		}
 448:Src/vl6180x_api.c **** 	#if VL6180x_ALS_SUPPORT
 449:Src/vl6180x_api.c **** 		status = VL6180x_AlsSetIntegrationPeriod(dev, 100);
 450:Src/vl6180x_api.c **** 		if (status)
 451:Src/vl6180x_api.c **** 			break;
 452:Src/vl6180x_api.c **** 		status = VL6180x_AlsSetInterMeasurementPeriod(dev,  200);
 453:Src/vl6180x_api.c **** 		if (status)
 454:Src/vl6180x_api.c **** 			break;
 455:Src/vl6180x_api.c **** 		status = VL6180x_AlsSetAnalogueGain(dev,  0);
 456:Src/vl6180x_api.c **** 		if (status)
 457:Src/vl6180x_api.c **** 			break;
 458:Src/vl6180x_api.c **** 		status = VL6180x_AlsSetThresholds(dev, 0, 0xFF);
 459:Src/vl6180x_api.c **** 		if (status)
 460:Src/vl6180x_api.c **** 			break;
 461:Src/vl6180x_api.c **** 		/* set Als InterruptMode to new sample */
 462:Src/vl6180x_api.c **** 		status = VL6180x_AlsConfigInterrupt(dev, CONFIG_GPIO_INTERRUPT_NEW_SAMPLE_READY);
 463:Src/vl6180x_api.c **** 		if (status) {
 464:Src/vl6180x_api.c **** 			VL6180x_ErrLog("VL6180x_AlsConfigInterrupt fail");
 465:Src/vl6180x_api.c **** 			break;
 466:Src/vl6180x_api.c **** 		}
 467:Src/vl6180x_api.c **** 	#endif
 468:Src/vl6180x_api.c **** 	#if VL6180x_WRAP_AROUND_FILTER_SUPPORT
 469:Src/vl6180x_api.c **** 		_filter_Init(dev);
 470:Src/vl6180x_api.c **** 	#endif
 471:Src/vl6180x_api.c **** 		/* make sure to reset any left previous condition that can hangs first poll */
 472:Src/vl6180x_api.c **** 		status = VL6180x_ClearAllInterrupt(dev);
 473:Src/vl6180x_api.c **** 	} while (0);
 474:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 475:Src/vl6180x_api.c **** 
 476:Src/vl6180x_api.c **** 	return status;
 477:Src/vl6180x_api.c **** }
 478:Src/vl6180x_api.c **** 
 479:Src/vl6180x_api.c **** #if VL6180x_ALS_SUPPORT
 480:Src/vl6180x_api.c **** int VL6180x_AlsGetLux(VL6180xDev_t dev, lux_t *pLux)
 481:Src/vl6180x_api.c **** {
 482:Src/vl6180x_api.c **** 	int status;
 483:Src/vl6180x_api.c **** 	uint16_t RawAls;
 484:Src/vl6180x_api.c **** 	uint32_t luxValue = 0;
 485:Src/vl6180x_api.c **** 	uint32_t IntPeriod;
 486:Src/vl6180x_api.c **** 	uint32_t AlsAnGain;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 10


 487:Src/vl6180x_api.c **** 	uint32_t GainFix;
 488:Src/vl6180x_api.c **** 	uint32_t AlsScaler;
 489:Src/vl6180x_api.c **** 
 490:Src/vl6180x_api.c **** 	#if LUXRES_FIX_PREC !=  GAIN_FIX_PREC
 491:Src/vl6180x_api.c **** 	#error "LUXRES_FIX_PREC != GAIN_FIX_PREC  review these code to be correct"
 492:Src/vl6180x_api.c **** 	#endif
 493:Src/vl6180x_api.c **** 	const uint32_t LuxResxIntIme = (uint32_t)(0.56f * DEF_INT_PEFRIOD * (1 << LUXRES_FIX_PREC));
 494:Src/vl6180x_api.c **** 
 495:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%p", pLux);
 496:Src/vl6180x_api.c **** 
 497:Src/vl6180x_api.c **** 	status = VL6180x_RdWord(dev, RESULT_ALS_VAL, &RawAls);
 498:Src/vl6180x_api.c **** 	if (!status) {
 499:Src/vl6180x_api.c **** 		/* wer are yet here at no fix point */
 500:Src/vl6180x_api.c **** 		IntPeriod = VL6180xDevDataGet(dev, IntegrationPeriod);
 501:Src/vl6180x_api.c **** 		AlsScaler = VL6180xDevDataGet(dev, AlsScaler);
 502:Src/vl6180x_api.c **** 		IntPeriod++; /* what stored is real time  ms -1 and it can be 0 for or 0 or 1ms */
 503:Src/vl6180x_api.c **** 		luxValue = (uint32_t)RawAls * LuxResxIntIme; /* max # 16+8bits + 6bit (0.56*100)  */
 504:Src/vl6180x_api.c **** 		luxValue /= IntPeriod;                         /* max # 16+8bits + 6bit 16+8+1 to 9 bit */
 505:Src/vl6180x_api.c **** 		/* between  29 - 21 bit */
 506:Src/vl6180x_api.c **** 		AlsAnGain = VL6180xDevDataGet(dev, AlsGainCode);
 507:Src/vl6180x_api.c **** 		GainFix = AlsGainLookUp[AlsAnGain];
 508:Src/vl6180x_api.c **** 		luxValue = luxValue / (AlsScaler * GainFix);
 509:Src/vl6180x_api.c **** 		*pLux = luxValue;
 510:Src/vl6180x_api.c **** 	}
 511:Src/vl6180x_api.c **** 
 512:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%x", (int)*pLux);
 513:Src/vl6180x_api.c **** 	return status;
 514:Src/vl6180x_api.c **** }
 515:Src/vl6180x_api.c **** 
 516:Src/vl6180x_api.c **** int VL6180x_AlsGetMeasurement(VL6180xDev_t dev, VL6180x_AlsData_t *pAlsData)
 517:Src/vl6180x_api.c **** {
 518:Src/vl6180x_api.c **** 	int status;
 519:Src/vl6180x_api.c **** 	uint8_t ErrStatus;
 520:Src/vl6180x_api.c **** 
 521:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%p", pAlsData);
 522:Src/vl6180x_api.c **** 
 523:Src/vl6180x_api.c **** 	status = VL6180x_AlsGetLux(dev, &pAlsData->lux);
 524:Src/vl6180x_api.c **** 	if (!status) {
 525:Src/vl6180x_api.c **** 		status = VL6180x_RdByte(dev, RESULT_ALS_STATUS, &ErrStatus);
 526:Src/vl6180x_api.c **** 		pAlsData->errorStatus = ErrStatus >> 4;
 527:Src/vl6180x_api.c **** 	}
 528:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d %d", (int)pAlsData->lux,  (int)pAlsData->errorStatus);
 529:Src/vl6180x_api.c **** 
 530:Src/vl6180x_api.c **** 	return status;
 531:Src/vl6180x_api.c **** }
 532:Src/vl6180x_api.c **** 
 533:Src/vl6180x_api.c **** 
 534:Src/vl6180x_api.c **** int VL6180x_AlsPollMeasurement(VL6180xDev_t dev, VL6180x_AlsData_t *pAlsData)
 535:Src/vl6180x_api.c **** {
 536:Src/vl6180x_api.c **** 	int status;
 537:Src/vl6180x_api.c **** 	int ClrStatus;
 538:Src/vl6180x_api.c **** 	uint8_t IntStatus;
 539:Src/vl6180x_api.c **** 
 540:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%p", pAlsData);
 541:Src/vl6180x_api.c **** 	#if VL6180X_SAFE_POLLING_ENTER
 542:Src/vl6180x_api.c **** 	/* if device get stopped with left interrupt uncleared , it is required to clear them now or poll 
 543:Src/vl6180x_api.c **** 	status = VL6180x_AlsClearInterrupt(dev);
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 11


 544:Src/vl6180x_api.c **** 	if (status) {
 545:Src/vl6180x_api.c **** 		VL6180x_ErrLog("VL6180x_AlsClearInterrupt fail");
 546:Src/vl6180x_api.c **** 		goto over;
 547:Src/vl6180x_api.c **** 	}
 548:Src/vl6180x_api.c **** 	#endif
 549:Src/vl6180x_api.c **** 
 550:Src/vl6180x_api.c **** 	status = VL6180x_AlsSetSystemMode(dev, MODE_START_STOP | MODE_SINGLESHOT);
 551:Src/vl6180x_api.c **** 	if (status) {
 552:Src/vl6180x_api.c **** 		VL6180x_ErrLog("VL6180x_AlsSetSystemMode fail");
 553:Src/vl6180x_api.c **** 		goto over;
 554:Src/vl6180x_api.c **** 	}
 555:Src/vl6180x_api.c **** 
 556:Src/vl6180x_api.c **** 	/* poll for new sample ready */
 557:Src/vl6180x_api.c **** 	while (1) {
 558:Src/vl6180x_api.c **** 		status = VL6180x_AlsGetInterruptStatus(dev, &IntStatus);
 559:Src/vl6180x_api.c **** 		if (status) {
 560:Src/vl6180x_api.c **** 			break;
 561:Src/vl6180x_api.c **** 		}
 562:Src/vl6180x_api.c **** 		if (IntStatus == RES_INT_STAT_GPIO_NEW_SAMPLE_READY) {
 563:Src/vl6180x_api.c **** 			break; /* break on new data (status is 0)  */
 564:Src/vl6180x_api.c **** 		}
 565:Src/vl6180x_api.c **** 
 566:Src/vl6180x_api.c **** 		VL6180x_PollDelay(dev);
 567:Src/vl6180x_api.c **** 	};
 568:Src/vl6180x_api.c **** 
 569:Src/vl6180x_api.c **** 	if (!status) {
 570:Src/vl6180x_api.c **** 		status = VL6180x_AlsGetMeasurement(dev, pAlsData);
 571:Src/vl6180x_api.c **** 	}
 572:Src/vl6180x_api.c **** 
 573:Src/vl6180x_api.c **** 	ClrStatus = VL6180x_AlsClearInterrupt(dev);
 574:Src/vl6180x_api.c **** 	if (ClrStatus) {
 575:Src/vl6180x_api.c **** 		VL6180x_ErrLog("VL6180x_AlsClearInterrupt fail");
 576:Src/vl6180x_api.c **** 		if (!status) {
 577:Src/vl6180x_api.c **** 		    status = ClrStatus; /* leave previous if already on error */
 578:Src/vl6180x_api.c **** 		}
 579:Src/vl6180x_api.c **** 	}
 580:Src/vl6180x_api.c **** over:
 581:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 582:Src/vl6180x_api.c **** 
 583:Src/vl6180x_api.c **** 	return status;
 584:Src/vl6180x_api.c **** }
 585:Src/vl6180x_api.c **** 
 586:Src/vl6180x_api.c **** int VL6180x_AlsGetInterruptStatus(VL6180xDev_t dev, uint8_t *pIntStatus)
 587:Src/vl6180x_api.c **** {
 588:Src/vl6180x_api.c **** 	int status;
 589:Src/vl6180x_api.c **** 	uint8_t IntStatus;
 590:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%p", pIntStatus);
 591:Src/vl6180x_api.c **** 
 592:Src/vl6180x_api.c **** 	status = VL6180x_RdByte(dev, RESULT_INTERRUPT_STATUS_GPIO, &IntStatus);
 593:Src/vl6180x_api.c **** 	*pIntStatus = (IntStatus >> 3) & 0x07;
 594:Src/vl6180x_api.c **** 
 595:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", (int)*pIntStatus);
 596:Src/vl6180x_api.c **** 	return status;
 597:Src/vl6180x_api.c **** }
 598:Src/vl6180x_api.c **** 
 599:Src/vl6180x_api.c **** int VL6180x_AlsWaitDeviceReady(VL6180xDev_t dev, int MaxLoop)
 600:Src/vl6180x_api.c **** {
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 12


 601:Src/vl6180x_api.c **** 	int status;
 602:Src/vl6180x_api.c **** 	int  n;
 603:Src/vl6180x_api.c **** 	uint8_t u8;
 604:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", (int)MaxLoop);
 605:Src/vl6180x_api.c **** 	if (MaxLoop < 1) {
 606:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
 607:Src/vl6180x_api.c **** 	} else {
 608:Src/vl6180x_api.c **** 		for (n = 0; n < MaxLoop; n++) {
 609:Src/vl6180x_api.c **** 			status = VL6180x_RdByte(dev, RESULT_ALS_STATUS, &u8);
 610:Src/vl6180x_api.c **** 			if (status)
 611:Src/vl6180x_api.c **** 				break;
 612:Src/vl6180x_api.c **** 			u8 = u8 & ALS_DEVICE_READY_MASK;
 613:Src/vl6180x_api.c **** 			if (u8)
 614:Src/vl6180x_api.c **** 				break;
 615:Src/vl6180x_api.c **** 
 616:Src/vl6180x_api.c **** 		}
 617:Src/vl6180x_api.c **** 		if (!status && !u8) {
 618:Src/vl6180x_api.c **** 			status = TIME_OUT;
 619:Src/vl6180x_api.c **** 		}
 620:Src/vl6180x_api.c **** 	}
 621:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 622:Src/vl6180x_api.c **** 	return status;
 623:Src/vl6180x_api.c **** }
 624:Src/vl6180x_api.c **** 
 625:Src/vl6180x_api.c **** int VL6180x_AlsSetSystemMode(VL6180xDev_t dev, uint8_t mode)
 626:Src/vl6180x_api.c **** {
 627:Src/vl6180x_api.c **** 	int status;
 628:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", (int)mode);
 629:Src/vl6180x_api.c **** 	/* FIXME if we are called back to back real fast we are not checking
 630:Src/vl6180x_api.c **** 	 * if previous mode "set" got absorbed => bit 0 must be 0 so that wr 1 work */
 631:Src/vl6180x_api.c **** 	if (mode <= 3) {
 632:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSALS_START, mode);
 633:Src/vl6180x_api.c **** 	} else {
 634:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
 635:Src/vl6180x_api.c **** 	}
 636:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 637:Src/vl6180x_api.c **** 	return status;
 638:Src/vl6180x_api.c **** }
 639:Src/vl6180x_api.c **** 
 640:Src/vl6180x_api.c **** int VL6180x_AlsConfigInterrupt(VL6180xDev_t dev, uint8_t ConfigGpioInt)
 641:Src/vl6180x_api.c **** {
 642:Src/vl6180x_api.c **** 	int status;
 643:Src/vl6180x_api.c **** 
 644:Src/vl6180x_api.c **** 	if (ConfigGpioInt <= CONFIG_GPIO_INTERRUPT_NEW_SAMPLE_READY) {
 645:Src/vl6180x_api.c **** 		status = VL6180x_UpdateByte(dev, SYSTEM_INTERRUPT_CONFIG_GPIO, (uint8_t)(~CONFIG_GPIO_ALS_MASK), 
 646:Src/vl6180x_api.c **** 	} else {
 647:Src/vl6180x_api.c **** 		VL6180x_ErrLog("Invalid config mode param %d", (int)ConfigGpioInt);
 648:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
 649:Src/vl6180x_api.c **** 	}
 650:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 651:Src/vl6180x_api.c **** 	return status;
 652:Src/vl6180x_api.c **** }
 653:Src/vl6180x_api.c **** 
 654:Src/vl6180x_api.c **** 
 655:Src/vl6180x_api.c **** 
 656:Src/vl6180x_api.c **** int VL6180x_AlsSetThresholds(VL6180xDev_t dev, uint8_t low, uint8_t high)
 657:Src/vl6180x_api.c **** {
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 13


 658:Src/vl6180x_api.c **** 	int status;
 659:Src/vl6180x_api.c **** 
 660:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d %d", (int)low, (int)high);
 661:Src/vl6180x_api.c **** 
 662:Src/vl6180x_api.c **** 	status = VL6180x_WrByte(dev, SYSALS_THRESH_LOW, low);
 663:Src/vl6180x_api.c **** 	if (!status) {
 664:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSALS_THRESH_HIGH, high);
 665:Src/vl6180x_api.c **** 	}
 666:Src/vl6180x_api.c **** 
 667:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status) ;
 668:Src/vl6180x_api.c **** 	return status;
 669:Src/vl6180x_api.c **** }
 670:Src/vl6180x_api.c **** 
 671:Src/vl6180x_api.c **** 
 672:Src/vl6180x_api.c **** int VL6180x_AlsSetAnalogueGain(VL6180xDev_t dev, uint8_t gain)
 673:Src/vl6180x_api.c **** {
 674:Src/vl6180x_api.c **** 	int status;
 675:Src/vl6180x_api.c **** 	uint8_t GainTotal;
 676:Src/vl6180x_api.c **** 
 677:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", (int)gain);
 678:Src/vl6180x_api.c **** 	gain &= ~0x40;
 679:Src/vl6180x_api.c **** 	if (gain > 7) {
 680:Src/vl6180x_api.c **** 		gain = 7;
 681:Src/vl6180x_api.c **** 	}
 682:Src/vl6180x_api.c **** 	GainTotal = gain | 0x40;
 683:Src/vl6180x_api.c **** 
 684:Src/vl6180x_api.c **** 	status = VL6180x_WrByte(dev, SYSALS_ANALOGUE_GAIN, GainTotal);
 685:Src/vl6180x_api.c **** 	if (!status) {
 686:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, AlsGainCode, gain);
 687:Src/vl6180x_api.c **** 	}
 688:Src/vl6180x_api.c **** 
 689:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d %d", (int)gain, (int)GainTotal);
 690:Src/vl6180x_api.c **** 	return status;
 691:Src/vl6180x_api.c **** }
 692:Src/vl6180x_api.c **** 
 693:Src/vl6180x_api.c **** int VL6180x_AlsSetInterMeasurementPeriod(VL6180xDev_t dev,  uint16_t intermeasurement_period_ms)
 694:Src/vl6180x_api.c **** {
 695:Src/vl6180x_api.c **** 	int status;
 696:Src/vl6180x_api.c **** 
 697:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", (int)intermeasurement_period_ms);
 698:Src/vl6180x_api.c **** 	/* clipping: range is 0-2550ms */
 699:Src/vl6180x_api.c **** 	if (intermeasurement_period_ms >= 255 * 10)
 700:Src/vl6180x_api.c **** 		intermeasurement_period_ms = 255 * 10;
 701:Src/vl6180x_api.c **** 	status = VL6180x_WrByte(dev, SYSALS_INTERMEASUREMENT_PERIOD, (uint8_t)(intermeasurement_period_ms 
 702:Src/vl6180x_api.c **** 
 703:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", (int)intermeasurement_period_ms);
 704:Src/vl6180x_api.c **** 	return status;
 705:Src/vl6180x_api.c **** }
 706:Src/vl6180x_api.c **** 
 707:Src/vl6180x_api.c **** 
 708:Src/vl6180x_api.c **** int VL6180x_AlsSetIntegrationPeriod(VL6180xDev_t dev, uint16_t period_ms)
 709:Src/vl6180x_api.c **** {
 710:Src/vl6180x_api.c **** 	int status;
 711:Src/vl6180x_api.c **** 	uint16_t SetIntegrationPeriod;
 712:Src/vl6180x_api.c **** 
 713:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", (int)period_ms);
 714:Src/vl6180x_api.c **** 
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 14


 715:Src/vl6180x_api.c **** 	if (period_ms >= 1)
 716:Src/vl6180x_api.c **** 		SetIntegrationPeriod = period_ms - 1;
 717:Src/vl6180x_api.c **** 	else
 718:Src/vl6180x_api.c **** 		SetIntegrationPeriod = period_ms;
 719:Src/vl6180x_api.c **** 
 720:Src/vl6180x_api.c **** 	if (SetIntegrationPeriod > 464) {
 721:Src/vl6180x_api.c **** 		SetIntegrationPeriod = 464;
 722:Src/vl6180x_api.c **** 	} else if (SetIntegrationPeriod == 255)   {
 723:Src/vl6180x_api.c **** 		SetIntegrationPeriod++; /* can't write 255 since this causes the device to lock out.*/
 724:Src/vl6180x_api.c **** 	}
 725:Src/vl6180x_api.c **** 
 726:Src/vl6180x_api.c **** 	status = VL6180x_WrWord(dev, SYSALS_INTEGRATION_PERIOD, SetIntegrationPeriod);
 727:Src/vl6180x_api.c **** 	if (!status) {
 728:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, IntegrationPeriod, SetIntegrationPeriod) ;
 729:Src/vl6180x_api.c **** 	}
 730:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", (int)SetIntegrationPeriod);
 731:Src/vl6180x_api.c **** 	return status;
 732:Src/vl6180x_api.c **** }
 733:Src/vl6180x_api.c **** 
 734:Src/vl6180x_api.c **** #endif /* HAVE_ALS_SUPPORT */
 735:Src/vl6180x_api.c **** 
 736:Src/vl6180x_api.c **** 
 737:Src/vl6180x_api.c **** int VL6180x_RangePollMeasurement(VL6180xDev_t dev, VL6180x_RangeData_t *pRangeData)
 738:Src/vl6180x_api.c **** {
 739:Src/vl6180x_api.c **** 	int status;
 740:Src/vl6180x_api.c **** 	int ClrStatus;
 741:Src/vl6180x_api.c **** 	IntrStatus_t IntStatus;
 742:Src/vl6180x_api.c **** 
 743:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 744:Src/vl6180x_api.c **** 	/* start single range measurement */
 745:Src/vl6180x_api.c **** 
 746:Src/vl6180x_api.c **** 
 747:Src/vl6180x_api.c **** 	#if VL6180X_SAFE_POLLING_ENTER
 748:Src/vl6180x_api.c **** 	/* if device get stopped with left interrupt uncleared , it is required to clear them now or poll 
 749:Src/vl6180x_api.c **** 	status = VL6180x_RangeClearInterrupt(dev);
 750:Src/vl6180x_api.c **** 	if (status) {
 751:Src/vl6180x_api.c **** 		VL6180x_ErrLog("VL6180x_RangeClearInterrupt fail");
 752:Src/vl6180x_api.c **** 		goto done;
 753:Src/vl6180x_api.c **** 	}
 754:Src/vl6180x_api.c **** 	#endif
 755:Src/vl6180x_api.c **** 	/* //![single_shot_snipet] */
 756:Src/vl6180x_api.c **** 	status = VL6180x_RangeSetSystemMode(dev, MODE_START_STOP | MODE_SINGLESHOT);
 757:Src/vl6180x_api.c **** 	if (status) {
 758:Src/vl6180x_api.c **** 		VL6180x_ErrLog("VL6180x_RangeSetSystemMode fail");
 759:Src/vl6180x_api.c **** 		goto done;
 760:Src/vl6180x_api.c **** 	}
 761:Src/vl6180x_api.c **** 
 762:Src/vl6180x_api.c **** 
 763:Src/vl6180x_api.c **** 	/* poll for new sample ready */
 764:Src/vl6180x_api.c **** 	while (1) {
 765:Src/vl6180x_api.c **** 		status = VL6180x_RangeGetInterruptStatus(dev, &IntStatus.val);
 766:Src/vl6180x_api.c **** 		if (status) {
 767:Src/vl6180x_api.c **** 			break;
 768:Src/vl6180x_api.c **** 		}
 769:Src/vl6180x_api.c **** 		if (IntStatus.status.Range == RES_INT_STAT_GPIO_NEW_SAMPLE_READY || IntStatus.status.Error != 0) 
 770:Src/vl6180x_api.c **** 			break;
 771:Src/vl6180x_api.c **** 		}
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 15


 772:Src/vl6180x_api.c **** 
 773:Src/vl6180x_api.c **** 		VL6180x_PollDelay(dev);
 774:Src/vl6180x_api.c **** 	}
 775:Src/vl6180x_api.c **** 	/* //![single_shot_snipet] */
 776:Src/vl6180x_api.c **** 
 777:Src/vl6180x_api.c **** 	if (!status) {
 778:Src/vl6180x_api.c **** 		status = VL6180x_RangeGetMeasurement(dev, pRangeData);
 779:Src/vl6180x_api.c **** 	}
 780:Src/vl6180x_api.c **** 
 781:Src/vl6180x_api.c **** 	/*  clear range interrupt source */
 782:Src/vl6180x_api.c **** 	ClrStatus = VL6180x_RangeClearInterrupt(dev);
 783:Src/vl6180x_api.c **** 	if (ClrStatus) {
 784:Src/vl6180x_api.c **** 		VL6180x_ErrLog("VL6180x_RangeClearInterrupt fail");
 785:Src/vl6180x_api.c **** 		/*  leave initial status if already in error  */
 786:Src/vl6180x_api.c **** 		if (!status) {
 787:Src/vl6180x_api.c **** 			status = ClrStatus;
 788:Src/vl6180x_api.c **** 		}
 789:Src/vl6180x_api.c **** 	}
 790:Src/vl6180x_api.c **** done:
 791:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 792:Src/vl6180x_api.c **** 	return status;
 793:Src/vl6180x_api.c **** }
 794:Src/vl6180x_api.c **** 
 795:Src/vl6180x_api.c **** 
 796:Src/vl6180x_api.c **** #if VL6180x_CACHED_REG
 797:Src/vl6180x_api.c **** 
 798:Src/vl6180x_api.c **** int VL6180x_GetCachedDWord(VL6180xDev_t dev, uint16_t  index, uint32_t *pValue)
 799:Src/vl6180x_api.c **** {
 800:Src/vl6180x_api.c **** 	int status;
 801:Src/vl6180x_api.c **** 	uint32_t Value;
 802:Src/vl6180x_api.c **** 	if (VL6180xDevDataGet(dev, CacheFilled) != 0 &&
 803:Src/vl6180x_api.c **** 		index >= VL6180x_FIRST_CACHED_INDEX  &&
 804:Src/vl6180x_api.c **** 		index <= (VL6180x_LAST_CACHED_INDEX - 3)) {
 805:Src/vl6180x_api.c **** 		uint8_t *pBytes = &VL6180xDevDataGet(dev, CachedRegs[index - VL6180x_FIRST_CACHED_INDEX]);
 806:Src/vl6180x_api.c **** 		Value = ((uint32_t)pBytes[0] << 24) |
 807:Src/vl6180x_api.c **** 				((uint32_t)pBytes[1] << 16) |
 808:Src/vl6180x_api.c **** 				((uint32_t)pBytes[2] << 8) |
 809:Src/vl6180x_api.c **** 				(uint32_t)pBytes[3];
 810:Src/vl6180x_api.c **** 		*pValue = Value;
 811:Src/vl6180x_api.c **** 		status = 0;
 812:Src/vl6180x_api.c **** 	} else {
 813:Src/vl6180x_api.c **** 		status =  VL6180x_RdDWord(dev, index, pValue);
 814:Src/vl6180x_api.c **** 	}
 815:Src/vl6180x_api.c **** 	return status;
 816:Src/vl6180x_api.c **** }
 817:Src/vl6180x_api.c **** 
 818:Src/vl6180x_api.c **** int VL6180x_GetCachedWord(VL6180xDev_t dev, uint16_t  index, uint16_t *pValue)
 819:Src/vl6180x_api.c **** {
 820:Src/vl6180x_api.c **** 	int status;
 821:Src/vl6180x_api.c **** 	uint32_t Value;
 822:Src/vl6180x_api.c **** 	if (VL6180xDevDataGet(dev, CacheFilled) != 0 &&
 823:Src/vl6180x_api.c **** 		index >= VL6180x_FIRST_CACHED_INDEX  &&
 824:Src/vl6180x_api.c **** 		index <= (VL6180x_LAST_CACHED_INDEX - 1)) {
 825:Src/vl6180x_api.c **** 		uint8_t *pBytes = &VL6180xDevDataGet(dev, CachedRegs[index - VL6180x_FIRST_CACHED_INDEX]);
 826:Src/vl6180x_api.c **** 		Value = ((uint32_t)pBytes[0] << 8) | (uint32_t)pBytes[1];
 827:Src/vl6180x_api.c **** 		*pValue = Value;
 828:Src/vl6180x_api.c **** 		status = 0;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 16


 829:Src/vl6180x_api.c **** 	} else {
 830:Src/vl6180x_api.c **** 		status =  VL6180x_RdWord(dev, index, pValue);
 831:Src/vl6180x_api.c **** 	}
 832:Src/vl6180x_api.c **** 	return status;
 833:Src/vl6180x_api.c **** }
 834:Src/vl6180x_api.c **** 
 835:Src/vl6180x_api.c **** int VL6180x_GetCachedByte(VL6180xDev_t dev, uint16_t  index, uint8_t *pValue)
 836:Src/vl6180x_api.c **** {
 837:Src/vl6180x_api.c **** 	int status;
 838:Src/vl6180x_api.c **** 	uint8_t Value;
 839:Src/vl6180x_api.c **** 	if (VL6180xDevDataGet(dev, CacheFilled) != 0 &&
 840:Src/vl6180x_api.c **** 		index >= VL6180x_FIRST_CACHED_INDEX &&
 841:Src/vl6180x_api.c **** 		index <= VL6180x_LAST_CACHED_INDEX) {
 842:Src/vl6180x_api.c **** 		Value = VL6180xDevDataGet(dev, CachedRegs[index - VL6180x_FIRST_CACHED_INDEX]);
 843:Src/vl6180x_api.c **** 		*pValue = Value;
 844:Src/vl6180x_api.c **** 		status = 0;
 845:Src/vl6180x_api.c **** 	} else {
 846:Src/vl6180x_api.c **** 		status =  VL6180x_RdByte(dev, index, pValue);
 847:Src/vl6180x_api.c **** 	}
 848:Src/vl6180x_api.c **** 	return status;
 849:Src/vl6180x_api.c **** }
 850:Src/vl6180x_api.c **** 
 851:Src/vl6180x_api.c **** 
 852:Src/vl6180x_api.c **** int _CachedRegs_Fetch(VL6180xDev_t dev)
 853:Src/vl6180x_api.c **** {
 854:Src/vl6180x_api.c **** 	int status;
 855:Src/vl6180x_api.c **** 	uint8_t *Buffer;
 856:Src/vl6180x_api.c **** 	if (VL6180xDevDataGet(dev, CacheFilled) == 0) {
 857:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, CacheFilled, 1);
 858:Src/vl6180x_api.c **** 		Buffer = &VL6180xDevDataGet(dev, CachedRegs[0]);
 859:Src/vl6180x_api.c **** 		status = VL6180x_RdMulti(dev, VL6180x_FIRST_CACHED_INDEX, Buffer, VL6180x_CACHED_REG_CNT);
 860:Src/vl6180x_api.c **** 	} else {
 861:Src/vl6180x_api.c **** 		status = 0 ;
 862:Src/vl6180x_api.c **** 	}
 863:Src/vl6180x_api.c **** 	return status;
 864:Src/vl6180x_api.c **** }
 865:Src/vl6180x_api.c **** 
 866:Src/vl6180x_api.c **** void _CachedRegs_Flush(VL6180xDev_t dev)
 867:Src/vl6180x_api.c **** {
 868:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, CacheFilled, 0);
 869:Src/vl6180x_api.c **** }
 870:Src/vl6180x_api.c **** 
 871:Src/vl6180x_api.c **** #else
 872:Src/vl6180x_api.c **** #   define _CachedRegs_Fetch(...) 0
 873:Src/vl6180x_api.c **** #   define _CachedRegs_Flush(...) (void)0
 874:Src/vl6180x_api.c **** #   define _Fetch_CachedRegs(...) 0
 875:Src/vl6180x_api.c **** #   define VL6180x_GetCachedByte(dev, index, pValue) VL6180x_RdByte(dev, index, pValue)
 876:Src/vl6180x_api.c **** #   define VL6180x_GetCachedWord(dev, index, pValue) VL6180x_RdWord(dev, index, pValue)
 877:Src/vl6180x_api.c **** #   define VL6180x_GetCachedDWord(dev, index, pValue) VL6180x_RdDWord(dev, index, pValue)
 878:Src/vl6180x_api.c **** #endif /* VL6180x_CACHED_REG */
 879:Src/vl6180x_api.c **** 
 880:Src/vl6180x_api.c **** 
 881:Src/vl6180x_api.c **** 
 882:Src/vl6180x_api.c **** int VL6180x_RangeGetMeasurement(VL6180xDev_t dev, VL6180x_RangeData_t *pRangeData)
 883:Src/vl6180x_api.c **** {
 884:Src/vl6180x_api.c **** 	int status;
 885:Src/vl6180x_api.c **** 	uint16_t RawRate;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 17


 886:Src/vl6180x_api.c **** 	uint8_t RawStatus;
 887:Src/vl6180x_api.c **** 
 888:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 889:Src/vl6180x_api.c **** 
 890:Src/vl6180x_api.c **** 	status = _CachedRegs_Fetch(dev);
 891:Src/vl6180x_api.c **** 	if (status) {
 892:Src/vl6180x_api.c **** 		VL6180x_ErrLog("Cache register read fail");
 893:Src/vl6180x_api.c **** 		goto error;
 894:Src/vl6180x_api.c **** 	}
 895:Src/vl6180x_api.c **** 	status = VL6180x_RangeGetResult(dev, &pRangeData->range_mm);
 896:Src/vl6180x_api.c **** 	if (!status) {
 897:Src/vl6180x_api.c **** 		status = VL6180x_GetCachedWord(dev, RESULT_RANGE_SIGNAL_RATE, &RawRate);
 898:Src/vl6180x_api.c **** 		if (!status) {
 899:Src/vl6180x_api.c **** 			pRangeData->signalRate_mcps = VL6180x_9to7Conv(RawRate);
 900:Src/vl6180x_api.c **** 			status = VL6180x_GetCachedByte(dev, RESULT_RANGE_STATUS, &RawStatus);
 901:Src/vl6180x_api.c **** 			if (!status) {
 902:Src/vl6180x_api.c **** 				pRangeData->errorStatus = RawStatus >> 4;
 903:Src/vl6180x_api.c **** 			} else {
 904:Src/vl6180x_api.c **** 				VL6180x_ErrLog("Rd RESULT_RANGE_STATUS fail");
 905:Src/vl6180x_api.c **** 			}
 906:Src/vl6180x_api.c **** 	#if VL6180x_WRAP_AROUND_FILTER_SUPPORT || VL6180x_HAVE_DMAX_RANGING
 907:Src/vl6180x_api.c **** 			status = _GetRateResult(dev, pRangeData);
 908:Src/vl6180x_api.c **** 			if (status)
 909:Src/vl6180x_api.c **** 				goto error;
 910:Src/vl6180x_api.c **** 	#endif
 911:Src/vl6180x_api.c **** 	#if VL6180x_WRAP_AROUND_FILTER_SUPPORT
 912:Src/vl6180x_api.c **** 			/* if enabled run filter */
 913:Src/vl6180x_api.c **** 			if (_IsWrapArroundActive(dev)) {
 914:Src/vl6180x_api.c **** 				status = _filter_GetResult(dev, pRangeData);
 915:Src/vl6180x_api.c **** 				if (!status) {
 916:Src/vl6180x_api.c **** 					/* patch the range status and measure if it is filtered */
 917:Src/vl6180x_api.c **** 					if(pRangeData->FilteredData.filterError != NoError) {
 918:Src/vl6180x_api.c **** 						pRangeData->errorStatus = pRangeData->FilteredData.filterError;
 919:Src/vl6180x_api.c **** 						pRangeData->range_mm = pRangeData->FilteredData.range_mm;
 920:Src/vl6180x_api.c **** 					}
 921:Src/vl6180x_api.c **** 				}
 922:Src/vl6180x_api.c **** 			}
 923:Src/vl6180x_api.c **** 	#endif
 924:Src/vl6180x_api.c **** 
 925:Src/vl6180x_api.c **** 	#if VL6180x_HAVE_DMAX_RANGING
 926:Src/vl6180x_api.c **** 			if (_IsDMaxActive(dev)) {
 927:Src/vl6180x_api.c **** 				_DMax_Compute(dev, pRangeData);
 928:Src/vl6180x_api.c **** 			}
 929:Src/vl6180x_api.c **** 	#endif
 930:Src/vl6180x_api.c **** 		} else {
 931:Src/vl6180x_api.c **** 		    VL6180x_ErrLog("Rd RESULT_RANGE_SIGNAL_RATE fail");
 932:Src/vl6180x_api.c **** 		}
 933:Src/vl6180x_api.c **** 	} else {
 934:Src/vl6180x_api.c **** 		VL6180x_ErrLog("VL6180x_GetRangeResult fail");
 935:Src/vl6180x_api.c **** 	}
 936:Src/vl6180x_api.c **** error:
 937:Src/vl6180x_api.c **** 	_CachedRegs_Flush(dev);
 938:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d %d %d", (int)pRangeData->range_mm, (int)pRangeData->signalRate_mc
 939:Src/vl6180x_api.c **** 	return status;
 940:Src/vl6180x_api.c **** }
 941:Src/vl6180x_api.c **** 
 942:Src/vl6180x_api.c **** 
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 18


 943:Src/vl6180x_api.c **** int VL6180x_RangeGetMeasurementIfReady(VL6180xDev_t dev, VL6180x_RangeData_t *pRangeData)
 944:Src/vl6180x_api.c **** {
 945:Src/vl6180x_api.c **** 	int status;
 946:Src/vl6180x_api.c **** 	IntrStatus_t IntStatus;
 947:Src/vl6180x_api.c **** 
 948:Src/vl6180x_api.c **** 	LOG_FUNCTION_START();
 949:Src/vl6180x_api.c **** 	status = VL6180x_RangeGetInterruptStatus(dev, &IntStatus.val);
 950:Src/vl6180x_api.c **** 	if (status == 0) {
 951:Src/vl6180x_api.c **** 		if (IntStatus.status.Range == RES_INT_STAT_GPIO_NEW_SAMPLE_READY ||
 952:Src/vl6180x_api.c **** 			IntStatus.status.Error != 0) {
 953:Src/vl6180x_api.c **** 			status = VL6180x_RangeGetMeasurement(dev, pRangeData);
 954:Src/vl6180x_api.c **** 			if (status == 0) {
 955:Src/vl6180x_api.c **** 				/*  clear range interrupt source */
 956:Src/vl6180x_api.c **** 				status = VL6180x_RangeClearInterrupt(dev);
 957:Src/vl6180x_api.c **** 				if (status) {
 958:Src/vl6180x_api.c **** 					VL6180x_ErrLog("VL6180x_RangeClearInterrupt fail");
 959:Src/vl6180x_api.c **** 				}
 960:Src/vl6180x_api.c **** 			}
 961:Src/vl6180x_api.c **** 		} else {
 962:Src/vl6180x_api.c **** 			pRangeData->errorStatus = DataNotReady;
 963:Src/vl6180x_api.c **** 		}
 964:Src/vl6180x_api.c **** 	} else {
 965:Src/vl6180x_api.c **** 		VL6180x_ErrLog("fail to get interrupt status");
 966:Src/vl6180x_api.c **** 	}
 967:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status) ;
 968:Src/vl6180x_api.c **** 	return status;
 969:Src/vl6180x_api.c **** }
 970:Src/vl6180x_api.c **** 
 971:Src/vl6180x_api.c **** int VL6180x_FilterSetState(VL6180xDev_t dev, int state)
 972:Src/vl6180x_api.c **** {
 973:Src/vl6180x_api.c **** 	int status;
 974:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", state);
 975:Src/vl6180x_api.c **** 	#if VL6180x_WRAP_AROUND_FILTER_SUPPORT
 976:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, WrapAroundFilterActive, state);
 977:Src/vl6180x_api.c **** 	status = 0;
 978:Src/vl6180x_api.c **** 	#else
 979:Src/vl6180x_api.c **** 	status =  NOT_SUPPORTED;
 980:Src/vl6180x_api.c **** 	#endif
 981:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 982:Src/vl6180x_api.c **** 	return status;
 983:Src/vl6180x_api.c **** }
 984:Src/vl6180x_api.c **** 
 985:Src/vl6180x_api.c **** int VL6180x_FilterGetState(VL6180xDev_t dev)
 986:Src/vl6180x_api.c **** {
 987:Src/vl6180x_api.c **** 	int status;
 988:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 989:Src/vl6180x_api.c **** 	#if VL6180x_WRAP_AROUND_FILTER_SUPPORT
 990:Src/vl6180x_api.c **** 	status = VL6180xDevDataGet(dev, WrapAroundFilterActive);
 991:Src/vl6180x_api.c **** 	#else
 992:Src/vl6180x_api.c **** 	status = 0;
 993:Src/vl6180x_api.c **** 	#endif
 994:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 995:Src/vl6180x_api.c **** 	return status;
 996:Src/vl6180x_api.c **** }
 997:Src/vl6180x_api.c **** 
 998:Src/vl6180x_api.c **** int VL6180x_RangeGetResult(VL6180xDev_t dev, int32_t *pRange_mm)
 999:Src/vl6180x_api.c **** {
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 19


1000:Src/vl6180x_api.c **** 	int status;
1001:Src/vl6180x_api.c **** 	uint8_t RawRange;
1002:Src/vl6180x_api.c **** 	int32_t Upscale;
1003:Src/vl6180x_api.c **** 
1004:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%p", pRange_mm);
1005:Src/vl6180x_api.c **** 
1006:Src/vl6180x_api.c **** 	status = VL6180x_GetCachedByte(dev, RESULT_RANGE_VAL, &RawRange);
1007:Src/vl6180x_api.c **** 	if (!status) {
1008:Src/vl6180x_api.c **** 		Upscale = _GetUpscale(dev);
1009:Src/vl6180x_api.c **** 		*pRange_mm = Upscale * (int32_t)RawRange;
1010:Src/vl6180x_api.c **** 	}
1011:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", (int)*pRange_mm);
1012:Src/vl6180x_api.c **** 	return status;
1013:Src/vl6180x_api.c **** }
1014:Src/vl6180x_api.c **** 
1015:Src/vl6180x_api.c **** int VL6180x_RangeSetRawThresholds(VL6180xDev_t dev, uint8_t low, uint8_t high)
1016:Src/vl6180x_api.c **** {
1017:Src/vl6180x_api.c **** 	int status;
1018:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d %d", (int) low, (int)high);
1019:Src/vl6180x_api.c **** 	/* TODO we can optimize here grouping high/low in a word but that's cpu endianness dependent */
1020:Src/vl6180x_api.c **** 	status = VL6180x_WrByte(dev, SYSRANGE_THRESH_HIGH, high);
1021:Src/vl6180x_api.c **** 	if (!status) {
1022:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSRANGE_THRESH_LOW, low);
1023:Src/vl6180x_api.c **** 	}
1024:Src/vl6180x_api.c **** 
1025:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1026:Src/vl6180x_api.c **** 	return status;
1027:Src/vl6180x_api.c **** }
1028:Src/vl6180x_api.c **** 
1029:Src/vl6180x_api.c **** int VL6180x_RangeSetThresholds(VL6180xDev_t dev, uint16_t low, uint16_t high, int UseSafeParamHold)
1030:Src/vl6180x_api.c **** {
1031:Src/vl6180x_api.c **** 	int status;
1032:Src/vl6180x_api.c **** 	int scale;
1033:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d %d", (int) low, (int)high);
1034:Src/vl6180x_api.c **** 	scale = _GetUpscale(dev, UpscaleFactor);
1035:Src/vl6180x_api.c **** 	if (low > scale * 255 || high > scale * 255) {
1036:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
1037:Src/vl6180x_api.c **** 	} else {
1038:Src/vl6180x_api.c **** 		do {
1039:Src/vl6180x_api.c **** 			if (UseSafeParamHold) {
1040:Src/vl6180x_api.c **** 				status = VL6180x_SetGroupParamHold(dev, 1);
1041:Src/vl6180x_api.c **** 				if (status)
1042:Src/vl6180x_api.c **** 					break;
1043:Src/vl6180x_api.c **** 		    }
1044:Src/vl6180x_api.c **** 		    status = VL6180x_RangeSetRawThresholds(dev, (uint8_t)(low / scale), (uint8_t)(high / scale));
1045:Src/vl6180x_api.c **** 		    if (status) {
1046:Src/vl6180x_api.c **** 				VL6180x_ErrLog("VL6180x_RangeSetRawThresholds fail");
1047:Src/vl6180x_api.c **** 		    }
1048:Src/vl6180x_api.c **** 		    if (UseSafeParamHold) {
1049:Src/vl6180x_api.c **** 				int HoldStatus;
1050:Src/vl6180x_api.c **** 				/* tryt to unset param hold vene if previous fail */
1051:Src/vl6180x_api.c **** 				HoldStatus = VL6180x_SetGroupParamHold(dev, 0);
1052:Src/vl6180x_api.c **** 				if (!status)
1053:Src/vl6180x_api.c **** 					status = HoldStatus;
1054:Src/vl6180x_api.c **** 		    }
1055:Src/vl6180x_api.c **** 		} while (0);
1056:Src/vl6180x_api.c **** 	}
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 20


1057:Src/vl6180x_api.c **** 
1058:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1059:Src/vl6180x_api.c **** 	return status;
1060:Src/vl6180x_api.c **** }
1061:Src/vl6180x_api.c **** 
1062:Src/vl6180x_api.c **** 
1063:Src/vl6180x_api.c **** int VL6180x_RangeGetThresholds(VL6180xDev_t dev, uint16_t *low, uint16_t *high)
1064:Src/vl6180x_api.c **** {
1065:Src/vl6180x_api.c **** 	int status = 0;
1066:Src/vl6180x_api.c **** 	uint8_t RawLow, RawHigh;
1067:Src/vl6180x_api.c **** 	int scale;
1068:Src/vl6180x_api.c **** 
1069:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%p %p", low , high);
1070:Src/vl6180x_api.c **** 
1071:Src/vl6180x_api.c **** 	scale = _GetUpscale(dev, UpscaleFactor);
1072:Src/vl6180x_api.c **** 	do {
1073:Src/vl6180x_api.c **** 		if (high != NULL) {
1074:Src/vl6180x_api.c **** 			status = VL6180x_RdByte(dev, SYSRANGE_THRESH_HIGH, &RawHigh);
1075:Src/vl6180x_api.c **** 			if (status) {
1076:Src/vl6180x_api.c **** 				VL6180x_ErrLog("rd SYSRANGE_THRESH_HIGH fail");
1077:Src/vl6180x_api.c **** 				break;
1078:Src/vl6180x_api.c **** 			}
1079:Src/vl6180x_api.c **** 			*high = (uint16_t)RawHigh * scale;
1080:Src/vl6180x_api.c **** 		}
1081:Src/vl6180x_api.c **** 		if (low != NULL) {
1082:Src/vl6180x_api.c **** 		    status = VL6180x_RdByte(dev, SYSRANGE_THRESH_LOW, &RawLow);
1083:Src/vl6180x_api.c **** 			if (status) {
1084:Src/vl6180x_api.c **** 				VL6180x_ErrLog("rd SYSRANGE_THRESH_LOW fail");
1085:Src/vl6180x_api.c **** 				break;
1086:Src/vl6180x_api.c **** 		    }
1087:Src/vl6180x_api.c **** 		    *low = (uint16_t)RawLow * scale;
1088:Src/vl6180x_api.c **** 		}
1089:Src/vl6180x_api.c **** 	} while (0);
1090:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d %d", (int)*low , (int)*high);
1091:Src/vl6180x_api.c **** 	return status;
1092:Src/vl6180x_api.c **** }
1093:Src/vl6180x_api.c **** 
1094:Src/vl6180x_api.c **** 
1095:Src/vl6180x_api.c **** int VL6180x_RangeGetInterruptStatus(VL6180xDev_t dev, uint8_t *pIntStatus)
1096:Src/vl6180x_api.c **** {
1097:Src/vl6180x_api.c **** 	int status;
1098:Src/vl6180x_api.c **** 	uint8_t IntStatus;
1099:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%p", pIntStatus);
1100:Src/vl6180x_api.c **** 	/* FIXME we are grouping "error" with over status the user must check implicitly for it
1101:Src/vl6180x_api.c **** 	 * not just new sample or over status , that will nevr show up in case of error*/
1102:Src/vl6180x_api.c **** 	status = VL6180x_GetCachedByte(dev, RESULT_INTERRUPT_STATUS_GPIO, &IntStatus);
1103:Src/vl6180x_api.c **** 	*pIntStatus = IntStatus & 0xC7;
1104:Src/vl6180x_api.c **** 
1105:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", (int)*pIntStatus);
1106:Src/vl6180x_api.c **** 	return status;
1107:Src/vl6180x_api.c **** }
1108:Src/vl6180x_api.c **** 
1109:Src/vl6180x_api.c **** 
1110:Src/vl6180x_api.c **** int VL6180x_GetInterruptStatus(VL6180xDev_t dev, uint8_t *IntStatus)
1111:Src/vl6180x_api.c **** {
1112:Src/vl6180x_api.c **** 	int status;
1113:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%p" , IntStatus);
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 21


1114:Src/vl6180x_api.c **** 	status = VL6180x_RdByte(dev, RESULT_INTERRUPT_STATUS_GPIO, IntStatus);
1115:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", (int)*IntStatus);
1116:Src/vl6180x_api.c **** 	return status;
1117:Src/vl6180x_api.c **** }
1118:Src/vl6180x_api.c **** 
1119:Src/vl6180x_api.c **** int VL6180x_ClearInterrupt(VL6180xDev_t dev, uint8_t IntClear)
1120:Src/vl6180x_api.c **** {
1121:Src/vl6180x_api.c **** 	int status;
1122:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", (int)IntClear);
1123:Src/vl6180x_api.c **** 	if (IntClear <= 7) {
1124:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSTEM_INTERRUPT_CLEAR, IntClear);
1125:Src/vl6180x_api.c **** 	} else {
1126:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
1127:Src/vl6180x_api.c **** 	}
1128:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1129:Src/vl6180x_api.c **** 	return status;
1130:Src/vl6180x_api.c **** }
1131:Src/vl6180x_api.c **** 
1132:Src/vl6180x_api.c **** 
1133:Src/vl6180x_api.c **** static int VL6180x_RangeStaticInit(VL6180xDev_t dev)
1134:Src/vl6180x_api.c **** {
1135:Src/vl6180x_api.c **** 	int status;
1136:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
1137:Src/vl6180x_api.c **** 
1138:Src/vl6180x_api.c **** 	/* REGISTER_TUNING_SR03_270514_CustomerView.txt */
1139:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0207, 0x01);
1140:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0208, 0x01);
1141:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0096, 0x00);
1142:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0097, 0xfd);
1143:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00e3, 0x01);
1144:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00e4, 0x03);
1145:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00e5, 0x02);
1146:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00e6, 0x01);
1147:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00e7, 0x03);
1148:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00f5, 0x02);
1149:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00d9, 0x05);
1150:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00db, 0xce);
1151:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00dc, 0x03);
1152:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00dd, 0xf8);
1153:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x009f, 0x00);
1154:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00a3, 0x3c);
1155:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00b7, 0x00);
1156:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00bb, 0x3c); /*Recommended value = 0x28 in case very fast ranging frequency 
1157:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00b2, 0x09);
1158:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00ca, 0x09);
1159:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0198, 0x01);
1160:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x01b0, 0x17);
1161:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x01ad, 0x00);
1162:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00ff, 0x05);
1163:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0100, 0x05);
1164:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0199, 0x05);
1165:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x01a6, 0x1b);
1166:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x01ac, 0x3e);
1167:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x01a7, 0x1f);
1168:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0030, 0x00);
1169:Src/vl6180x_api.c **** 
1170:Src/vl6180x_api.c **** 	/* Recommended : Public registers - See data sheet for more detail */
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 22


1171:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0011, 0x10); /* Enables polling for New Sample ready when measurement comple
1172:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x010a, 0x30); /* Set the averaging sample period (compromise between lower no
1173:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x003f, 0x46); /* Sets the light and dark gain (upper nibble). Dark gain shoul
1174:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0031, 0xFF); /* sets the # of range measurements after which auto calibratio
1175:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0040, 0x63); /* Set ALS integration time to 100ms */
1176:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x002e, 0x01); /* perform a single temperature calibration of the ranging sens
1177:Src/vl6180x_api.c **** 
1178:Src/vl6180x_api.c **** 	/* Optional: Public registers - See data sheet for more detail */
1179:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x001b, 0x09); /* Set default ranging inter-measurement period to 100ms */
1180:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x003e, 0x31); /* Set default ALS inter-measurement period to 500ms */
1181:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0014, 0x24); /* Configures interrupt on New sample ready */
1182:Src/vl6180x_api.c **** 
1183:Src/vl6180x_api.c **** 
1184:Src/vl6180x_api.c **** 	status = VL6180x_RangeSetMaxConvergenceTime(dev, 50); /*  Calculate ece value on initialization (u
1185:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1186:Src/vl6180x_api.c **** 
1187:Src/vl6180x_api.c **** 	return status;
1188:Src/vl6180x_api.c **** }
1189:Src/vl6180x_api.c **** 
1190:Src/vl6180x_api.c **** #if VL6180x_UPSCALE_SUPPORT != 1
1191:Src/vl6180x_api.c **** 
1192:Src/vl6180x_api.c **** static int _UpscaleInitPatch0(VL6180xDev_t dev)
1193:Src/vl6180x_api.c **** {
1194:Src/vl6180x_api.c **** 	int status;
1195:Src/vl6180x_api.c **** 	uint32_t CalValue = 0;
1196:Src/vl6180x_api.c **** 	CalValue = VL6180xDevDataGet(dev, Part2PartAmbNVM);
1197:Src/vl6180x_api.c **** 	status = VL6180x_WrDWord(dev, 0xDA, CalValue);
1198:Src/vl6180x_api.c **** 	return status;
1199:Src/vl6180x_api.c **** }
1200:Src/vl6180x_api.c **** 
1201:Src/vl6180x_api.c **** /* only include up-scaling register setting when up-scale support is configured in */
1202:Src/vl6180x_api.c **** int VL6180x_UpscaleRegInit(VL6180xDev_t dev)
1203:Src/vl6180x_api.c **** {
1204:Src/vl6180x_api.c **** 	/*  apply REGISTER_TUNING_ER02_100614_CustomerView.txt */
1205:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0207, 0x01);
1206:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0208, 0x01);
1207:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0096, 0x00);
1208:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0097, 0x54);
1209:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00e3, 0x00);
1210:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00e4, 0x04);
1211:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00e5, 0x02);
1212:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00e6, 0x01);
1213:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00e7, 0x03);
1214:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00f5, 0x02);
1215:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00d9, 0x05);
1216:Src/vl6180x_api.c **** 
1217:Src/vl6180x_api.c **** 	_UpscaleInitPatch0(dev);
1218:Src/vl6180x_api.c **** 
1219:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x009f, 0x00);
1220:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00a3, 0x28);
1221:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00b7, 0x00);
1222:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00bb, 0x28);
1223:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00b2, 0x09);
1224:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00ca, 0x09);
1225:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0198, 0x01);
1226:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x01b0, 0x17);
1227:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x01ad, 0x00);
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 23


1228:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00ff, 0x05);
1229:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0100, 0x05);
1230:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0199, 0x05);
1231:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x01a6, 0x1b);
1232:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x01ac, 0x3e);
1233:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x01a7, 0x1f);
1234:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0030, 0x00);
1235:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0011, 0x10);
1236:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x010a, 0x30);
1237:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x003f, 0x46);
1238:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0031, 0xFF);
1239:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0040, 0x63);
1240:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x002e, 0x01);
1241:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x002c, 0xff);
1242:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x001b, 0x09);
1243:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x003e, 0x31);
1244:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0014, 0x24);
1245:Src/vl6180x_api.c **** #if VL6180x_EXTENDED_RANGE
1246:Src/vl6180x_api.c **** 	VL6180x_RangeSetMaxConvergenceTime(dev, 63);
1247:Src/vl6180x_api.c **** #else
1248:Src/vl6180x_api.c **** 	VL6180x_RangeSetMaxConvergenceTime(dev, 50);
1249:Src/vl6180x_api.c **** #endif
1250:Src/vl6180x_api.c **** 	return 0;
1251:Src/vl6180x_api.c **** }
1252:Src/vl6180x_api.c **** #else
1253:Src/vl6180x_api.c **** #define VL6180x_UpscaleRegInit(...) -1
1254:Src/vl6180x_api.c **** #endif
1255:Src/vl6180x_api.c **** 
1256:Src/vl6180x_api.c **** int VL6180x_UpscaleSetScaling(VL6180xDev_t dev, uint8_t scaling)
1257:Src/vl6180x_api.c **** {
1258:Src/vl6180x_api.c **** 	int status;
1259:Src/vl6180x_api.c **** 	uint16_t Scaler;
1260:Src/vl6180x_api.c **** 	uint16_t ValidHeight;
1261:Src/vl6180x_api.c **** 	int8_t  Offset;
1262:Src/vl6180x_api.c **** 
1263:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", (int)scaling);
1264:Src/vl6180x_api.c **** 
1265:Src/vl6180x_api.c **** #ifdef VL6180x_HAVE_UPSCALE_DATA
1266:Src/vl6180x_api.c **** 	#define min_scaling 1
1267:Src/vl6180x_api.c **** 	#define max_scaling (sizeof(ScalerLookUP) / sizeof(ScalerLookUP[0]))
1268:Src/vl6180x_api.c **** #else
1269:Src/vl6180x_api.c **** 	/* we are in fixed config so only allow configured factor */
1270:Src/vl6180x_api.c **** 	#define min_scaling VL6180x_UPSCALE_SUPPORT
1271:Src/vl6180x_api.c **** 	#define max_scaling VL6180x_UPSCALE_SUPPORT
1272:Src/vl6180x_api.c **** #endif
1273:Src/vl6180x_api.c **** 
1274:Src/vl6180x_api.c **** 	if (scaling >= min_scaling  && scaling <= max_scaling) {
1275:Src/vl6180x_api.c **** 
1276:Src/vl6180x_api.c **** 		Scaler = ScalerLookUP[scaling - 1];
1277:Src/vl6180x_api.c **** 		status = VL6180x_WrWord(dev, RANGE_SCALER, Scaler);
1278:Src/vl6180x_api.c **** 		_SetUpscale(dev, scaling);
1279:Src/vl6180x_api.c **** 
1280:Src/vl6180x_api.c **** 		/* Apply scaling on  part-2-part offset */
1281:Src/vl6180x_api.c **** 		Offset = VL6180xDevDataGet(dev, Part2PartOffsetNVM) / scaling;
1282:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSRANGE_PART_TO_PART_RANGE_OFFSET, Offset);
1283:Src/vl6180x_api.c **** 
1284:Src/vl6180x_api.c **** 		/* Apply scaling on CrossTalkValidHeight */
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 24


1285:Src/vl6180x_api.c **** 		if (status == 0) {
1286:Src/vl6180x_api.c **** 			status = VL6180x_WrByte(dev, SYSRANGE_CROSSTALK_VALID_HEIGHT,
1287:Src/vl6180x_api.c **** 									DEF_CROSS_TALK_VALID_HEIGHT_VALUE /  scaling);
1288:Src/vl6180x_api.c **** 		}
1289:Src/vl6180x_api.c **** 		/* Apply scaling on RangeIgnore ValidHeight if enabled */
1290:Src/vl6180x_api.c **** 		if( status == 0){
1291:Src/vl6180x_api.c **** 			if(  VL6180xDevDataGet(dev, RangeIgnore.Enabled) !=0 ){
1292:Src/vl6180x_api.c **** 				ValidHeight = VL6180xDevDataGet(dev, RangeIgnore.ValidHeight);
1293:Src/vl6180x_api.c **** 				ValidHeight  /= _GetUpscale(dev);
1294:Src/vl6180x_api.c **** 				if( ValidHeight > 255 )
1295:Src/vl6180x_api.c **** 					ValidHeight = 255;
1296:Src/vl6180x_api.c **** 
1297:Src/vl6180x_api.c **** 				status = VL6180x_WrByte(dev, SYSRANGE_RANGE_IGNORE_VALID_HEIGHT,
1298:Src/vl6180x_api.c **** 							ValidHeight );
1299:Src/vl6180x_api.c **** 			}
1300:Src/vl6180x_api.c **** 		}
1301:Src/vl6180x_api.c **** 
1302:Src/vl6180x_api.c **** #if !VL6180x_EXTENDED_RANGE
1303:Src/vl6180x_api.c **** 		if (status == 0) {
1304:Src/vl6180x_api.c **** 			status = VL6180x_RangeSetEceState(dev, scaling == 1); /* enable ece only at 1x scaling */
1305:Src/vl6180x_api.c **** 		}
1306:Src/vl6180x_api.c **** 		if (status == 0 && !VL6180x_EXTENDED_RANGE && scaling != 1) {
1307:Src/vl6180x_api.c **** 			status = NOT_GUARANTEED ;
1308:Src/vl6180x_api.c **** 		}
1309:Src/vl6180x_api.c **** #endif
1310:Src/vl6180x_api.c **** 	} else {
1311:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
1312:Src/vl6180x_api.c **** 	}
1313:Src/vl6180x_api.c **** #undef min_scaling
1314:Src/vl6180x_api.c **** #undef max_scaling
1315:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1316:Src/vl6180x_api.c **** 	return status;
1317:Src/vl6180x_api.c **** }
1318:Src/vl6180x_api.c **** 
1319:Src/vl6180x_api.c **** 
1320:Src/vl6180x_api.c **** int VL6180x_UpscaleGetScaling(VL6180xDev_t dev)
1321:Src/vl6180x_api.c **** {
1322:Src/vl6180x_api.c **** 	int status;
1323:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
1324:Src/vl6180x_api.c **** 	status = _GetUpscale(dev);
1325:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1326:Src/vl6180x_api.c **** 
1327:Src/vl6180x_api.c **** 	return status;
1328:Src/vl6180x_api.c **** }
1329:Src/vl6180x_api.c **** 
1330:Src/vl6180x_api.c **** 
1331:Src/vl6180x_api.c **** static int  VL6180x_UpscaleStaticInit(VL6180xDev_t dev)
1332:Src/vl6180x_api.c **** {
1333:Src/vl6180x_api.c **** 	/* todo make these a fail macro in case only 1x is suppoted */
1334:Src/vl6180x_api.c **** 	int status;
1335:Src/vl6180x_api.c **** 
1336:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
1337:Src/vl6180x_api.c **** 	do {
1338:Src/vl6180x_api.c **** 		status = VL6180x_UpscaleRegInit(dev);
1339:Src/vl6180x_api.c **** 		if (status) {
1340:Src/vl6180x_api.c **** 			VL6180x_ErrLog("regInit fail");
1341:Src/vl6180x_api.c **** 			break;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 25


1342:Src/vl6180x_api.c **** 		}
1343:Src/vl6180x_api.c **** #if VL6180x_EXTENDED_RANGE
1344:Src/vl6180x_api.c **** 		status = VL6180x_RangeSetEceState(dev, 0);
1345:Src/vl6180x_api.c **** 		if (status) {
1346:Src/vl6180x_api.c **** 			VL6180x_ErrLog("VL6180x_RangeSetEceState fail");
1347:Src/vl6180x_api.c **** 			break;
1348:Src/vl6180x_api.c **** 		}
1349:Src/vl6180x_api.c **** #endif
1350:Src/vl6180x_api.c **** 	} while (0);
1351:Src/vl6180x_api.c **** 	if (!status) {
1352:Src/vl6180x_api.c **** 		/*  must write the scaler at least once to the device to ensure the scaler is in a known state. *
1353:Src/vl6180x_api.c **** 		status = VL6180x_UpscaleSetScaling(dev, _GetUpscale(dev));
1354:Src/vl6180x_api.c **** 		VL6180x_WrByte(dev, 0x016, 0x00); /* change fresh out of set status to 0 */
1355:Src/vl6180x_api.c **** 	}
1356:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1357:Src/vl6180x_api.c **** 	return status;
1358:Src/vl6180x_api.c **** }
1359:Src/vl6180x_api.c **** 
1360:Src/vl6180x_api.c **** 
1361:Src/vl6180x_api.c **** int VL6180x_SetGPIOxPolarity(VL6180xDev_t dev, int pin, int active_high)
1362:Src/vl6180x_api.c **** {
1363:Src/vl6180x_api.c **** 	int status;
1364:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d %d", (int) pin, (int)active_high);
1365:Src/vl6180x_api.c **** 
1366:Src/vl6180x_api.c **** 	if (pin == 0  || pin == 1) {
1367:Src/vl6180x_api.c **** 		uint16_t RegIndex;
1368:Src/vl6180x_api.c **** 		uint8_t  DataSet;
1369:Src/vl6180x_api.c **** 		if (pin == 0)
1370:Src/vl6180x_api.c **** 			RegIndex = SYSTEM_MODE_GPIO0;
1371:Src/vl6180x_api.c **** 		else
1372:Src/vl6180x_api.c **** 			RegIndex = SYSTEM_MODE_GPIO1;
1373:Src/vl6180x_api.c **** 
1374:Src/vl6180x_api.c **** 		if (active_high)
1375:Src/vl6180x_api.c **** 		   DataSet = GPIOx_POLARITY_SELECT_MASK;
1376:Src/vl6180x_api.c **** 		else
1377:Src/vl6180x_api.c **** 		   DataSet = 0;
1378:Src/vl6180x_api.c **** 
1379:Src/vl6180x_api.c **** 		status = VL6180x_UpdateByte(dev, RegIndex, (uint8_t)~GPIOx_POLARITY_SELECT_MASK, DataSet);
1380:Src/vl6180x_api.c **** 	} else {
1381:Src/vl6180x_api.c **** 		VL6180x_ErrLog("Invalid pin param %d", (int)pin);
1382:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
1383:Src/vl6180x_api.c **** 	}
1384:Src/vl6180x_api.c **** 
1385:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1386:Src/vl6180x_api.c **** 
1387:Src/vl6180x_api.c **** 	return status;
1388:Src/vl6180x_api.c **** }
1389:Src/vl6180x_api.c **** 
1390:Src/vl6180x_api.c **** int VL6180x_SetGPIOxFunctionality(VL6180xDev_t dev, int pin, uint8_t functionality)
1391:Src/vl6180x_api.c **** {
1392:Src/vl6180x_api.c **** 	int status;
1393:Src/vl6180x_api.c **** 
1394:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d %d", (int) pin, (int)functionality);
1395:Src/vl6180x_api.c **** 
1396:Src/vl6180x_api.c **** 	if (((pin == 0)  || (pin == 1))  && IsValidGPIOFunction(functionality)) {
1397:Src/vl6180x_api.c **** 		uint16_t RegIndex;
1398:Src/vl6180x_api.c **** 
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 26


1399:Src/vl6180x_api.c **** 		if (pin == 0)
1400:Src/vl6180x_api.c **** 			RegIndex = SYSTEM_MODE_GPIO0;
1401:Src/vl6180x_api.c **** 		else
1402:Src/vl6180x_api.c **** 			RegIndex = SYSTEM_MODE_GPIO1;
1403:Src/vl6180x_api.c **** 
1404:Src/vl6180x_api.c **** 		status = VL6180x_UpdateByte(dev, RegIndex, (uint8_t)~GPIOx_FUNCTIONALITY_SELECT_MASK,
1405:Src/vl6180x_api.c **** 									functionality << GPIOx_FUNCTIONALITY_SELECT_SHIFT);
1406:Src/vl6180x_api.c **** 		if (status) {
1407:Src/vl6180x_api.c **** 			VL6180x_ErrLog("Update SYSTEM_MODE_GPIO%d fail", (int)pin);
1408:Src/vl6180x_api.c **** 		}
1409:Src/vl6180x_api.c **** 	} else {
1410:Src/vl6180x_api.c **** 		VL6180x_ErrLog("Invalid pin %d  or function %d", (int)pin, (int)functionality);
1411:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
1412:Src/vl6180x_api.c **** 	}
1413:Src/vl6180x_api.c **** 
1414:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1415:Src/vl6180x_api.c **** 	return status;
1416:Src/vl6180x_api.c **** }
1417:Src/vl6180x_api.c **** 
1418:Src/vl6180x_api.c **** 
1419:Src/vl6180x_api.c **** int VL6180x_SetupGPIOx(VL6180xDev_t dev, int pin,  uint8_t IntFunction, int  ActiveHigh)
1420:Src/vl6180x_api.c **** {
1421:Src/vl6180x_api.c **** 	int status;
1422:Src/vl6180x_api.c **** 
1423:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d %d", (int) pin, (int)IntFunction);
1424:Src/vl6180x_api.c **** 
1425:Src/vl6180x_api.c **** 	if (((pin == 0) || (pin == 1))  && IsValidGPIOFunction(IntFunction)) {
1426:Src/vl6180x_api.c **** 		uint16_t RegIndex;
1427:Src/vl6180x_api.c **** 		uint8_t value = 0;
1428:Src/vl6180x_api.c **** 
1429:Src/vl6180x_api.c **** 		if (pin == 0)
1430:Src/vl6180x_api.c **** 		   RegIndex = SYSTEM_MODE_GPIO0;
1431:Src/vl6180x_api.c **** 		else
1432:Src/vl6180x_api.c **** 		   RegIndex = SYSTEM_MODE_GPIO1;
1433:Src/vl6180x_api.c **** 
1434:Src/vl6180x_api.c **** 		if (ActiveHigh)
1435:Src/vl6180x_api.c **** 		   value |= GPIOx_POLARITY_SELECT_MASK;
1436:Src/vl6180x_api.c **** 
1437:Src/vl6180x_api.c **** 		value |=  IntFunction << GPIOx_FUNCTIONALITY_SELECT_SHIFT;
1438:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, RegIndex, value);
1439:Src/vl6180x_api.c **** 		if (status) {
1440:Src/vl6180x_api.c **** 		   VL6180x_ErrLog("SYSTEM_MODE_GPIO%d wr fail", (int)pin-SYSTEM_MODE_GPIO0);
1441:Src/vl6180x_api.c **** 		}
1442:Src/vl6180x_api.c **** 	} else {
1443:Src/vl6180x_api.c **** 		VL6180x_ErrLog("Invalid pin %d or function %d", (int)pin, (int) IntFunction);
1444:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
1445:Src/vl6180x_api.c **** 	}
1446:Src/vl6180x_api.c **** 
1447:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1448:Src/vl6180x_api.c **** 	return status;
1449:Src/vl6180x_api.c **** }
1450:Src/vl6180x_api.c **** 
1451:Src/vl6180x_api.c **** 
1452:Src/vl6180x_api.c **** int VL6180x_DisableGPIOxOut(VL6180xDev_t dev, int pin)
1453:Src/vl6180x_api.c **** {
1454:Src/vl6180x_api.c **** 	int status;
1455:Src/vl6180x_api.c **** 
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 27


1456:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", (int)pin);
1457:Src/vl6180x_api.c **** 
1458:Src/vl6180x_api.c **** 	status = VL6180x_SetGPIOxFunctionality(dev, pin, GPIOx_SELECT_OFF);
1459:Src/vl6180x_api.c **** 
1460:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1461:Src/vl6180x_api.c **** 	return status;
1462:Src/vl6180x_api.c **** }
1463:Src/vl6180x_api.c **** 
1464:Src/vl6180x_api.c **** 
1465:Src/vl6180x_api.c **** int VL6180x_SetupGPIO1(VL6180xDev_t dev, uint8_t IntFunction, int ActiveHigh)
1466:Src/vl6180x_api.c **** {
1467:Src/vl6180x_api.c **** 	int status;
1468:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d %d", (int)IntFunction, (int)ActiveHigh);
1469:Src/vl6180x_api.c **** 	status = VL6180x_SetupGPIOx(dev, 1, IntFunction, ActiveHigh);
1470:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1471:Src/vl6180x_api.c **** 	return status;
1472:Src/vl6180x_api.c **** }
1473:Src/vl6180x_api.c **** 
1474:Src/vl6180x_api.c **** int VL6180x_RangeConfigInterrupt(VL6180xDev_t dev, uint8_t ConfigGpioInt)
1475:Src/vl6180x_api.c **** {
1476:Src/vl6180x_api.c **** 	int status;
1477:Src/vl6180x_api.c **** 
1478:Src/vl6180x_api.c **** 	if (ConfigGpioInt <= CONFIG_GPIO_INTERRUPT_NEW_SAMPLE_READY) {
1479:Src/vl6180x_api.c **** 		status = VL6180x_UpdateByte(dev, SYSTEM_INTERRUPT_CONFIG_GPIO,
1480:Src/vl6180x_api.c **** 									(uint8_t)(~CONFIG_GPIO_RANGE_MASK),
1481:Src/vl6180x_api.c **** 									ConfigGpioInt);
1482:Src/vl6180x_api.c **** 	} else {
1483:Src/vl6180x_api.c **** 		VL6180x_ErrLog("Invalid config mode param %d", (int)ConfigGpioInt);
1484:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
1485:Src/vl6180x_api.c **** 	}
1486:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1487:Src/vl6180x_api.c **** 	return status;
1488:Src/vl6180x_api.c **** }
1489:Src/vl6180x_api.c **** 
1490:Src/vl6180x_api.c **** 
1491:Src/vl6180x_api.c **** int VL6180x_RangeSetEceFactor(VL6180xDev_t dev, uint16_t  FactorM, uint16_t FactorD)
1492:Src/vl6180x_api.c **** {
1493:Src/vl6180x_api.c **** 	int status;
1494:Src/vl6180x_api.c **** 	uint8_t u8;
1495:Src/vl6180x_api.c **** 
1496:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d %d", (int)FactorM, (int)FactorD);
1497:Src/vl6180x_api.c **** 	do {
1498:Src/vl6180x_api.c **** 		/* D cannot be 0 M must be <=D and >= 0 */
1499:Src/vl6180x_api.c **** 		if (FactorM <= FactorD  && FactorD > 0) {
1500:Src/vl6180x_api.c **** 			VL6180xDevDataSet(dev, EceFactorM, FactorM);
1501:Src/vl6180x_api.c **** 			VL6180xDevDataSet(dev, EceFactorD, FactorD);
1502:Src/vl6180x_api.c **** 			/* read and re-apply max conv time to get new ece factor set */
1503:Src/vl6180x_api.c **** 			status = VL6180x_RdByte(dev, SYSRANGE_MAX_CONVERGENCE_TIME, &u8);
1504:Src/vl6180x_api.c **** 			if (status) {
1505:Src/vl6180x_api.c **** 			   VL6180x_ErrLog("SYSRANGE_MAX_CONVERGENCE_TIME rd fail ");
1506:Src/vl6180x_api.c **** 			   break;
1507:Src/vl6180x_api.c **** 			}
1508:Src/vl6180x_api.c **** 			status = VL6180x_RangeSetMaxConvergenceTime(dev, u8);
1509:Src/vl6180x_api.c **** 			if (status < 0) {
1510:Src/vl6180x_api.c **** 				VL6180x_ErrLog("fail to apply time after ece m/d change");
1511:Src/vl6180x_api.c **** 				break;
1512:Src/vl6180x_api.c **** 			}
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 28


1513:Src/vl6180x_api.c **** 		} else {
1514:Src/vl6180x_api.c **** 			VL6180x_ErrLog("invalid factor %d/%d", (int)FactorM, (int)FactorD);
1515:Src/vl6180x_api.c **** 			status = INVALID_PARAMS;
1516:Src/vl6180x_api.c **** 		}
1517:Src/vl6180x_api.c **** 	} while (0);
1518:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1519:Src/vl6180x_api.c **** 	return status;
1520:Src/vl6180x_api.c **** }
1521:Src/vl6180x_api.c **** 
1522:Src/vl6180x_api.c **** int VL6180x_RangeSetEceState(VL6180xDev_t dev, int enable)
1523:Src/vl6180x_api.c **** {
1524:Src/vl6180x_api.c **** 	int status;
1525:Src/vl6180x_api.c **** 	uint8_t or_mask;
1526:Src/vl6180x_api.c **** 
1527:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", (int)enable);
1528:Src/vl6180x_api.c **** 	if (enable)
1529:Src/vl6180x_api.c **** 		or_mask = RANGE_CHECK_ECE_ENABLE_MASK;
1530:Src/vl6180x_api.c **** 	else
1531:Src/vl6180x_api.c **** 		or_mask = 0;
1532:Src/vl6180x_api.c **** 
1533:Src/vl6180x_api.c **** 	status = VL6180x_UpdateByte(dev, SYSRANGE_RANGE_CHECK_ENABLES, ~RANGE_CHECK_ECE_ENABLE_MASK, or_ma
1534:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1535:Src/vl6180x_api.c **** 	return status;
1536:Src/vl6180x_api.c **** }
1537:Src/vl6180x_api.c **** 
1538:Src/vl6180x_api.c **** 
1539:Src/vl6180x_api.c **** int VL6180x_RangeSetMaxConvergenceTime(VL6180xDev_t dev, uint8_t  MaxConTime_msec)
1540:Src/vl6180x_api.c **** {
1541:Src/vl6180x_api.c **** 	int status = 0;
1542:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", (int)MaxConTime_msec);
1543:Src/vl6180x_api.c **** 	do {
1544:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSRANGE_MAX_CONVERGENCE_TIME, MaxConTime_msec);
1545:Src/vl6180x_api.c **** 		if (status) {
1546:Src/vl6180x_api.c **** 			break;
1547:Src/vl6180x_api.c **** 		}
1548:Src/vl6180x_api.c **** 		status = VL6180x_RangeSetEarlyConvergenceEestimateThreshold(dev);
1549:Src/vl6180x_api.c **** 		if (status) {
1550:Src/vl6180x_api.c **** 			break;
1551:Src/vl6180x_api.c **** 		}
1552:Src/vl6180x_api.c **** 		status = _DMax_InitData(dev);
1553:Src/vl6180x_api.c **** 	} while (0);
1554:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1555:Src/vl6180x_api.c **** 	return status;
1556:Src/vl6180x_api.c **** }
1557:Src/vl6180x_api.c **** 
1558:Src/vl6180x_api.c **** int VL6180x_RangeSetInterMeasPeriod(VL6180xDev_t dev, uint32_t  InterMeasTime_msec)
1559:Src/vl6180x_api.c **** {
1560:Src/vl6180x_api.c **** 	uint8_t SetTime;
1561:Src/vl6180x_api.c **** 	int status;
1562:Src/vl6180x_api.c **** 
1563:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", (int)InterMeasTime_msec);
1564:Src/vl6180x_api.c **** 	do {
1565:Src/vl6180x_api.c **** 		if (InterMeasTime_msec > 2550) {
1566:Src/vl6180x_api.c **** 			status = INVALID_PARAMS;
1567:Src/vl6180x_api.c **** 			break;
1568:Src/vl6180x_api.c **** 		}
1569:Src/vl6180x_api.c **** 		/* doc in not 100% clear and confusing about the limit practically all value are OK but 0
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 29


1570:Src/vl6180x_api.c **** 		 * that can hang device in continuous mode */
1571:Src/vl6180x_api.c **** 		if (InterMeasTime_msec < 10) {
1572:Src/vl6180x_api.c **** 			InterMeasTime_msec = 10;
1573:Src/vl6180x_api.c **** 		}
1574:Src/vl6180x_api.c **** 		SetTime = (uint8_t)(InterMeasTime_msec / 10);
1575:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSRANGE_INTERMEASUREMENT_PERIOD, SetTime);
1576:Src/vl6180x_api.c **** 		if (status) {
1577:Src/vl6180x_api.c **** 			VL6180x_ErrLog("SYSRANGE_INTERMEASUREMENT_PERIOD wr fail");
1578:Src/vl6180x_api.c **** 		} else if (SetTime != InterMeasTime_msec / 10) {
1579:Src/vl6180x_api.c **** 			status = MIN_CLIPED;  /* on success change status to clip if it did */
1580:Src/vl6180x_api.c **** 		}
1581:Src/vl6180x_api.c **** 	} while (0);
1582:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1583:Src/vl6180x_api.c **** 	return status;
1584:Src/vl6180x_api.c **** }
1585:Src/vl6180x_api.c **** 
1586:Src/vl6180x_api.c **** 
1587:Src/vl6180x_api.c **** int VL6180x_RangeGetDeviceReady(VL6180xDev_t dev, int *Ready)
1588:Src/vl6180x_api.c **** {
1589:Src/vl6180x_api.c **** 	int status;
1590:Src/vl6180x_api.c **** 	uint8_t u8;
1591:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%p", (int)Ready);
1592:Src/vl6180x_api.c **** 	status = VL6180x_RdByte(dev, RESULT_RANGE_STATUS, &u8);
1593:Src/vl6180x_api.c **** 	if (!status)
1594:Src/vl6180x_api.c **** 		*Ready = u8&RANGE_DEVICE_READY_MASK;
1595:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", *Ready);
1596:Src/vl6180x_api.c **** 	return status;
1597:Src/vl6180x_api.c **** }
1598:Src/vl6180x_api.c **** 
1599:Src/vl6180x_api.c **** 
1600:Src/vl6180x_api.c **** int VL6180x_RangeWaitDeviceReady(VL6180xDev_t dev, int MaxLoop)
1601:Src/vl6180x_api.c **** {
1602:Src/vl6180x_api.c **** 	int status = 0; /* if user specify an invalid <=0 loop count we'll return error */
1603:Src/vl6180x_api.c **** 	int  n;
1604:Src/vl6180x_api.c **** 	uint8_t u8;
1605:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", (int)MaxLoop);
1606:Src/vl6180x_api.c **** 	if (MaxLoop < 1) {
1607:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
1608:Src/vl6180x_api.c **** 	} else {
1609:Src/vl6180x_api.c **** 		for (n = 0; n < MaxLoop ; n++) {
1610:Src/vl6180x_api.c **** 			status = VL6180x_RdByte(dev, RESULT_RANGE_STATUS, &u8);
1611:Src/vl6180x_api.c **** 			if (status)
1612:Src/vl6180x_api.c **** 				break;
1613:Src/vl6180x_api.c **** 			u8 = u8 & RANGE_DEVICE_READY_MASK;
1614:Src/vl6180x_api.c **** 			if (u8)
1615:Src/vl6180x_api.c **** 				break;
1616:Src/vl6180x_api.c **** 
1617:Src/vl6180x_api.c **** 		}
1618:Src/vl6180x_api.c **** 		if (!status && !u8) {
1619:Src/vl6180x_api.c **** 			status = TIME_OUT;
1620:Src/vl6180x_api.c **** 		}
1621:Src/vl6180x_api.c **** 	}
1622:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1623:Src/vl6180x_api.c **** 	return status;
1624:Src/vl6180x_api.c **** }
1625:Src/vl6180x_api.c **** 
1626:Src/vl6180x_api.c **** int VL6180x_RangeSetSystemMode(VL6180xDev_t dev, uint8_t  mode)
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 30


1627:Src/vl6180x_api.c **** {
1628:Src/vl6180x_api.c **** 	int status;
1629:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", (int)mode);
1630:Src/vl6180x_api.c **** 	/* FIXME we are not checking device is ready via @a VL6180x_RangeWaitDeviceReady
1631:Src/vl6180x_api.c **** 	 * so if called back to back real fast we are not checking
1632:Src/vl6180x_api.c **** 	 * if previous mode "set" got absorbed => bit 0 must be 0 so that it work
1633:Src/vl6180x_api.c **** 	 */
1634:Src/vl6180x_api.c **** 	if (mode <= 3) {
1635:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSRANGE_START, mode);
1636:Src/vl6180x_api.c **** 		if (status) {
1637:Src/vl6180x_api.c **** 		    VL6180x_ErrLog("SYSRANGE_START wr fail");
1638:Src/vl6180x_api.c **** 		}
1639:Src/vl6180x_api.c **** 	} else {
1640:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
1641:Src/vl6180x_api.c **** 	}
1642:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1643:Src/vl6180x_api.c **** 	return status;
1644:Src/vl6180x_api.c **** }
1645:Src/vl6180x_api.c **** 
1646:Src/vl6180x_api.c **** 
1647:Src/vl6180x_api.c **** int VL6180x_RangeStartContinuousMode(VL6180xDev_t dev)
1648:Src/vl6180x_api.c **** {
1649:Src/vl6180x_api.c **** 	int status;
1650:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
1651:Src/vl6180x_api.c **** 	status = VL6180x_RangeSetSystemMode(dev, MODE_START_STOP | MODE_CONTINUOUS);
1652:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1653:Src/vl6180x_api.c **** 	return status;
1654:Src/vl6180x_api.c **** }
1655:Src/vl6180x_api.c **** 
1656:Src/vl6180x_api.c **** int VL6180x_RangeStartSingleShot(VL6180xDev_t dev)
1657:Src/vl6180x_api.c **** {
1658:Src/vl6180x_api.c **** 	int status;
1659:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
1660:Src/vl6180x_api.c **** 	status = VL6180x_RangeSetSystemMode(dev, MODE_START_STOP | MODE_SINGLESHOT);
1661:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1662:Src/vl6180x_api.c **** 	return status;
1663:Src/vl6180x_api.c **** }
1664:Src/vl6180x_api.c **** 
1665:Src/vl6180x_api.c **** 
1666:Src/vl6180x_api.c **** static int VL6180x_RangeSetEarlyConvergenceEestimateThreshold(VL6180xDev_t dev)
1667:Src/vl6180x_api.c **** {
1668:Src/vl6180x_api.c **** 	int status;
1669:Src/vl6180x_api.c **** 
1670:Src/vl6180x_api.c **** 	const uint32_t cMicroSecPerMilliSec  = 1000;
1671:Src/vl6180x_api.c **** 	const uint32_t cEceSampleTime_us     = 500;
1672:Src/vl6180x_api.c **** 	uint32_t ece_factor_m          = VL6180xDevDataGet(dev, EceFactorM);
1673:Src/vl6180x_api.c **** 	uint32_t ece_factor_d          = VL6180xDevDataGet(dev, EceFactorD);
1674:Src/vl6180x_api.c **** 	uint32_t convergTime_us;
1675:Src/vl6180x_api.c **** 	uint32_t fineThresh;
1676:Src/vl6180x_api.c **** 	uint32_t eceThresh;
1677:Src/vl6180x_api.c **** 	uint8_t  u8;
1678:Src/vl6180x_api.c **** 	uint32_t maxConv_ms;
1679:Src/vl6180x_api.c **** 	int32_t AveTime;
1680:Src/vl6180x_api.c **** 
1681:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
1682:Src/vl6180x_api.c **** 
1683:Src/vl6180x_api.c **** 	do {
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 31


1684:Src/vl6180x_api.c **** 		status = VL6180x_RdByte(dev, SYSRANGE_MAX_CONVERGENCE_TIME, &u8);
1685:Src/vl6180x_api.c **** 		if (status) {
1686:Src/vl6180x_api.c **** 			VL6180x_ErrLog("SYSRANGE_MAX_CONVERGENCE_TIME rd fail");
1687:Src/vl6180x_api.c **** 			break;
1688:Src/vl6180x_api.c **** 		}
1689:Src/vl6180x_api.c **** 		maxConv_ms = u8;
1690:Src/vl6180x_api.c **** 		AveTime = _GetAveTotalTime(dev);
1691:Src/vl6180x_api.c **** 		if (AveTime < 0) {
1692:Src/vl6180x_api.c **** 			status = -1;
1693:Src/vl6180x_api.c **** 			break;
1694:Src/vl6180x_api.c **** 		}
1695:Src/vl6180x_api.c **** 
1696:Src/vl6180x_api.c **** 		convergTime_us = maxConv_ms * cMicroSecPerMilliSec - AveTime;
1697:Src/vl6180x_api.c **** 		status = VL6180x_RdDWord(dev, 0xB8, &fineThresh);
1698:Src/vl6180x_api.c **** 		if (status) {
1699:Src/vl6180x_api.c **** 			VL6180x_ErrLog("reg 0xB8 rd fail");
1700:Src/vl6180x_api.c **** 			break;
1701:Src/vl6180x_api.c **** 		}
1702:Src/vl6180x_api.c **** 		fineThresh *= 256;
1703:Src/vl6180x_api.c **** 		eceThresh = ece_factor_m * cEceSampleTime_us * fineThresh / (convergTime_us * ece_factor_d);
1704:Src/vl6180x_api.c **** 
1705:Src/vl6180x_api.c **** 		status = VL6180x_WrWord(dev, SYSRANGE_EARLY_CONVERGENCE_ESTIMATE, (uint16_t)eceThresh);
1706:Src/vl6180x_api.c **** 	} while (0);
1707:Src/vl6180x_api.c **** 
1708:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1709:Src/vl6180x_api.c **** 	return status;
1710:Src/vl6180x_api.c **** }
1711:Src/vl6180x_api.c **** 
1712:Src/vl6180x_api.c **** 
1713:Src/vl6180x_api.c **** static int _RangeIgnore_UpdateDevice(VL6180xDev_t dev){
1714:Src/vl6180x_api.c **** 	int status;
1715:Src/vl6180x_api.c **** 	int enable;
1716:Src/vl6180x_api.c **** 	int threshold;
1717:Src/vl6180x_api.c **** 	int range;
1718:Src/vl6180x_api.c **** 	int or_mask;
1719:Src/vl6180x_api.c **** 	enable= VL6180xDevDataGet(dev, RangeIgnore.Enabled);
1720:Src/vl6180x_api.c **** 	if( enable ){
1721:Src/vl6180x_api.c **** 		// if to be nabled program first range value and threshold
1722:Src/vl6180x_api.c **** 		range = VL6180xDevDataGet(dev, RangeIgnore.ValidHeight);
1723:Src/vl6180x_api.c **** 		range /= _GetUpscale(dev);
1724:Src/vl6180x_api.c **** 		if( range > 255 )
1725:Src/vl6180x_api.c **** 			range = 255;
1726:Src/vl6180x_api.c **** 
1727:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSRANGE_RANGE_IGNORE_VALID_HEIGHT,  range);
1728:Src/vl6180x_api.c **** 		if( status ){
1729:Src/vl6180x_api.c **** 			goto done;
1730:Src/vl6180x_api.c **** 		}
1731:Src/vl6180x_api.c **** 
1732:Src/vl6180x_api.c **** 		threshold = VL6180xDevDataGet(dev, RangeIgnore.IgnoreThreshold);
1733:Src/vl6180x_api.c **** 		status = VL6180x_WrWord(dev, SYSRANGE_RANGE_IGNORE_THRESHOLD,  threshold);
1734:Src/vl6180x_api.c **** 		if( status ){
1735:Src/vl6180x_api.c **** 			goto done;
1736:Src/vl6180x_api.c **** 		}
1737:Src/vl6180x_api.c **** 		or_mask = RANGE_CHECK_RANGE_ENABLE_MASK;
1738:Src/vl6180x_api.c **** 	}
1739:Src/vl6180x_api.c **** 	else{
1740:Src/vl6180x_api.c **** 		or_mask = 0;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 32


1741:Src/vl6180x_api.c **** 	}
1742:Src/vl6180x_api.c **** 	status = VL6180x_UpdateByte(dev, SYSRANGE_RANGE_CHECK_ENABLES, ~RANGE_CHECK_RANGE_ENABLE_MASK, or_
1743:Src/vl6180x_api.c **** 	_DMax_InitData(dev);
1744:Src/vl6180x_api.c **** done:
1745:Src/vl6180x_api.c **** 	return status;
1746:Src/vl6180x_api.c **** }
1747:Src/vl6180x_api.c **** 
1748:Src/vl6180x_api.c **** int VL6180x_RangeIgnoreSetEnable(VL6180xDev_t dev, int EnableState){
1749:Src/vl6180x_api.c **** 	int CurEnable;
1750:Src/vl6180x_api.c **** 	int status;
1751:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("enable %d", EnableState);
1752:Src/vl6180x_api.c **** 
1753:Src/vl6180x_api.c **** 	if( EnableState )
1754:Src/vl6180x_api.c **** 		EnableState = 1;
1755:Src/vl6180x_api.c **** 
1756:Src/vl6180x_api.c **** 	CurEnable = VL6180xDevDataGet(dev, RangeIgnore.Enabled);
1757:Src/vl6180x_api.c **** 	if( EnableState != CurEnable  ){
1758:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, RangeIgnore.Enabled, EnableState);
1759:Src/vl6180x_api.c **** 		status = _RangeIgnore_UpdateDevice(dev);
1760:Src/vl6180x_api.c **** 	}
1761:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1762:Src/vl6180x_api.c **** 	return status;
1763:Src/vl6180x_api.c **** }
1764:Src/vl6180x_api.c **** 
1765:Src/vl6180x_api.c **** int VL6180x_RangeIgnoreConfigure(VL6180xDev_t dev, uint16_t ValidHeight_mm, uint16_t IgnoreThreshol
1766:Src/vl6180x_api.c **** 	int status;
1767:Src/vl6180x_api.c **** 	int enabled;
1768:Src/vl6180x_api.c **** 
1769:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("height= %d Threshold=%d", (int)ValidHeight_mm, (int)Threshold);
1770:Src/vl6180x_api.c **** 
1771:Src/vl6180x_api.c **** 	enabled = VL6180xDevDataGet(dev, RangeIgnore.Enabled);
1772:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, RangeIgnore.ValidHeight, ValidHeight_mm);
1773:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, RangeIgnore.IgnoreThreshold, IgnoreThreshold);
1774:Src/vl6180x_api.c **** 	if(  enabled ){
1775:Src/vl6180x_api.c **** 		status = _RangeIgnore_UpdateDevice(dev);
1776:Src/vl6180x_api.c **** 	}
1777:Src/vl6180x_api.c **** 	else{
1778:Src/vl6180x_api.c **** 		status = 0;
1779:Src/vl6180x_api.c **** 	}
1780:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
1781:Src/vl6180x_api.c **** 	return status;
1782:Src/vl6180x_api.c **** }
1783:Src/vl6180x_api.c **** 
1784:Src/vl6180x_api.c **** /*
1785:Src/vl6180x_api.c ****  * Return >0 = time
1786:Src/vl6180x_api.c ****  *       <0 1 if fail to get read data from device to compute time
1787:Src/vl6180x_api.c ****  */
1788:Src/vl6180x_api.c **** static int32_t _GetAveTotalTime(VL6180xDev_t dev)
1789:Src/vl6180x_api.c **** {
1790:Src/vl6180x_api.c **** 	uint32_t cFwOverhead_us = 24;
1791:Src/vl6180x_api.c **** 	uint32_t cVcpSetupTime_us = 70;
1792:Src/vl6180x_api.c **** 	uint32_t cPLL2_StartupDelay_us = 200;
1793:Src/vl6180x_api.c **** 	uint8_t cMeasMask = 0x07;
1794:Src/vl6180x_api.c **** 	uint32_t Samples;
1795:Src/vl6180x_api.c **** 	uint32_t SamplePeriod;
1796:Src/vl6180x_api.c **** 	uint32_t SingleTime_us;
1797:Src/vl6180x_api.c **** 	int32_t TotalAveTime_us;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 33


1798:Src/vl6180x_api.c **** 	uint8_t u8;
1799:Src/vl6180x_api.c **** 	int status;
1800:Src/vl6180x_api.c **** 
1801:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
1802:Src/vl6180x_api.c **** 
1803:Src/vl6180x_api.c **** 	status = VL6180x_RdByte(dev, 0x109, &u8);
1804:Src/vl6180x_api.c **** 	if (status) {
1805:Src/vl6180x_api.c **** 		VL6180x_ErrLog("rd 0x109 fail");
1806:Src/vl6180x_api.c **** 		return -1;
1807:Src/vl6180x_api.c **** 	}
1808:Src/vl6180x_api.c **** 	Samples = u8 & cMeasMask;
1809:Src/vl6180x_api.c **** 	status = VL6180x_RdByte(dev, READOUT_AVERAGING_SAMPLE_PERIOD, &u8);
1810:Src/vl6180x_api.c **** 	if (status) {
1811:Src/vl6180x_api.c **** 		VL6180x_ErrLog("i2c READOUT_AVERAGING_SAMPLE_PERIOD fail");
1812:Src/vl6180x_api.c **** 		return -1;
1813:Src/vl6180x_api.c **** 	}
1814:Src/vl6180x_api.c **** 	SamplePeriod = u8;
1815:Src/vl6180x_api.c **** 	SingleTime_us = cFwOverhead_us + cVcpSetupTime_us + (SamplePeriod * 10);
1816:Src/vl6180x_api.c **** 	TotalAveTime_us = (Samples + 1) * SingleTime_us + cPLL2_StartupDelay_us;
1817:Src/vl6180x_api.c **** 
1818:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(TotalAveTime_us);
1819:Src/vl6180x_api.c **** 	return TotalAveTime_us;
1820:Src/vl6180x_api.c **** }
1821:Src/vl6180x_api.c **** 
1822:Src/vl6180x_api.c **** #if VL6180x_HAVE_DMAX_RANGING
1823:Src/vl6180x_api.c **** #define _GetDMaxDataRetSignalAt400mm(dev) VL6180xDevDataGet(dev, DMaxData.retSignalAt400mm)
1824:Src/vl6180x_api.c **** #else
1825:Src/vl6180x_api.c **** #define _GetDMaxDataRetSignalAt400mm(dev) 375 /* Use a default high value */
1826:Src/vl6180x_api.c **** #endif
1827:Src/vl6180x_api.c **** 
1828:Src/vl6180x_api.c **** 
1829:Src/vl6180x_api.c **** #if VL6180x_WRAP_AROUND_FILTER_SUPPORT
1830:Src/vl6180x_api.c **** 
1831:Src/vl6180x_api.c **** #define PRESERVE_DEVICE_ERROR_CODE		/* If uncommented, device error code will be preserved on top o
1832:Src/vl6180x_api.c **** #define SENSITIVE_FILTERING_ON_GOING	/* If uncommented, filter will go back to RangingFilteringOnGo
1833:Src/vl6180x_api.c **** 
1834:Src/vl6180x_api.c **** #define FILTER_STDDEV_SAMPLES           6
1835:Src/vl6180x_api.c **** #define MIN_FILTER_STDDEV_SAMPLES       3
1836:Src/vl6180x_api.c **** #define MIN_FILTER_STDDEV_SAMPLES_AFTER_FLUSH_OR_BYPASS 5
1837:Src/vl6180x_api.c **** #define STDDEV_BASE_VALUE               150
1838:Src/vl6180x_api.c **** 
1839:Src/vl6180x_api.c **** #define FILTER_INVALID_DISTANCE     65535
1840:Src/vl6180x_api.c **** 
1841:Src/vl6180x_api.c **** #define _FilterData(field) VL6180xDevDataGet(dev, FilterData.field)
1842:Src/vl6180x_api.c **** /*
1843:Src/vl6180x_api.c ****  * One time init
1844:Src/vl6180x_api.c ****  */
1845:Src/vl6180x_api.c **** int _filter_Init(VL6180xDev_t dev)
1846:Src/vl6180x_api.c **** {
  29              		.loc 1 1846 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34              		.loc 1 1846 1 is_stmt 0 view .LVU1
  35 0000 0146     		mov	r1, r0
1847:Src/vl6180x_api.c **** 	int i;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 34


  36              		.loc 1 1847 2 is_stmt 1 view .LVU2
1848:Src/vl6180x_api.c **** 	_FilterData(MeasurementIndex) = 0;
  37              		.loc 1 1848 2 view .LVU3
  38              		.loc 1 1848 32 is_stmt 0 view .LVU4
  39 0002 0023     		movs	r3, #0
  40 0004 C361     		str	r3, [r0, #28]
1849:Src/vl6180x_api.c **** 
1850:Src/vl6180x_api.c **** 	_FilterData(Default_ZeroVal) = 0;
  41              		.loc 1 1850 2 is_stmt 1 view .LVU5
  42              		.loc 1 1850 31 is_stmt 0 view .LVU6
  43 0006 4366     		str	r3, [r0, #100]
1851:Src/vl6180x_api.c **** 	_FilterData(Default_VAVGVal) = 0;
  44              		.loc 1 1851 2 is_stmt 1 view .LVU7
  45              		.loc 1 1851 31 is_stmt 0 view .LVU8
  46 0008 8366     		str	r3, [r0, #104]
1852:Src/vl6180x_api.c **** 	_FilterData(NoDelay_ZeroVal) = 0;
  47              		.loc 1 1852 2 is_stmt 1 view .LVU9
  48              		.loc 1 1852 31 is_stmt 0 view .LVU10
  49 000a C366     		str	r3, [r0, #108]
1853:Src/vl6180x_api.c **** 	_FilterData(NoDelay_VAVGVal) = 0;
  50              		.loc 1 1853 2 is_stmt 1 view .LVU11
  51              		.loc 1 1853 31 is_stmt 0 view .LVU12
  52 000c 0367     		str	r3, [r0, #112]
1854:Src/vl6180x_api.c **** 	_FilterData(Previous_VAVGDiff) = 0;
  53              		.loc 1 1854 2 is_stmt 1 view .LVU13
  54              		.loc 1 1854 33 is_stmt 0 view .LVU14
  55 000e 4367     		str	r3, [r0, #116]
1855:Src/vl6180x_api.c **** 
1856:Src/vl6180x_api.c **** 	_FilterData(StdFilteredReads) = 0;
  56              		.loc 1 1856 2 is_stmt 1 view .LVU15
  57              		.loc 1 1856 32 is_stmt 0 view .LVU16
  58 0010 A0F86030 		strh	r3, [r0, #96]	@ movhi
1857:Src/vl6180x_api.c **** 	_FilterData(FilteringOnGoingConsecutiveStates) = 0;
  59              		.loc 1 1857 2 is_stmt 1 view .LVU17
  60              		.loc 1 1857 49 is_stmt 0 view .LVU18
  61 0014 8367     		str	r3, [r0, #120]
1858:Src/vl6180x_api.c **** 
1859:Src/vl6180x_api.c **** 	for (i = 0; i < FILTER_NBOF_SAMPLES; i++) {
  62              		.loc 1 1859 2 is_stmt 1 view .LVU19
  63              	.LVL1:
  64              	.L2:
  65              		.loc 1 1859 14 discriminator 1 view .LVU20
  66              		.loc 1 1859 2 is_stmt 0 discriminator 1 view .LVU21
  67 0016 092B     		cmp	r3, #9
  68 0018 0EDC     		bgt	.L4
1860:Src/vl6180x_api.c **** 		_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
  69              		.loc 1 1860 3 is_stmt 1 discriminator 3 view .LVU22
  70              		.loc 1 1860 33 is_stmt 0 discriminator 3 view .LVU23
  71 001a 03F11002 		add	r2, r3, #16
  72 001e 01EB4202 		add	r2, r1, r2, lsl #1
  73 0022 4FF6FF70 		movw	r0, #65535
  74 0026 9080     		strh	r0, [r2, #4]	@ movhi
1861:Src/vl6180x_api.c **** 		_FilterData(LastReturnRates)[i] = 0;
  75              		.loc 1 1861 3 is_stmt 1 discriminator 3 view .LVU24
  76              		.loc 1 1861 35 is_stmt 0 discriminator 3 view .LVU25
  77 0028 03F10C02 		add	r2, r3, #12
  78 002c 01EB8202 		add	r2, r1, r2, lsl #2
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 35


  79 0030 0020     		movs	r0, #0
  80 0032 9060     		str	r0, [r2, #8]
1859:Src/vl6180x_api.c **** 		_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
  81              		.loc 1 1859 39 is_stmt 1 discriminator 3 view .LVU26
1859:Src/vl6180x_api.c **** 		_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
  82              		.loc 1 1859 40 is_stmt 0 discriminator 3 view .LVU27
  83 0034 0133     		adds	r3, r3, #1
  84              	.LVL2:
1859:Src/vl6180x_api.c **** 		_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
  85              		.loc 1 1859 40 discriminator 3 view .LVU28
  86 0036 EEE7     		b	.L2
  87              	.L4:
1862:Src/vl6180x_api.c **** 	}
1863:Src/vl6180x_api.c **** 	_FilterData(MeasurementsSinceLastFlush)=0;
  88              		.loc 1 1863 2 is_stmt 1 view .LVU29
  89              		.loc 1 1863 41 is_stmt 0 view .LVU30
  90 0038 0020     		movs	r0, #0
  91 003a 0862     		str	r0, [r1, #32]
1864:Src/vl6180x_api.c **** 	return 0;
  92              		.loc 1 1864 2 is_stmt 1 view .LVU31
1865:Src/vl6180x_api.c **** }
  93              		.loc 1 1865 1 is_stmt 0 view .LVU32
  94 003c 7047     		bx	lr
  95              		.cfi_endproc
  96              	.LFE65:
  98              		.section	.text._filter_StdDevDamper,"ax",%progbits
  99              		.align	1
 100              		.syntax unified
 101              		.thumb
 102              		.thumb_func
 103              		.fpu fpv4-sp-d16
 105              	_filter_StdDevDamper:
 106              	.LVL3:
 107              	.LFB66:
1866:Src/vl6180x_api.c **** 
1867:Src/vl6180x_api.c **** 
1868:Src/vl6180x_api.c **** static uint32_t _filter_StdDevDamper(uint32_t AmbientRate,
1869:Src/vl6180x_api.c **** 									uint32_t SignalRate,
1870:Src/vl6180x_api.c **** 									const uint32_t StdDevLimitLowLight,
1871:Src/vl6180x_api.c **** 									const uint32_t StdDevLimitLowLightSNR,
1872:Src/vl6180x_api.c **** 									const uint32_t StdDevLimitHighLight,
1873:Src/vl6180x_api.c **** 									const uint32_t StdDevLimitHighLightSNR)
1874:Src/vl6180x_api.c **** {
 108              		.loc 1 1874 1 is_stmt 1 view -0
 109              		.cfi_startproc
 110              		@ args = 8, pretend = 0, frame = 0
 111              		@ frame_needed = 0, uses_anonymous_args = 0
 112              		@ link register save eliminated.
 113              		.loc 1 1874 1 is_stmt 0 view .LVU34
 114 0000 70B4     		push	{r4, r5, r6}
 115              	.LCFI0:
 116              		.cfi_def_cfa_offset 12
 117              		.cfi_offset 4, -12
 118              		.cfi_offset 5, -8
 119              		.cfi_offset 6, -4
 120 0002 049D     		ldr	r5, [sp, #16]
1875:Src/vl6180x_api.c **** 	uint32_t newStdDev;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 36


 121              		.loc 1 1875 2 is_stmt 1 view .LVU35
1876:Src/vl6180x_api.c **** 	uint16_t SNR;
 122              		.loc 1 1876 2 view .LVU36
1877:Src/vl6180x_api.c **** 
1878:Src/vl6180x_api.c **** 	if (AmbientRate > 0)
 123              		.loc 1 1878 2 view .LVU37
 124              		.loc 1 1878 5 is_stmt 0 view .LVU38
 125 0004 98B1     		cbz	r0, .L8
1879:Src/vl6180x_api.c **** 		SNR = (uint16_t) ((100 * SignalRate) / AmbientRate);
 126              		.loc 1 1879 3 is_stmt 1 view .LVU39
 127              		.loc 1 1879 26 is_stmt 0 view .LVU40
 128 0006 6424     		movs	r4, #100
 129 0008 04FB01F1 		mul	r1, r4, r1
 130              	.LVL4:
 131              		.loc 1 1879 40 view .LVU41
 132 000c B1FBF0F1 		udiv	r1, r1, r0
 133              		.loc 1 1879 7 view .LVU42
 134 0010 89B2     		uxth	r1, r1
 135              	.LVL5:
 136              	.L6:
1880:Src/vl6180x_api.c **** 	else
1881:Src/vl6180x_api.c **** 		SNR = 9999;
1882:Src/vl6180x_api.c **** 
1883:Src/vl6180x_api.c **** 	if (SNR >= StdDevLimitLowLightSNR) {
 137              		.loc 1 1883 2 is_stmt 1 view .LVU43
 138              		.loc 1 1883 5 is_stmt 0 view .LVU44
 139 0012 9942     		cmp	r1, r3
 140 0014 0FD2     		bcs	.L7
1884:Src/vl6180x_api.c **** 		newStdDev = StdDevLimitLowLight;
1885:Src/vl6180x_api.c **** 	} else {
1886:Src/vl6180x_api.c **** 		if (SNR <= StdDevLimitHighLightSNR)
 141              		.loc 1 1886 3 is_stmt 1 view .LVU45
 142              		.loc 1 1886 6 is_stmt 0 view .LVU46
 143 0016 A942     		cmp	r1, r5
 144 0018 0CD9     		bls	.L9
1887:Src/vl6180x_api.c **** 			newStdDev = StdDevLimitHighLight;
1888:Src/vl6180x_api.c **** 		else {
1889:Src/vl6180x_api.c **** 			newStdDev = (uint32_t)(StdDevLimitHighLight -
 145              		.loc 1 1889 4 is_stmt 1 view .LVU47
1890:Src/vl6180x_api.c **** 									(SNR - StdDevLimitHighLightSNR) *
 146              		.loc 1 1890 15 is_stmt 0 view .LVU48
 147 001a 481B     		subs	r0, r1, r5
 148              	.LVL6:
1891:Src/vl6180x_api.c **** 									(StdDevLimitHighLight - StdDevLimitLowLight) /
 149              		.loc 1 1891 32 view .LVU49
 150 001c 0399     		ldr	r1, [sp, #12]
 151              	.LVL7:
 152              		.loc 1 1891 32 view .LVU50
 153 001e 8A1A     		subs	r2, r1, r2
 154              	.LVL8:
1890:Src/vl6180x_api.c **** 									(SNR - StdDevLimitHighLightSNR) *
 155              		.loc 1 1890 42 view .LVU51
 156 0020 02FB00F2 		mul	r2, r2, r0
1892:Src/vl6180x_api.c **** 									(StdDevLimitLowLightSNR - StdDevLimitHighLightSNR));
 157              		.loc 1 1892 34 view .LVU52
 158 0024 5B1B     		subs	r3, r3, r5
 159              	.LVL9:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 37


1891:Src/vl6180x_api.c **** 									(StdDevLimitHighLight - StdDevLimitLowLight) /
 160              		.loc 1 1891 55 view .LVU53
 161 0026 B2FBF3F2 		udiv	r2, r2, r3
1889:Src/vl6180x_api.c **** 									(SNR - StdDevLimitHighLightSNR) *
 162              		.loc 1 1889 14 view .LVU54
 163 002a 8A1A     		subs	r2, r1, r2
 164              	.LVL10:
1889:Src/vl6180x_api.c **** 									(SNR - StdDevLimitHighLightSNR) *
 165              		.loc 1 1889 14 view .LVU55
 166 002c 03E0     		b	.L7
 167              	.LVL11:
 168              	.L8:
1881:Src/vl6180x_api.c **** 
 169              		.loc 1 1881 7 view .LVU56
 170 002e 42F20F71 		movw	r1, #9999
 171              	.LVL12:
1881:Src/vl6180x_api.c **** 
 172              		.loc 1 1881 7 view .LVU57
 173 0032 EEE7     		b	.L6
 174              	.LVL13:
 175              	.L9:
1887:Src/vl6180x_api.c **** 		else {
 176              		.loc 1 1887 14 view .LVU58
 177 0034 039A     		ldr	r2, [sp, #12]
 178              	.LVL14:
 179              	.L7:
1893:Src/vl6180x_api.c **** 		}
1894:Src/vl6180x_api.c **** 	}
1895:Src/vl6180x_api.c **** 
1896:Src/vl6180x_api.c **** 	return newStdDev;
 180              		.loc 1 1896 2 is_stmt 1 view .LVU59
1897:Src/vl6180x_api.c **** }
 181              		.loc 1 1897 1 is_stmt 0 view .LVU60
 182 0036 1046     		mov	r0, r2
 183 0038 70BC     		pop	{r4, r5, r6}
 184              	.LCFI1:
 185              		.cfi_restore 6
 186              		.cfi_restore 5
 187              		.cfi_restore 4
 188              		.cfi_def_cfa_offset 0
 189              	.LVL15:
 190              		.loc 1 1897 1 view .LVU61
 191 003a 7047     		bx	lr
 192              		.cfi_endproc
 193              	.LFE66:
 195              		.section	.text._GetAveTotalTime,"ax",%progbits
 196              		.align	1
 197              		.syntax unified
 198              		.thumb
 199              		.thumb_func
 200              		.fpu fpv4-sp-d16
 202              	_GetAveTotalTime:
 203              	.LVL16:
 204              	.LFB64:
1789:Src/vl6180x_api.c **** 	uint32_t cFwOverhead_us = 24;
 205              		.loc 1 1789 1 is_stmt 1 view -0
 206              		.cfi_startproc
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 38


 207              		@ args = 0, pretend = 0, frame = 8
 208              		@ frame_needed = 0, uses_anonymous_args = 0
1789:Src/vl6180x_api.c **** 	uint32_t cFwOverhead_us = 24;
 209              		.loc 1 1789 1 is_stmt 0 view .LVU63
 210 0000 30B5     		push	{r4, r5, lr}
 211              	.LCFI2:
 212              		.cfi_def_cfa_offset 12
 213              		.cfi_offset 4, -12
 214              		.cfi_offset 5, -8
 215              		.cfi_offset 14, -4
 216 0002 83B0     		sub	sp, sp, #12
 217              	.LCFI3:
 218              		.cfi_def_cfa_offset 24
 219 0004 0446     		mov	r4, r0
1790:Src/vl6180x_api.c **** 	uint32_t cVcpSetupTime_us = 70;
 220              		.loc 1 1790 2 is_stmt 1 view .LVU64
 221              	.LVL17:
1791:Src/vl6180x_api.c **** 	uint32_t cPLL2_StartupDelay_us = 200;
 222              		.loc 1 1791 2 view .LVU65
1792:Src/vl6180x_api.c **** 	uint8_t cMeasMask = 0x07;
 223              		.loc 1 1792 2 view .LVU66
1793:Src/vl6180x_api.c **** 	uint32_t Samples;
 224              		.loc 1 1793 2 view .LVU67
1794:Src/vl6180x_api.c **** 	uint32_t SamplePeriod;
 225              		.loc 1 1794 2 view .LVU68
1795:Src/vl6180x_api.c **** 	uint32_t SingleTime_us;
 226              		.loc 1 1795 2 view .LVU69
1796:Src/vl6180x_api.c **** 	int32_t TotalAveTime_us;
 227              		.loc 1 1796 2 view .LVU70
1797:Src/vl6180x_api.c **** 	uint8_t u8;
 228              		.loc 1 1797 2 view .LVU71
1798:Src/vl6180x_api.c **** 	int status;
 229              		.loc 1 1798 2 view .LVU72
1799:Src/vl6180x_api.c **** 
 230              		.loc 1 1799 2 view .LVU73
1801:Src/vl6180x_api.c **** 
 231              		.loc 1 1801 2 view .LVU74
1803:Src/vl6180x_api.c **** 	if (status) {
 232              		.loc 1 1803 2 view .LVU75
1803:Src/vl6180x_api.c **** 	if (status) {
 233              		.loc 1 1803 11 is_stmt 0 view .LVU76
 234 0006 0DF10702 		add	r2, sp, #7
 235 000a 40F20911 		movw	r1, #265
 236 000e FFF7FEFF 		bl	VL6180x_RdByte
 237              	.LVL18:
1804:Src/vl6180x_api.c **** 		VL6180x_ErrLog("rd 0x109 fail");
 238              		.loc 1 1804 2 is_stmt 1 view .LVU77
1804:Src/vl6180x_api.c **** 		VL6180x_ErrLog("rd 0x109 fail");
 239              		.loc 1 1804 5 is_stmt 0 view .LVU78
 240 0012 B0B9     		cbnz	r0, .L13
1808:Src/vl6180x_api.c **** 	status = VL6180x_RdByte(dev, READOUT_AVERAGING_SAMPLE_PERIOD, &u8);
 241              		.loc 1 1808 2 is_stmt 1 view .LVU79
1808:Src/vl6180x_api.c **** 	status = VL6180x_RdByte(dev, READOUT_AVERAGING_SAMPLE_PERIOD, &u8);
 242              		.loc 1 1808 15 is_stmt 0 view .LVU80
 243 0014 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 244              	.LVL19:
1808:Src/vl6180x_api.c **** 	status = VL6180x_RdByte(dev, READOUT_AVERAGING_SAMPLE_PERIOD, &u8);
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 39


 245              		.loc 1 1808 15 view .LVU81
 246 0018 00F00705 		and	r5, r0, #7
 247              	.LVL20:
1809:Src/vl6180x_api.c **** 	if (status) {
 248              		.loc 1 1809 2 is_stmt 1 view .LVU82
1809:Src/vl6180x_api.c **** 	if (status) {
 249              		.loc 1 1809 11 is_stmt 0 view .LVU83
 250 001c 0DF10702 		add	r2, sp, #7
 251 0020 4FF48571 		mov	r1, #266
 252 0024 2046     		mov	r0, r4
 253 0026 FFF7FEFF 		bl	VL6180x_RdByte
 254              	.LVL21:
1810:Src/vl6180x_api.c **** 		VL6180x_ErrLog("i2c READOUT_AVERAGING_SAMPLE_PERIOD fail");
 255              		.loc 1 1810 2 is_stmt 1 view .LVU84
1810:Src/vl6180x_api.c **** 		VL6180x_ErrLog("i2c READOUT_AVERAGING_SAMPLE_PERIOD fail");
 256              		.loc 1 1810 5 is_stmt 0 view .LVU85
 257 002a 68B9     		cbnz	r0, .L14
1814:Src/vl6180x_api.c **** 	SingleTime_us = cFwOverhead_us + cVcpSetupTime_us + (SamplePeriod * 10);
 258              		.loc 1 1814 2 is_stmt 1 view .LVU86
1814:Src/vl6180x_api.c **** 	SingleTime_us = cFwOverhead_us + cVcpSetupTime_us + (SamplePeriod * 10);
 259              		.loc 1 1814 15 is_stmt 0 view .LVU87
 260 002c 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 261              	.LVL22:
1815:Src/vl6180x_api.c **** 	TotalAveTime_us = (Samples + 1) * SingleTime_us + cPLL2_StartupDelay_us;
 262              		.loc 1 1815 2 is_stmt 1 view .LVU88
1815:Src/vl6180x_api.c **** 	TotalAveTime_us = (Samples + 1) * SingleTime_us + cPLL2_StartupDelay_us;
 263              		.loc 1 1815 68 is_stmt 0 view .LVU89
 264 0030 00EB8000 		add	r0, r0, r0, lsl #2
 265              	.LVL23:
1815:Src/vl6180x_api.c **** 	TotalAveTime_us = (Samples + 1) * SingleTime_us + cPLL2_StartupDelay_us;
 266              		.loc 1 1815 68 view .LVU90
 267 0034 4000     		lsls	r0, r0, #1
1815:Src/vl6180x_api.c **** 	TotalAveTime_us = (Samples + 1) * SingleTime_us + cPLL2_StartupDelay_us;
 268              		.loc 1 1815 16 view .LVU91
 269 0036 5E30     		adds	r0, r0, #94
 270              	.LVL24:
1816:Src/vl6180x_api.c **** 
 271              		.loc 1 1816 2 is_stmt 1 view .LVU92
1816:Src/vl6180x_api.c **** 
 272              		.loc 1 1816 34 is_stmt 0 view .LVU93
 273 0038 05FB0000 		mla	r0, r5, r0, r0
 274              	.LVL25:
1816:Src/vl6180x_api.c **** 
 275              		.loc 1 1816 50 view .LVU94
 276 003c C830     		adds	r0, r0, #200
 277              	.LVL26:
1818:Src/vl6180x_api.c **** 	return TotalAveTime_us;
 278              		.loc 1 1818 2 is_stmt 1 view .LVU95
1819:Src/vl6180x_api.c **** }
 279              		.loc 1 1819 2 view .LVU96
 280              	.L11:
1820:Src/vl6180x_api.c **** 
 281              		.loc 1 1820 1 is_stmt 0 view .LVU97
 282 003e 03B0     		add	sp, sp, #12
 283              	.LCFI4:
 284              		.cfi_remember_state
 285              		.cfi_def_cfa_offset 12
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 40


 286              		@ sp needed
 287 0040 30BD     		pop	{r4, r5, pc}
 288              	.LVL27:
 289              	.L13:
 290              	.LCFI5:
 291              		.cfi_restore_state
1806:Src/vl6180x_api.c **** 	}
 292              		.loc 1 1806 10 view .LVU98
 293 0042 4FF0FF30 		mov	r0, #-1
 294              	.LVL28:
1806:Src/vl6180x_api.c **** 	}
 295              		.loc 1 1806 10 view .LVU99
 296 0046 FAE7     		b	.L11
 297              	.LVL29:
 298              	.L14:
1812:Src/vl6180x_api.c **** 	}
 299              		.loc 1 1812 10 view .LVU100
 300 0048 4FF0FF30 		mov	r0, #-1
 301              	.LVL30:
1812:Src/vl6180x_api.c **** 	}
 302              		.loc 1 1812 10 view .LVU101
 303 004c F7E7     		b	.L11
 304              		.cfi_endproc
 305              	.LFE64:
 307              		.section	.text.VL6180x_RangeSetEarlyConvergenceEestimateThreshold,"ax",%progbits
 308              		.align	1
 309              		.syntax unified
 310              		.thumb
 311              		.thumb_func
 312              		.fpu fpv4-sp-d16
 314              	VL6180x_RangeSetEarlyConvergenceEestimateThreshold:
 315              	.LVL31:
 316              	.LFB60:
1667:Src/vl6180x_api.c **** 	int status;
 317              		.loc 1 1667 1 is_stmt 1 view -0
 318              		.cfi_startproc
 319              		@ args = 0, pretend = 0, frame = 8
 320              		@ frame_needed = 0, uses_anonymous_args = 0
1667:Src/vl6180x_api.c **** 	int status;
 321              		.loc 1 1667 1 is_stmt 0 view .LVU103
 322 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 323              	.LCFI6:
 324              		.cfi_def_cfa_offset 20
 325              		.cfi_offset 4, -20
 326              		.cfi_offset 5, -16
 327              		.cfi_offset 6, -12
 328              		.cfi_offset 7, -8
 329              		.cfi_offset 14, -4
 330 0002 83B0     		sub	sp, sp, #12
 331              	.LCFI7:
 332              		.cfi_def_cfa_offset 32
 333 0004 0446     		mov	r4, r0
1668:Src/vl6180x_api.c **** 
 334              		.loc 1 1668 2 is_stmt 1 view .LVU104
1670:Src/vl6180x_api.c **** 	const uint32_t cEceSampleTime_us     = 500;
 335              		.loc 1 1670 2 view .LVU105
 336              	.LVL32:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 41


1671:Src/vl6180x_api.c **** 	uint32_t ece_factor_m          = VL6180xDevDataGet(dev, EceFactorM);
 337              		.loc 1 1671 2 view .LVU106
1672:Src/vl6180x_api.c **** 	uint32_t ece_factor_d          = VL6180xDevDataGet(dev, EceFactorD);
 338              		.loc 1 1672 2 view .LVU107
1672:Src/vl6180x_api.c **** 	uint32_t ece_factor_d          = VL6180xDevDataGet(dev, EceFactorD);
 339              		.loc 1 1672 35 is_stmt 0 view .LVU108
 340 0006 0689     		ldrh	r6, [r0, #8]
 341              	.LVL33:
1673:Src/vl6180x_api.c **** 	uint32_t convergTime_us;
 342              		.loc 1 1673 2 is_stmt 1 view .LVU109
1673:Src/vl6180x_api.c **** 	uint32_t convergTime_us;
 343              		.loc 1 1673 35 is_stmt 0 view .LVU110
 344 0008 4589     		ldrh	r5, [r0, #10]
 345              	.LVL34:
1674:Src/vl6180x_api.c **** 	uint32_t fineThresh;
 346              		.loc 1 1674 2 is_stmt 1 view .LVU111
1675:Src/vl6180x_api.c **** 	uint32_t eceThresh;
 347              		.loc 1 1675 2 view .LVU112
1676:Src/vl6180x_api.c **** 	uint8_t  u8;
 348              		.loc 1 1676 2 view .LVU113
1677:Src/vl6180x_api.c **** 	uint32_t maxConv_ms;
 349              		.loc 1 1677 2 view .LVU114
1678:Src/vl6180x_api.c **** 	int32_t AveTime;
 350              		.loc 1 1678 2 view .LVU115
1679:Src/vl6180x_api.c **** 
 351              		.loc 1 1679 2 view .LVU116
1681:Src/vl6180x_api.c **** 
 352              		.loc 1 1681 2 view .LVU117
1683:Src/vl6180x_api.c **** 		status = VL6180x_RdByte(dev, SYSRANGE_MAX_CONVERGENCE_TIME, &u8);
 353              		.loc 1 1683 2 view .LVU118
1684:Src/vl6180x_api.c **** 		if (status) {
 354              		.loc 1 1684 3 view .LVU119
1684:Src/vl6180x_api.c **** 		if (status) {
 355              		.loc 1 1684 12 is_stmt 0 view .LVU120
 356 000a 0DF10302 		add	r2, sp, #3
 357 000e 1C21     		movs	r1, #28
 358 0010 FFF7FEFF 		bl	VL6180x_RdByte
 359              	.LVL35:
1685:Src/vl6180x_api.c **** 			VL6180x_ErrLog("SYSRANGE_MAX_CONVERGENCE_TIME rd fail");
 360              		.loc 1 1685 3 is_stmt 1 view .LVU121
1685:Src/vl6180x_api.c **** 			VL6180x_ErrLog("SYSRANGE_MAX_CONVERGENCE_TIME rd fail");
 361              		.loc 1 1685 6 is_stmt 0 view .LVU122
 362 0014 08B1     		cbz	r0, .L20
 363              	.L16:
1710:Src/vl6180x_api.c **** 
 364              		.loc 1 1710 1 view .LVU123
 365 0016 03B0     		add	sp, sp, #12
 366              	.LCFI8:
 367              		.cfi_remember_state
 368              		.cfi_def_cfa_offset 20
 369              		@ sp needed
 370 0018 F0BD     		pop	{r4, r5, r6, r7, pc}
 371              	.LVL36:
 372              	.L20:
 373              	.LCFI9:
 374              		.cfi_restore_state
1689:Src/vl6180x_api.c **** 		AveTime = _GetAveTotalTime(dev);
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 42


 375              		.loc 1 1689 3 is_stmt 1 view .LVU124
1689:Src/vl6180x_api.c **** 		AveTime = _GetAveTotalTime(dev);
 376              		.loc 1 1689 14 is_stmt 0 view .LVU125
 377 001a 9DF80370 		ldrb	r7, [sp, #3]	@ zero_extendqisi2
 378              	.LVL37:
1690:Src/vl6180x_api.c **** 		if (AveTime < 0) {
 379              		.loc 1 1690 3 is_stmt 1 view .LVU126
1690:Src/vl6180x_api.c **** 		if (AveTime < 0) {
 380              		.loc 1 1690 13 is_stmt 0 view .LVU127
 381 001e 2046     		mov	r0, r4
 382 0020 FFF7FEFF 		bl	_GetAveTotalTime
 383              	.LVL38:
1691:Src/vl6180x_api.c **** 			status = -1;
 384              		.loc 1 1691 3 is_stmt 1 view .LVU128
1691:Src/vl6180x_api.c **** 			status = -1;
 385              		.loc 1 1691 6 is_stmt 0 view .LVU129
 386 0024 0028     		cmp	r0, #0
1691:Src/vl6180x_api.c **** 			status = -1;
 387              		.loc 1 1691 6 view .LVU130
 388 0026 1EDB     		blt	.L18
1696:Src/vl6180x_api.c **** 		status = VL6180x_RdDWord(dev, 0xB8, &fineThresh);
 389              		.loc 1 1696 3 is_stmt 1 view .LVU131
1696:Src/vl6180x_api.c **** 		status = VL6180x_RdDWord(dev, 0xB8, &fineThresh);
 390              		.loc 1 1696 31 is_stmt 0 view .LVU132
 391 0028 4FF47A72 		mov	r2, #1000
 392 002c 02FB07F2 		mul	r2, r2, r7
1696:Src/vl6180x_api.c **** 		status = VL6180x_RdDWord(dev, 0xB8, &fineThresh);
 393              		.loc 1 1696 18 view .LVU133
 394 0030 171A     		subs	r7, r2, r0
 395              	.LVL39:
1697:Src/vl6180x_api.c **** 		if (status) {
 396              		.loc 1 1697 3 is_stmt 1 view .LVU134
1697:Src/vl6180x_api.c **** 		if (status) {
 397              		.loc 1 1697 12 is_stmt 0 view .LVU135
 398 0032 01AA     		add	r2, sp, #4
 399 0034 B821     		movs	r1, #184
 400 0036 2046     		mov	r0, r4
 401              	.LVL40:
1697:Src/vl6180x_api.c **** 		if (status) {
 402              		.loc 1 1697 12 view .LVU136
 403 0038 FFF7FEFF 		bl	VL6180x_RdDWord
 404              	.LVL41:
1698:Src/vl6180x_api.c **** 			VL6180x_ErrLog("reg 0xB8 rd fail");
 405              		.loc 1 1698 3 is_stmt 1 view .LVU137
1698:Src/vl6180x_api.c **** 			VL6180x_ErrLog("reg 0xB8 rd fail");
 406              		.loc 1 1698 6 is_stmt 0 view .LVU138
 407 003c 0028     		cmp	r0, #0
 408 003e EAD1     		bne	.L16
1702:Src/vl6180x_api.c **** 		eceThresh = ece_factor_m * cEceSampleTime_us * fineThresh / (convergTime_us * ece_factor_d);
 409              		.loc 1 1702 3 is_stmt 1 view .LVU139
1702:Src/vl6180x_api.c **** 		eceThresh = ece_factor_m * cEceSampleTime_us * fineThresh / (convergTime_us * ece_factor_d);
 410              		.loc 1 1702 14 is_stmt 0 view .LVU140
 411 0040 019A     		ldr	r2, [sp, #4]
 412 0042 1202     		lsls	r2, r2, #8
 413 0044 0192     		str	r2, [sp, #4]
1703:Src/vl6180x_api.c **** 
 414              		.loc 1 1703 3 is_stmt 1 view .LVU141
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 43


1703:Src/vl6180x_api.c **** 
 415              		.loc 1 1703 48 is_stmt 0 view .LVU142
 416 0046 06FB02F2 		mul	r2, r6, r2
 417 004a 4FF4FA70 		mov	r0, #500
 418              	.LVL42:
1703:Src/vl6180x_api.c **** 
 419              		.loc 1 1703 48 view .LVU143
 420 004e 00FB02F2 		mul	r2, r0, r2
1703:Src/vl6180x_api.c **** 
 421              		.loc 1 1703 79 view .LVU144
 422 0052 07FB05F0 		mul	r0, r7, r5
1703:Src/vl6180x_api.c **** 
 423              		.loc 1 1703 13 view .LVU145
 424 0056 B2FBF0F2 		udiv	r2, r2, r0
 425              	.LVL43:
1705:Src/vl6180x_api.c **** 	} while (0);
 426              		.loc 1 1705 3 is_stmt 1 view .LVU146
1705:Src/vl6180x_api.c **** 	} while (0);
 427              		.loc 1 1705 12 is_stmt 0 view .LVU147
 428 005a 92B2     		uxth	r2, r2
 429              	.LVL44:
1705:Src/vl6180x_api.c **** 	} while (0);
 430              		.loc 1 1705 12 view .LVU148
 431 005c 2221     		movs	r1, #34
 432 005e 2046     		mov	r0, r4
 433              	.LVL45:
1705:Src/vl6180x_api.c **** 	} while (0);
 434              		.loc 1 1705 12 view .LVU149
 435 0060 FFF7FEFF 		bl	VL6180x_WrWord
 436              	.LVL46:
1705:Src/vl6180x_api.c **** 	} while (0);
 437              		.loc 1 1705 12 view .LVU150
 438 0064 D7E7     		b	.L16
 439              	.LVL47:
 440              	.L18:
1692:Src/vl6180x_api.c **** 			break;
 441              		.loc 1 1692 11 view .LVU151
 442 0066 4FF0FF30 		mov	r0, #-1
 443              	.LVL48:
1706:Src/vl6180x_api.c **** 
 444              		.loc 1 1706 10 is_stmt 1 view .LVU152
1708:Src/vl6180x_api.c **** 	return status;
 445              		.loc 1 1708 2 view .LVU153
1709:Src/vl6180x_api.c **** }
 446              		.loc 1 1709 2 view .LVU154
1709:Src/vl6180x_api.c **** }
 447              		.loc 1 1709 9 is_stmt 0 view .LVU155
 448 006a D4E7     		b	.L16
 449              		.cfi_endproc
 450              	.LFE60:
 452              		.section	.text._filter_Start,"ax",%progbits
 453              		.align	1
 454              		.syntax unified
 455              		.thumb
 456              		.thumb_func
 457              		.fpu fpv4-sp-d16
 459              	_filter_Start:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 44


 460              	.LVL49:
 461              	.LFB67:
1898:Src/vl6180x_api.c **** 
1899:Src/vl6180x_api.c **** 
1900:Src/vl6180x_api.c **** /*
1901:Src/vl6180x_api.c ****  * Return <0 on error
1902:Src/vl6180x_api.c ****  */
1903:Src/vl6180x_api.c **** static int32_t _filter_Start(VL6180xDev_t dev,
1904:Src/vl6180x_api.c **** 								uint16_t m_trueRange_mm,
1905:Src/vl6180x_api.c **** 								uint16_t m_rawRange_mm,
1906:Src/vl6180x_api.c **** 								uint32_t m_rtnSignalRate,
1907:Src/vl6180x_api.c **** 								uint32_t m_rtnAmbientRate,
1908:Src/vl6180x_api.c **** 								uint16_t errorCode)
1909:Src/vl6180x_api.c **** {
 462              		.loc 1 1909 1 is_stmt 1 view -0
 463              		.cfi_startproc
 464              		@ args = 8, pretend = 0, frame = 40
 465              		@ frame_needed = 0, uses_anonymous_args = 0
 466              		.loc 1 1909 1 is_stmt 0 view .LVU157
 467 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 468              	.LCFI10:
 469              		.cfi_def_cfa_offset 36
 470              		.cfi_offset 4, -36
 471              		.cfi_offset 5, -32
 472              		.cfi_offset 6, -28
 473              		.cfi_offset 7, -24
 474              		.cfi_offset 8, -20
 475              		.cfi_offset 9, -16
 476              		.cfi_offset 10, -12
 477              		.cfi_offset 11, -8
 478              		.cfi_offset 14, -4
 479 0004 8DB0     		sub	sp, sp, #52
 480              	.LCFI11:
 481              		.cfi_def_cfa_offset 88
 482 0006 0446     		mov	r4, r0
 483 0008 0391     		str	r1, [sp, #12]
 484 000a 1F46     		mov	r7, r3
 485 000c BDF85CC0 		ldrh	ip, [sp, #92]
1910:Src/vl6180x_api.c **** 	int status;
 486              		.loc 1 1910 2 is_stmt 1 view .LVU158
1911:Src/vl6180x_api.c **** 	uint16_t m_newTrueRange_mm = 0;
 487              		.loc 1 1911 2 view .LVU159
 488              	.LVL50:
1912:Src/vl6180x_api.c **** 	#if VL6180x_HAVE_MULTI_READ
1913:Src/vl6180x_api.c **** 	uint8_t MultiReadBuf[8];
 489              		.loc 1 1913 2 view .LVU160
1914:Src/vl6180x_api.c **** 	#endif
1915:Src/vl6180x_api.c **** 	uint16_t i;
 490              		.loc 1 1915 2 view .LVU161
1916:Src/vl6180x_api.c **** 	uint16_t bypassFilter = 0;
 491              		.loc 1 1916 2 view .LVU162
1917:Src/vl6180x_api.c **** 	uint16_t resetVAVGData = 1;
 492              		.loc 1 1917 2 view .LVU163
1918:Src/vl6180x_api.c **** 
1919:Src/vl6180x_api.c **** 	uint16_t filterErrorCode = NoError;
 493              		.loc 1 1919 2 view .LVU164
1920:Src/vl6180x_api.c **** 	uint16_t filterErrorCodeOnRangingErrorCode = NoError;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 45


 494              		.loc 1 1920 2 view .LVU165
1921:Src/vl6180x_api.c **** 
1922:Src/vl6180x_api.c **** 	uint16_t registerValue;
 495              		.loc 1 1922 2 view .LVU166
1923:Src/vl6180x_api.c **** 
1924:Src/vl6180x_api.c **** 	uint32_t register32BitsValue1;
 496              		.loc 1 1924 2 view .LVU167
1925:Src/vl6180x_api.c **** 	uint32_t register32BitsValue2;
 497              		.loc 1 1925 2 view .LVU168
1926:Src/vl6180x_api.c **** 
1927:Src/vl6180x_api.c **** 	uint16_t ValidDistance = 0;
 498              		.loc 1 1927 2 view .LVU169
1928:Src/vl6180x_api.c **** 	uint16_t SuspicuousRangingZone = 0;
 499              		.loc 1 1928 2 view .LVU170
1929:Src/vl6180x_api.c **** 
1930:Src/vl6180x_api.c **** 	uint16_t WrapAroundFlag = 0;
 500              		.loc 1 1930 2 view .LVU171
1931:Src/vl6180x_api.c **** 	uint16_t NoWrapAroundFlag = 0;
 501              		.loc 1 1931 2 view .LVU172
1932:Src/vl6180x_api.c **** 	uint16_t NoWrapAroundHighConfidenceFlag = 0;
 502              		.loc 1 1932 2 view .LVU173
1933:Src/vl6180x_api.c **** 
1934:Src/vl6180x_api.c **** 	uint16_t FlushFilter = 0;
 503              		.loc 1 1934 2 view .LVU174
1935:Src/vl6180x_api.c **** 	uint32_t RateChange = 0;
 504              		.loc 1 1935 2 view .LVU175
1936:Src/vl6180x_api.c **** 
1937:Src/vl6180x_api.c **** 	uint16_t StdDevSamplesMinNeeded = 0;
 505              		.loc 1 1937 2 view .LVU176
1938:Src/vl6180x_api.c **** 	uint16_t StdDevSamples = 0;
 506              		.loc 1 1938 2 view .LVU177
1939:Src/vl6180x_api.c **** 	uint32_t StdDevDistanceSum = 0;
 507              		.loc 1 1939 2 view .LVU178
1940:Src/vl6180x_api.c **** 	uint32_t StdDevDistanceMean = 0;
 508              		.loc 1 1940 2 view .LVU179
1941:Src/vl6180x_api.c **** 	uint32_t StdDevDistance = 0;
 509              		.loc 1 1941 2 view .LVU180
1942:Src/vl6180x_api.c **** 	uint32_t StdDevRateSum = 0;
 510              		.loc 1 1942 2 view .LVU181
1943:Src/vl6180x_api.c **** 	uint32_t StdDevRateMean = 0;
 511              		.loc 1 1943 2 view .LVU182
1944:Src/vl6180x_api.c **** 	uint32_t StdDevRate = 0;
 512              		.loc 1 1944 2 view .LVU183
1945:Src/vl6180x_api.c **** 	uint32_t StdDevLimitWithTargetMove = 0;
 513              		.loc 1 1945 2 view .LVU184
1946:Src/vl6180x_api.c **** 
1947:Src/vl6180x_api.c **** 	uint32_t VAVGDiff;
 514              		.loc 1 1947 2 view .LVU185
1948:Src/vl6180x_api.c **** 	uint32_t IdealVAVGDiff;
 515              		.loc 1 1948 2 view .LVU186
1949:Src/vl6180x_api.c **** 	uint32_t MinVAVGDiff;
 516              		.loc 1 1949 2 view .LVU187
1950:Src/vl6180x_api.c **** 	uint32_t MaxVAVGDiff;
 517              		.loc 1 1950 2 view .LVU188
1951:Src/vl6180x_api.c **** 
1952:Src/vl6180x_api.c **** 	/* Filter Parameters */
1953:Src/vl6180x_api.c **** 	static const uint16_t ROMABLE_DATA WrapAroundLowRawRangeLimit = 60;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 46


 518              		.loc 1 1953 2 view .LVU189
1954:Src/vl6180x_api.c **** 	static const uint32_t ROMABLE_DATA WrapAroundLowReturnRateLimit_ROM = 800;
 519              		.loc 1 1954 2 view .LVU190
1955:Src/vl6180x_api.c **** 	/* Shall be adapted depending on crossTalk */
1956:Src/vl6180x_api.c **** 	static const uint16_t ROMABLE_DATA WrapAroundLowRawRangeLimit2 = 165;
 520              		.loc 1 1956 2 view .LVU191
1957:Src/vl6180x_api.c **** 	static const uint32_t ROMABLE_DATA WrapAroundLowReturnRateLimit2_ROM = 180;
 521              		.loc 1 1957 2 view .LVU192
1958:Src/vl6180x_api.c **** 	/* Shall be adapted depending on crossTalk and device sensitivity*/
1959:Src/vl6180x_api.c **** 	static const uint32_t ROMABLE_DATA WrapAroundLowRawRangeLimit2SuspicuousAddedSignalRate = 150;
 522              		.loc 1 1959 2 view .LVU193
1960:Src/vl6180x_api.c **** 
1961:Src/vl6180x_api.c **** 
1962:Src/vl6180x_api.c **** 	static const uint32_t ROMABLE_DATA WrapAroundLowReturnRateFilterLimit_ROM = 850;
 523              		.loc 1 1962 2 view .LVU194
1963:Src/vl6180x_api.c **** 	/* Shall be adapted depending on crossTalk and device sensitivity*/
1964:Src/vl6180x_api.c **** 	static const uint16_t ROMABLE_DATA WrapAroundHighRawRangeFilterLimit = 350;
 524              		.loc 1 1964 2 view .LVU195
1965:Src/vl6180x_api.c **** 	static const uint32_t ROMABLE_DATA WrapAroundHighReturnRateFilterLimit_ROM = 1400;
 525              		.loc 1 1965 2 view .LVU196
1966:Src/vl6180x_api.c **** 	/* Shall be adapted depending on crossTalk and device sensitivity*/
1967:Src/vl6180x_api.c **** 
1968:Src/vl6180x_api.c **** 	static const uint32_t ROMABLE_DATA WrapAroundMaximumAmbientRateFilterLimit = 15000;
 526              		.loc 1 1968 2 view .LVU197
1969:Src/vl6180x_api.c **** 
1970:Src/vl6180x_api.c **** 	/*  Temporal filter data and flush values */
1971:Src/vl6180x_api.c **** 	static const uint32_t ROMABLE_DATA MinReturnRateFilterFlush = 75;
 527              		.loc 1 1971 2 view .LVU198
1972:Src/vl6180x_api.c **** 	static const uint32_t ROMABLE_DATA MaxReturnRateChangeFilterFlush = 50;
 528              		.loc 1 1972 2 view .LVU199
1973:Src/vl6180x_api.c **** 
1974:Src/vl6180x_api.c **** 	/* STDDEV values and damper values */
1975:Src/vl6180x_api.c **** 	static const uint32_t ROMABLE_DATA StdDevLimitLowLight = STDDEV_BASE_VALUE;
 529              		.loc 1 1975 2 view .LVU200
1976:Src/vl6180x_api.c **** 	static const uint32_t ROMABLE_DATA StdDevLimitLowLightSNR = 30; /* 0.3 */
 530              		.loc 1 1976 2 view .LVU201
1977:Src/vl6180x_api.c **** 	static const uint32_t ROMABLE_DATA StdDevLimitHighLight = STDDEV_BASE_VALUE*6;
 531              		.loc 1 1977 2 view .LVU202
1978:Src/vl6180x_api.c **** 	static const uint32_t ROMABLE_DATA StdDevLimitHighLightSNR = 5; /* 0.05 */
 532              		.loc 1 1978 2 view .LVU203
1979:Src/vl6180x_api.c **** 
1980:Src/vl6180x_api.c **** 	static const uint32_t ROMABLE_DATA StdDevHighConfidenceSNRLimit = 8;
 533              		.loc 1 1980 2 view .LVU204
1981:Src/vl6180x_api.c **** 	static const uint32_t ROMABLE_DATA StdDevNoWrapDetectedMultiplier = 4;
 534              		.loc 1 1981 2 view .LVU205
1982:Src/vl6180x_api.c **** 
1983:Src/vl6180x_api.c **** 	static const uint32_t ROMABLE_DATA StdDevMovingTargetStdDevLimit = 90000;
 535              		.loc 1 1983 2 view .LVU206
1984:Src/vl6180x_api.c **** 
1985:Src/vl6180x_api.c **** 	static const uint32_t ROMABLE_DATA StdDevMovingTargetReturnRateLimit = 3500;
 536              		.loc 1 1985 2 view .LVU207
1986:Src/vl6180x_api.c **** 	static const uint32_t ROMABLE_DATA StdDevMovingTargetStdDevForReturnRateLimit = STDDEV_BASE_VALUE*
 537              		.loc 1 1986 2 view .LVU208
1987:Src/vl6180x_api.c **** 
1988:Src/vl6180x_api.c **** 	static const uint32_t ROMABLE_DATA MAX_VAVGDiff_ROM = 1800;
 538              		.loc 1 1988 2 view .LVU209
1989:Src/vl6180x_api.c **** 	static const uint32_t ROMABLE_DATA SuspicuousMAX_VAVGDiffRatio = 2;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 47


 539              		.loc 1 1989 2 view .LVU210
1990:Src/vl6180x_api.c **** 
1991:Src/vl6180x_api.c **** 	/* WrapAroundDetection variables */
1992:Src/vl6180x_api.c **** 	static const uint16_t ROMABLE_DATA WrapAroundNoDelayCheckPeriod = 2;
 540              		.loc 1 1992 2 view .LVU211
1993:Src/vl6180x_api.c **** 	static const uint16_t ROMABLE_DATA StdFilteredReadsIncrement = 2;
 541              		.loc 1 1993 2 view .LVU212
1994:Src/vl6180x_api.c **** 	static const uint16_t ROMABLE_DATA StdFilteredReadsDecrement = 1;
 542              		.loc 1 1994 2 view .LVU213
1995:Src/vl6180x_api.c **** 	static const uint16_t ROMABLE_DATA StdMaxFilteredReads = 4;
 543              		.loc 1 1995 2 view .LVU214
1996:Src/vl6180x_api.c **** 
1997:Src/vl6180x_api.c **** 	uint32_t SignalRateDMax;
 544              		.loc 1 1997 2 view .LVU215
1998:Src/vl6180x_api.c **** 	uint32_t WrapAroundLowReturnRateLimit;
 545              		.loc 1 1998 2 view .LVU216
1999:Src/vl6180x_api.c **** 	uint32_t WrapAroundLowReturnRateLimit2;
 546              		.loc 1 1999 2 view .LVU217
2000:Src/vl6180x_api.c **** 	uint32_t WrapAroundLowReturnRateFilterLimit;
 547              		.loc 1 2000 2 view .LVU218
2001:Src/vl6180x_api.c **** 	uint32_t WrapAroundHighReturnRateFilterLimit;
 548              		.loc 1 2001 2 view .LVU219
2002:Src/vl6180x_api.c **** 
2003:Src/vl6180x_api.c **** 	uint32_t MAX_VAVGDiff = 1800;
 549              		.loc 1 2003 2 view .LVU220
2004:Src/vl6180x_api.c **** 
2005:Src/vl6180x_api.c **** 	uint8_t u8;//, u8_2;
 550              		.loc 1 2005 2 view .LVU221
2006:Src/vl6180x_api.c **** 	uint32_t XTalkCompRate_KCps;
 551              		.loc 1 2006 2 view .LVU222
2007:Src/vl6180x_api.c **** 	uint32_t StdDevLimit = 300;
 552              		.loc 1 2007 2 view .LVU223
2008:Src/vl6180x_api.c **** 	uint32_t MaxOrInvalidDistance =   255*_GetUpscale(dev);
 553              		.loc 1 2008 2 view .LVU224
 554              		.loc 1 2008 40 is_stmt 0 view .LVU225
 555 0010 037E     		ldrb	r3, [r0, #24]	@ zero_extendqisi2
 556              	.LVL51:
 557              		.loc 1 2008 39 view .LVU226
 558 0012 C3EB0321 		rsb	r1, r3, r3, lsl #8
 559              	.LVL52:
 560              		.loc 1 2008 39 view .LVU227
 561 0016 0691     		str	r1, [sp, #24]
 562              	.LVL53:
2009:Src/vl6180x_api.c **** 	/* #define MaxOrInvalidDistance  (uint16_t) (255 * 3) */
2010:Src/vl6180x_api.c **** 
2011:Src/vl6180x_api.c **** 	/* Check if distance is Valid or not */
2012:Src/vl6180x_api.c **** 	switch (errorCode) {
 563              		.loc 1 2012 2 is_stmt 1 view .LVU228
 564 0018 ACF10C01 		sub	r1, ip, #12
 565              	.LVL54:
 566              		.loc 1 2012 2 is_stmt 0 view .LVU229
 567 001c 0329     		cmp	r1, #3
 568 001e 11D8     		bhi	.L22
 569 0020 DFE801F0 		tbb	[pc, r1]
 570              	.LVL55:
 571              	.L24:
 572 0024 19       		.byte	(.L85-.L24)/2
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 48


 573 0025 02       		.byte	(.L23-.L24)/2
 574 0026 19       		.byte	(.L85-.L24)/2
 575 0027 02       		.byte	(.L23-.L24)/2
 576              		.p2align 1
 577              	.L23:
2013:Src/vl6180x_api.c **** 	case Raw_Ranging_Algo_Underflow:
2014:Src/vl6180x_api.c **** 	case Ranging_Algo_Underflow:
2015:Src/vl6180x_api.c **** 		filterErrorCodeOnRangingErrorCode = RangingFiltered; /* If we have to go through filter, mean we 
2016:Src/vl6180x_api.c **** 		ValidDistance = 0;
2017:Src/vl6180x_api.c **** 		break;
2018:Src/vl6180x_api.c **** 	case Raw_Ranging_Algo_Overflow:
2019:Src/vl6180x_api.c **** 	case Ranging_Algo_Overflow:
2020:Src/vl6180x_api.c **** 		filterErrorCodeOnRangingErrorCode = RangingFiltered; /* If we have to go through filter, mean we 
 578              		.loc 1 2020 3 is_stmt 1 view .LVU230
2021:Src/vl6180x_api.c **** 		//m_trueRange_mm = MaxOrInvalidDistance;
2022:Src/vl6180x_api.c **** 		m_trueRange_mm = 200*_GetUpscale(dev);
 579              		.loc 1 2022 3 view .LVU231
 580              		.loc 1 2022 18 is_stmt 0 view .LVU232
 581 0028 03EB8303 		add	r3, r3, r3, lsl #2
 582 002c 03EB8303 		add	r3, r3, r3, lsl #2
 583 0030 DB00     		lsls	r3, r3, #3
 584 0032 9BB2     		uxth	r3, r3
 585 0034 0393     		str	r3, [sp, #12]
 586              	.LVL56:
2023:Src/vl6180x_api.c **** 		ValidDistance = 1;
 587              		.loc 1 2023 3 is_stmt 1 view .LVU233
2024:Src/vl6180x_api.c **** 		break;
 588              		.loc 1 2024 3 view .LVU234
2023:Src/vl6180x_api.c **** 		ValidDistance = 1;
 589              		.loc 1 2023 17 is_stmt 0 view .LVU235
 590 0036 0123     		movs	r3, #1
 591 0038 0493     		str	r3, [sp, #16]
2020:Src/vl6180x_api.c **** 		//m_trueRange_mm = MaxOrInvalidDistance;
 592              		.loc 1 2020 37 view .LVU236
 593 003a 4FF0100A 		mov	r10, #16
1916:Src/vl6180x_api.c **** 	uint16_t resetVAVGData = 1;
 594              		.loc 1 1916 11 view .LVU237
 595 003e 4FF0000B 		mov	fp, #0
 596              		.loc 1 2024 3 view .LVU238
 597 0042 0DE0     		b	.L25
 598              	.LVL57:
 599              	.L22:
2025:Src/vl6180x_api.c **** 	default:
2026:Src/vl6180x_api.c **** 		if (m_rawRange_mm >= MaxOrInvalidDistance) {
 600              		.loc 1 2026 3 is_stmt 1 view .LVU239
 601              		.loc 1 2026 6 is_stmt 0 view .LVU240
 602 0044 069B     		ldr	r3, [sp, #24]
 603 0046 9A42     		cmp	r2, r3
 604 0048 31D3     		bcc	.L86
2027:Src/vl6180x_api.c **** 			ValidDistance = 0;
 605              		.loc 1 2027 18 view .LVU241
 606 004a 0023     		movs	r3, #0
 607 004c 0493     		str	r3, [sp, #16]
1920:Src/vl6180x_api.c **** 
 608              		.loc 1 1920 11 view .LVU242
 609 004e 9A46     		mov	r10, r3
2028:Src/vl6180x_api.c **** 			bypassFilter = 1; /* Bypass the filter in this case as produced distance is not usable (and also
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 49


 610              		.loc 1 2028 17 view .LVU243
 611 0050 4FF0010B 		mov	fp, #1
 612 0054 04E0     		b	.L25
 613              	.L85:
2008:Src/vl6180x_api.c **** 	/* #define MaxOrInvalidDistance  (uint16_t) (255 * 3) */
 614              		.loc 1 2008 11 view .LVU244
 615 0056 0023     		movs	r3, #0
 616 0058 0493     		str	r3, [sp, #16]
 617 005a 4FF0100A 		mov	r10, #16
 618 005e 9B46     		mov	fp, r3
 619              	.LVL58:
 620              	.L25:
2029:Src/vl6180x_api.c **** 		} else {
2030:Src/vl6180x_api.c **** 			ValidDistance = 1;
2031:Src/vl6180x_api.c **** 		}
2032:Src/vl6180x_api.c **** 		break;
2033:Src/vl6180x_api.c **** 	}
2034:Src/vl6180x_api.c **** 	m_newTrueRange_mm = m_trueRange_mm;
 621              		.loc 1 2034 2 is_stmt 1 view .LVU245
2035:Src/vl6180x_api.c **** 
2036:Src/vl6180x_api.c **** 	XTalkCompRate_KCps = VL6180xDevDataGet(dev, XTalkCompRate_KCps);
 622              		.loc 1 2036 2 view .LVU246
 623              		.loc 1 2036 21 is_stmt 0 view .LVU247
 624 0060 6668     		ldr	r6, [r4, #4]
 625              	.LVL59:
2037:Src/vl6180x_api.c **** 
2038:Src/vl6180x_api.c **** 	/* Update signal rate limits depending on crosstalk */
2039:Src/vl6180x_api.c **** 	SignalRateDMax = (uint32_t)_GetDMaxDataRetSignalAt400mm(dev) ;
 626              		.loc 1 2039 2 is_stmt 1 view .LVU248
 627              		.loc 1 2039 29 is_stmt 0 view .LVU249
 628 0062 D4F8C080 		ldr	r8, [r4, #192]
 629              	.LVL60:
2040:Src/vl6180x_api.c **** 	WrapAroundLowReturnRateLimit = WrapAroundLowReturnRateLimit_ROM  + XTalkCompRate_KCps;
 630              		.loc 1 2040 2 is_stmt 1 view .LVU250
 631              		.loc 1 2040 31 is_stmt 0 view .LVU251
 632 0066 06F5487E 		add	lr, r6, #800
 633              	.LVL61:
2041:Src/vl6180x_api.c **** 	WrapAroundLowReturnRateLimit2 = ((WrapAroundLowReturnRateLimit2_ROM *
 634              		.loc 1 2041 2 is_stmt 1 view .LVU252
 635              		.loc 1 2041 70 is_stmt 0 view .LVU253
 636 006a B423     		movs	r3, #180
 637 006c 03FB08F3 		mul	r3, r3, r8
2042:Src/vl6180x_api.c **** 									SignalRateDMax) / 312) +
 638              		.loc 1 2042 26 view .LVU254
 639 0070 DB08     		lsrs	r3, r3, #3
 640 0072 C14D     		ldr	r5, .L133
 641 0074 A5FB0313 		umull	r1, r3, r5, r3
2041:Src/vl6180x_api.c **** 	WrapAroundLowReturnRateLimit2 = ((WrapAroundLowReturnRateLimit2_ROM *
 642              		.loc 1 2041 32 view .LVU255
 643 0078 06EB9303 		add	r3, r6, r3, lsr #2
 644              	.LVL62:
2043:Src/vl6180x_api.c **** 									XTalkCompRate_KCps;
2044:Src/vl6180x_api.c **** 	WrapAroundLowReturnRateFilterLimit = ((WrapAroundLowReturnRateFilterLimit_ROM *
 645              		.loc 1 2044 2 is_stmt 1 view .LVU256
 646              		.loc 1 2044 80 is_stmt 0 view .LVU257
 647 007c 40F25230 		movw	r0, #850
 648 0080 00FB08F0 		mul	r0, r0, r8
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 50


2045:Src/vl6180x_api.c **** 									SignalRateDMax) / 312) + XTalkCompRate_KCps;
 649              		.loc 1 2045 26 view .LVU258
 650 0084 C008     		lsrs	r0, r0, #3
 651 0086 A5FB0010 		umull	r1, r0, r5, r0
2044:Src/vl6180x_api.c **** 									SignalRateDMax) / 312) + XTalkCompRate_KCps;
 652              		.loc 1 2044 37 view .LVU259
 653 008a 06EB9000 		add	r0, r6, r0, lsr #2
 654              	.LVL63:
2046:Src/vl6180x_api.c **** 	WrapAroundHighReturnRateFilterLimit = ((WrapAroundHighReturnRateFilterLimit_ROM *
 655              		.loc 1 2046 2 is_stmt 1 view .LVU260
 656              		.loc 1 2046 82 is_stmt 0 view .LVU261
 657 008e 4FF4AF61 		mov	r1, #1400
 658 0092 01FB08F1 		mul	r1, r1, r8
2047:Src/vl6180x_api.c **** 									SignalRateDMax) / 312) + XTalkCompRate_KCps;
 659              		.loc 1 2047 26 view .LVU262
 660 0096 C908     		lsrs	r1, r1, #3
 661 0098 A5FB0151 		umull	r5, r1, r5, r1
2046:Src/vl6180x_api.c **** 	WrapAroundHighReturnRateFilterLimit = ((WrapAroundHighReturnRateFilterLimit_ROM *
 662              		.loc 1 2046 38 view .LVU263
 663 009c 06EB9106 		add	r6, r6, r1, lsr #2
 664              	.LVL64:
2048:Src/vl6180x_api.c **** 
2049:Src/vl6180x_api.c **** 
2050:Src/vl6180x_api.c **** 	/* Checks on low range data */
2051:Src/vl6180x_api.c **** 	if ((m_rawRange_mm < WrapAroundLowRawRangeLimit) && (m_rtnSignalRate < WrapAroundLowReturnRateLimi
 665              		.loc 1 2051 2 is_stmt 1 view .LVU264
 666              		.loc 1 2051 5 is_stmt 0 view .LVU265
 667 00a0 3B2A     		cmp	r2, #59
 668 00a2 0AD8     		bhi	.L87
 669              		.loc 1 2051 51 discriminator 1 view .LVU266
 670 00a4 BE45     		cmp	lr, r7
 671 00a6 1AD8     		bhi	.L88
1919:Src/vl6180x_api.c **** 	uint16_t filterErrorCodeOnRangingErrorCode = NoError;
 672              		.loc 1 1919 11 view .LVU267
 673 00a8 4FF00009 		mov	r9, #0
 674 00ac 07E0     		b	.L26
 675              	.LVL65:
 676              	.L86:
2030:Src/vl6180x_api.c **** 		}
 677              		.loc 1 2030 18 view .LVU268
 678 00ae 0123     		movs	r3, #1
 679 00b0 0493     		str	r3, [sp, #16]
1920:Src/vl6180x_api.c **** 
 680              		.loc 1 1920 11 view .LVU269
 681 00b2 4FF0000A 		mov	r10, #0
1916:Src/vl6180x_api.c **** 	uint16_t resetVAVGData = 1;
 682              		.loc 1 1916 11 view .LVU270
 683 00b6 D346     		mov	fp, r10
 684 00b8 D2E7     		b	.L25
 685              	.LVL66:
 686              	.L87:
1919:Src/vl6180x_api.c **** 	uint16_t filterErrorCodeOnRangingErrorCode = NoError;
 687              		.loc 1 1919 11 view .LVU271
 688 00ba 4FF00009 		mov	r9, #0
 689              	.LVL67:
 690              	.L26:
2052:Src/vl6180x_api.c **** 		filterErrorCode = RangingFiltered; /* On this condition, wraparound case is ensured */
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 51


2053:Src/vl6180x_api.c **** 		bypassFilter = 1;
2054:Src/vl6180x_api.c **** 	}
2055:Src/vl6180x_api.c **** 	if ((m_rawRange_mm < WrapAroundLowRawRangeLimit2) && (m_rtnSignalRate < WrapAroundLowReturnRateLim
 691              		.loc 1 2055 2 is_stmt 1 view .LVU272
 692              		.loc 1 2055 5 is_stmt 0 view .LVU273
 693 00be A42A     		cmp	r2, #164
 694 00c0 05D8     		bhi	.L27
 695              		.loc 1 2055 52 discriminator 1 view .LVU274
 696 00c2 BB42     		cmp	r3, r7
 697 00c4 03D9     		bls	.L27
2056:Src/vl6180x_api.c **** 		filterErrorCode = RangingFiltered; /* On this condition, wraparound case is ensured */
 698              		.loc 1 2056 19 view .LVU275
 699 00c6 4FF01009 		mov	r9, #16
 700              	.LVL68:
2057:Src/vl6180x_api.c **** 		bypassFilter = 1;
 701              		.loc 1 2057 16 view .LVU276
 702 00ca 4FF0010B 		mov	fp, #1
 703              	.LVL69:
 704              	.L27:
2058:Src/vl6180x_api.c **** 	}
2059:Src/vl6180x_api.c **** 	if ((m_rawRange_mm < WrapAroundLowRawRangeLimit2) && (m_rtnSignalRate < (WrapAroundLowReturnRateLi
 705              		.loc 1 2059 2 is_stmt 1 view .LVU277
 706              		.loc 1 2059 5 is_stmt 0 view .LVU278
 707 00ce A42A     		cmp	r2, #164
 708 00d0 0AD8     		bhi	.L90
 709              		.loc 1 2059 105 discriminator 1 view .LVU279
 710 00d2 9633     		adds	r3, r3, #150
 711              	.LVL70:
 712              		.loc 1 2059 52 discriminator 1 view .LVU280
 713 00d4 BB42     		cmp	r3, r7
 714 00d6 26D8     		bhi	.L91
1928:Src/vl6180x_api.c **** 
 715              		.loc 1 1928 11 view .LVU281
 716 00d8 0023     		movs	r3, #0
 717              	.LVL71:
1928:Src/vl6180x_api.c **** 
 718              		.loc 1 1928 11 view .LVU282
 719 00da 0593     		str	r3, [sp, #20]
 720 00dc 06E0     		b	.L28
 721              	.LVL72:
 722              	.L88:
2052:Src/vl6180x_api.c **** 		bypassFilter = 1;
 723              		.loc 1 2052 19 view .LVU283
 724 00de 4FF01009 		mov	r9, #16
2053:Src/vl6180x_api.c **** 	}
 725              		.loc 1 2053 16 view .LVU284
 726 00e2 4FF0010B 		mov	fp, #1
 727              	.LVL73:
2053:Src/vl6180x_api.c **** 	}
 728              		.loc 1 2053 16 view .LVU285
 729 00e6 EAE7     		b	.L26
 730              	.LVL74:
 731              	.L90:
1928:Src/vl6180x_api.c **** 
 732              		.loc 1 1928 11 view .LVU286
 733 00e8 0023     		movs	r3, #0
 734              	.LVL75:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 52


1928:Src/vl6180x_api.c **** 
 735              		.loc 1 1928 11 view .LVU287
 736 00ea 0593     		str	r3, [sp, #20]
 737              	.L28:
 738              	.LVL76:
2060:Src/vl6180x_api.c **** 		SuspicuousRangingZone = 1; /* On this area, we are in an highly suspicuous wraparound ares, filte
2061:Src/vl6180x_api.c **** 	}
2062:Src/vl6180x_api.c **** 
2063:Src/vl6180x_api.c **** 
2064:Src/vl6180x_api.c **** 	/* Checks on Ambient rate level */
2065:Src/vl6180x_api.c **** 	if (m_rtnAmbientRate > WrapAroundMaximumAmbientRateFilterLimit) {
 739              		.loc 1 2065 2 is_stmt 1 view .LVU288
 740              		.loc 1 2065 5 is_stmt 0 view .LVU289
 741 00ec 43F69823 		movw	r3, #15000
 742 00f0 1699     		ldr	r1, [sp, #88]
 743 00f2 9942     		cmp	r1, r3
 744 00f4 1AD8     		bhi	.L92
1934:Src/vl6180x_api.c **** 	uint32_t RateChange = 0;
 745              		.loc 1 1934 11 view .LVU290
 746 00f6 4FF00008 		mov	r8, #0
 747              	.LVL77:
 748              	.L29:
2066:Src/vl6180x_api.c **** 		/* Too high ambient rate */
2067:Src/vl6180x_api.c **** 		FlushFilter = 1;
2068:Src/vl6180x_api.c **** 		bypassFilter = 1;
2069:Src/vl6180x_api.c **** 	}
2070:Src/vl6180x_api.c ****     
2071:Src/vl6180x_api.c **** 	/*  Checks on Filter flush */
2072:Src/vl6180x_api.c **** 	if (m_rtnSignalRate < MinReturnRateFilterFlush) {
 749              		.loc 1 2072 2 is_stmt 1 view .LVU291
 750              		.loc 1 2072 5 is_stmt 0 view .LVU292
 751 00fa 4A2F     		cmp	r7, #74
 752 00fc 02D8     		bhi	.L30
2073:Src/vl6180x_api.c **** 		/* Completely lost target, so flush the filter */
2074:Src/vl6180x_api.c **** 		FlushFilter = 1;
 753              		.loc 1 2074 15 view .LVU293
 754 00fe 4FF00108 		mov	r8, #1
 755              	.LVL78:
2075:Src/vl6180x_api.c **** 		bypassFilter = 1;
 756              		.loc 1 2075 16 view .LVU294
 757 0102 C346     		mov	fp, r8
 758              	.LVL79:
 759              	.L30:
2076:Src/vl6180x_api.c **** 	}
2077:Src/vl6180x_api.c **** 	if (_FilterData(LastReturnRates)[0] != 0) {
 760              		.loc 1 2077 2 is_stmt 1 view .LVU295
 761              		.loc 1 2077 34 is_stmt 0 view .LVU296
 762 0104 A36B     		ldr	r3, [r4, #56]
 763              		.loc 1 2077 5 view .LVU297
 764 0106 4BB1     		cbz	r3, .L31
2078:Src/vl6180x_api.c **** 		if (m_rtnSignalRate > _FilterData(LastReturnRates)[0])
 765              		.loc 1 2078 3 is_stmt 1 view .LVU298
 766              		.loc 1 2078 6 is_stmt 0 view .LVU299
 767 0108 BB42     		cmp	r3, r7
 768 010a 13D2     		bcs	.L32
2079:Src/vl6180x_api.c **** 			RateChange = (100 *
 769              		.loc 1 2079 4 is_stmt 1 view .LVU300
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 53


2080:Src/vl6180x_api.c **** 						(m_rtnSignalRate - _FilterData(LastReturnRates)[0])) /
 770              		.loc 1 2080 24 is_stmt 0 view .LVU301
 771 010c FD1A     		subs	r5, r7, r3
2079:Src/vl6180x_api.c **** 			RateChange = (100 *
 772              		.loc 1 2079 22 view .LVU302
 773 010e 6421     		movs	r1, #100
 774 0110 01FB05F1 		mul	r1, r1, r5
2079:Src/vl6180x_api.c **** 			RateChange = (100 *
 775              		.loc 1 2079 15 view .LVU303
 776 0114 B1FBF3F1 		udiv	r1, r1, r3
 777              	.LVL80:
 778              	.L33:
2081:Src/vl6180x_api.c **** 						_FilterData(LastReturnRates)[0];
2082:Src/vl6180x_api.c **** 		else
2083:Src/vl6180x_api.c **** 			RateChange = (100 *
2084:Src/vl6180x_api.c **** 						(_FilterData(LastReturnRates)[0] - m_rtnSignalRate)) /
2085:Src/vl6180x_api.c **** 						_FilterData(LastReturnRates)[0];
2086:Src/vl6180x_api.c **** 	} else
2087:Src/vl6180x_api.c **** 		RateChange = 0;
2088:Src/vl6180x_api.c **** 	if (RateChange > MaxReturnRateChangeFilterFlush) {
 779              		.loc 1 2088 2 is_stmt 1 view .LVU304
 780              		.loc 1 2088 5 is_stmt 0 view .LVU305
 781 0118 3229     		cmp	r1, #50
 782 011a 12D8     		bhi	.L94
 783              	.LVL81:
 784              	.L31:
2089:Src/vl6180x_api.c **** 		FlushFilter = 1;
2090:Src/vl6180x_api.c **** 	}
2091:Src/vl6180x_api.c **** 	/* TODO optimize filter  using circular buffer */
2092:Src/vl6180x_api.c **** 	if (FlushFilter == 1) {
 785              		.loc 1 2092 2 is_stmt 1 view .LVU306
 786              		.loc 1 2092 5 is_stmt 0 view .LVU307
 787 011c B8F1000F 		cmp	r8, #0
 788 0120 11D1     		bne	.L34
2093:Src/vl6180x_api.c **** 		_FilterData(MeasurementIndex) = 0;
2094:Src/vl6180x_api.c **** 		for (i = 0; i < FILTER_NBOF_SAMPLES; i++) {
2095:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
2096:Src/vl6180x_api.c **** 			_FilterData(LastReturnRates)[i] = 0;
2097:Src/vl6180x_api.c **** 		}
2098:Src/vl6180x_api.c **** 		_FilterData(MeasurementsSinceLastFlush)=0;
2099:Src/vl6180x_api.c **** 	} else {
2100:Src/vl6180x_api.c **** 		for (i = (uint16_t) (FILTER_NBOF_SAMPLES - 1); i > 0; i--) {
 789              		.loc 1 2100 10 view .LVU308
 790 0122 0923     		movs	r3, #9
 791 0124 62E0     		b	.L35
 792              	.LVL82:
 793              	.L91:
2060:Src/vl6180x_api.c **** 	}
 794              		.loc 1 2060 25 view .LVU309
 795 0126 0123     		movs	r3, #1
 796              	.LVL83:
2060:Src/vl6180x_api.c **** 	}
 797              		.loc 1 2060 25 view .LVU310
 798 0128 0593     		str	r3, [sp, #20]
 799 012a DFE7     		b	.L28
 800              	.LVL84:
 801              	.L92:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 54


2067:Src/vl6180x_api.c **** 		bypassFilter = 1;
 802              		.loc 1 2067 15 view .LVU311
 803 012c 4FF00108 		mov	r8, #1
 804              	.LVL85:
2068:Src/vl6180x_api.c **** 	}
 805              		.loc 1 2068 16 view .LVU312
 806 0130 C346     		mov	fp, r8
 807              	.LVL86:
2068:Src/vl6180x_api.c **** 	}
 808              		.loc 1 2068 16 view .LVU313
 809 0132 E2E7     		b	.L29
 810              	.LVL87:
 811              	.L32:
2083:Src/vl6180x_api.c **** 						(_FilterData(LastReturnRates)[0] - m_rtnSignalRate)) /
 812              		.loc 1 2083 4 is_stmt 1 view .LVU314
2084:Src/vl6180x_api.c **** 						_FilterData(LastReturnRates)[0];
 813              		.loc 1 2084 40 is_stmt 0 view .LVU315
 814 0134 DD1B     		subs	r5, r3, r7
2083:Src/vl6180x_api.c **** 						(_FilterData(LastReturnRates)[0] - m_rtnSignalRate)) /
 815              		.loc 1 2083 22 view .LVU316
 816 0136 6421     		movs	r1, #100
 817 0138 01FB05F1 		mul	r1, r1, r5
2083:Src/vl6180x_api.c **** 						(_FilterData(LastReturnRates)[0] - m_rtnSignalRate)) /
 818              		.loc 1 2083 15 view .LVU317
 819 013c B1FBF3F1 		udiv	r1, r1, r3
 820              	.LVL88:
2083:Src/vl6180x_api.c **** 						(_FilterData(LastReturnRates)[0] - m_rtnSignalRate)) /
 821              		.loc 1 2083 15 view .LVU318
 822 0140 EAE7     		b	.L33
 823              	.L94:
2089:Src/vl6180x_api.c **** 	}
 824              		.loc 1 2089 15 view .LVU319
 825 0142 4FF00108 		mov	r8, #1
 826              	.LVL89:
 827              	.L34:
2093:Src/vl6180x_api.c **** 		for (i = 0; i < FILTER_NBOF_SAMPLES; i++) {
 828              		.loc 1 2093 3 is_stmt 1 view .LVU320
2093:Src/vl6180x_api.c **** 		for (i = 0; i < FILTER_NBOF_SAMPLES; i++) {
 829              		.loc 1 2093 33 is_stmt 0 view .LVU321
 830 0146 0023     		movs	r3, #0
 831 0148 E361     		str	r3, [r4, #28]
2094:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 832              		.loc 1 2094 3 is_stmt 1 view .LVU322
 833              	.LVL90:
 834              	.L36:
2094:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 835              		.loc 1 2094 15 discriminator 1 view .LVU323
2094:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 836              		.loc 1 2094 3 is_stmt 0 discriminator 1 view .LVU324
 837 014a 092B     		cmp	r3, #9
 838 014c 0FD8     		bhi	.L120
2095:Src/vl6180x_api.c **** 			_FilterData(LastReturnRates)[i] = 0;
 839              		.loc 1 2095 4 is_stmt 1 discriminator 3 view .LVU325
2095:Src/vl6180x_api.c **** 			_FilterData(LastReturnRates)[i] = 0;
 840              		.loc 1 2095 34 is_stmt 0 discriminator 3 view .LVU326
 841 014e 03F11001 		add	r1, r3, #16
 842 0152 04EB4101 		add	r1, r4, r1, lsl #1
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 55


 843 0156 4FF6FF75 		movw	r5, #65535
 844 015a 8D80     		strh	r5, [r1, #4]	@ movhi
2096:Src/vl6180x_api.c **** 		}
 845              		.loc 1 2096 4 is_stmt 1 discriminator 3 view .LVU327
2096:Src/vl6180x_api.c **** 		}
 846              		.loc 1 2096 36 is_stmt 0 discriminator 3 view .LVU328
 847 015c 03F10C01 		add	r1, r3, #12
 848 0160 04EB8101 		add	r1, r4, r1, lsl #2
 849 0164 0025     		movs	r5, #0
 850 0166 8D60     		str	r5, [r1, #8]
2094:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 851              		.loc 1 2094 40 is_stmt 1 discriminator 3 view .LVU329
2094:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 852              		.loc 1 2094 41 is_stmt 0 discriminator 3 view .LVU330
 853 0168 0133     		adds	r3, r3, #1
 854              	.LVL91:
2094:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 855              		.loc 1 2094 41 discriminator 3 view .LVU331
 856 016a 9BB2     		uxth	r3, r3
 857              	.LVL92:
2094:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 858              		.loc 1 2094 41 discriminator 3 view .LVU332
 859 016c EDE7     		b	.L36
 860              	.L120:
2098:Src/vl6180x_api.c **** 	} else {
 861              		.loc 1 2098 3 is_stmt 1 view .LVU333
2098:Src/vl6180x_api.c **** 	} else {
 862              		.loc 1 2098 42 is_stmt 0 view .LVU334
 863 016e 0023     		movs	r3, #0
 864              	.LVL93:
2098:Src/vl6180x_api.c **** 	} else {
 865              		.loc 1 2098 42 view .LVU335
 866 0170 2362     		str	r3, [r4, #32]
 867              	.LVL94:
 868              	.L38:
2101:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = _FilterData(LastTrueRange)[i - 1];
2102:Src/vl6180x_api.c **** 			_FilterData(LastReturnRates)[i] = _FilterData(LastReturnRates)[i - 1];
2103:Src/vl6180x_api.c **** 		}
2104:Src/vl6180x_api.c **** 	}
2105:Src/vl6180x_api.c **** 
2106:Src/vl6180x_api.c **** 	if (ValidDistance == 1)
 869              		.loc 1 2106 2 is_stmt 1 view .LVU336
 870              		.loc 1 2106 5 is_stmt 0 view .LVU337
 871 0172 049B     		ldr	r3, [sp, #16]
 872 0174 002B     		cmp	r3, #0
 873 0176 3CD1     		bne	.L121
2107:Src/vl6180x_api.c **** 		_FilterData(LastTrueRange)[0] = m_trueRange_mm;
2108:Src/vl6180x_api.c **** 	else
2109:Src/vl6180x_api.c **** 		_FilterData(LastTrueRange)[0] = FILTER_INVALID_DISTANCE;
 874              		.loc 1 2109 3 is_stmt 1 view .LVU338
 875              		.loc 1 2109 33 is_stmt 0 view .LVU339
 876 0178 4FF6FF73 		movw	r3, #65535
 877 017c A384     		strh	r3, [r4, #36]	@ movhi
 878              	.L41:
2110:Src/vl6180x_api.c **** 	_FilterData(LastReturnRates)[0] = m_rtnSignalRate;
 879              		.loc 1 2110 2 is_stmt 1 view .LVU340
 880              		.loc 1 2110 34 is_stmt 0 view .LVU341
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 56


 881 017e A763     		str	r7, [r4, #56]
2111:Src/vl6180x_api.c **** 	_FilterData(MeasurementsSinceLastFlush)++;
 882              		.loc 1 2111 2 is_stmt 1 view .LVU342
 883 0180 236A     		ldr	r3, [r4, #32]
 884              		.loc 1 2111 41 is_stmt 0 view .LVU343
 885 0182 0133     		adds	r3, r3, #1
 886 0184 2362     		str	r3, [r4, #32]
2112:Src/vl6180x_api.c **** 
2113:Src/vl6180x_api.c **** 	/* Check if we need to go through the filter or not */
2114:Src/vl6180x_api.c **** 	if (!(((m_rawRange_mm < WrapAroundHighRawRangeFilterLimit) &&
 887              		.loc 1 2114 2 is_stmt 1 view .LVU344
 888              		.loc 1 2114 5 is_stmt 0 view .LVU345
 889 0186 B2F5AF7F 		cmp	r2, #350
 890 018a 01D2     		bcs	.L42
 891              		.loc 1 2114 61 discriminator 2 view .LVU346
 892 018c B842     		cmp	r0, r7
 893 018e 05D8     		bhi	.L43
 894              	.L42:
 895              		.loc 1 2114 6 discriminator 3 view .LVU347
 896 0190 B2F5AF7F 		cmp	r2, #350
 897 0194 30D3     		bcc	.L96
2115:Src/vl6180x_api.c **** 		(m_rtnSignalRate < WrapAroundLowReturnRateFilterLimit)) ||
2116:Src/vl6180x_api.c **** 		((m_rawRange_mm >= WrapAroundHighRawRangeFilterLimit) &&
 898              		.loc 1 2116 57 view .LVU348
 899 0196 BE42     		cmp	r6, r7
 900 0198 40F2B480 		bls	.L97
 901              	.L43:
2117:Src/vl6180x_api.c **** 		(m_rtnSignalRate < WrapAroundHighReturnRateFilterLimit))))
2118:Src/vl6180x_api.c **** 		bypassFilter = 1;
2119:Src/vl6180x_api.c **** 	else {
2120:Src/vl6180x_api.c **** 		/* if some wraparound filtering due to some ranging error code has been detected, update the filt
2121:Src/vl6180x_api.c **** 		if(filterErrorCodeOnRangingErrorCode!=NoError){
 902              		.loc 1 2121 3 is_stmt 1 view .LVU349
 903              		.loc 1 2121 5 is_stmt 0 view .LVU350
 904 019c BAF1000F 		cmp	r10, #0
 905 01a0 00F0B480 		beq	.L98
2122:Src/vl6180x_api.c **** #ifndef PRESERVE_DEVICE_ERROR_CODE
2123:Src/vl6180x_api.c **** 			filterErrorCode = filterErrorCodeOnRangingErrorCode;
2124:Src/vl6180x_api.c **** #else
2125:Src/vl6180x_api.c **** 			if((errorCode==Raw_Ranging_Algo_Underflow) || (errorCode==Ranging_Algo_Underflow)) {
 906              		.loc 1 2125 4 is_stmt 1 view .LVU351
 907              		.loc 1 2125 6 is_stmt 0 view .LVU352
 908 01a4 BCF10C0F 		cmp	ip, #12
 909 01a8 00F0B380 		beq	.L99
 910              		.loc 1 2125 47 discriminator 1 view .LVU353
 911 01ac BCF10E0F 		cmp	ip, #14
 912 01b0 00F0B580 		beq	.L100
2126:Src/vl6180x_api.c **** 				/* Preserves the error codes except for Raw_Ranging_Algo_Underflow and Ranging_Algo_Underflow *
2127:Src/vl6180x_api.c **** 				filterErrorCode = filterErrorCodeOnRangingErrorCode;
2128:Src/vl6180x_api.c **** 			}
2129:Src/vl6180x_api.c **** #endif
2130:Src/vl6180x_api.c **** 			bypassFilter = 1;
2131:Src/vl6180x_api.c **** 			resetVAVGData = 0;
 913              		.loc 1 2131 18 view .LVU354
 914 01b4 0023     		movs	r3, #0
 915 01b6 0793     		str	r3, [sp, #28]
2130:Src/vl6180x_api.c **** 			resetVAVGData = 0;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 57


 916              		.loc 1 2130 17 view .LVU355
 917 01b8 4FF0010B 		mov	fp, #1
 918              	.LVL95:
2130:Src/vl6180x_api.c **** 			resetVAVGData = 0;
 919              		.loc 1 2130 17 view .LVU356
 920 01bc 1FE0     		b	.L44
 921              	.LVL96:
 922              	.L39:
2101:Src/vl6180x_api.c **** 			_FilterData(LastReturnRates)[i] = _FilterData(LastReturnRates)[i - 1];
 923              		.loc 1 2101 4 is_stmt 1 discriminator 3 view .LVU357
2101:Src/vl6180x_api.c **** 			_FilterData(LastReturnRates)[i] = _FilterData(LastReturnRates)[i - 1];
 924              		.loc 1 2101 65 is_stmt 0 discriminator 3 view .LVU358
 925 01be 591E     		subs	r1, r3, #1
2101:Src/vl6180x_api.c **** 			_FilterData(LastReturnRates)[i] = _FilterData(LastReturnRates)[i - 1];
 926              		.loc 1 2101 62 discriminator 3 view .LVU359
 927 01c0 03F10F05 		add	r5, r3, #15
 928 01c4 04EB4505 		add	r5, r4, r5, lsl #1
 929 01c8 B5F804E0 		ldrh	lr, [r5, #4]
2101:Src/vl6180x_api.c **** 			_FilterData(LastReturnRates)[i] = _FilterData(LastReturnRates)[i - 1];
 930              		.loc 1 2101 34 discriminator 3 view .LVU360
 931 01cc 03F11005 		add	r5, r3, #16
 932 01d0 04EB4505 		add	r5, r4, r5, lsl #1
 933 01d4 A5F804E0 		strh	lr, [r5, #4]	@ movhi
2102:Src/vl6180x_api.c **** 		}
 934              		.loc 1 2102 4 is_stmt 1 discriminator 3 view .LVU361
2102:Src/vl6180x_api.c **** 		}
 935              		.loc 1 2102 66 is_stmt 0 discriminator 3 view .LVU362
 936 01d8 03F10B05 		add	r5, r3, #11
 937 01dc 04EB8505 		add	r5, r4, r5, lsl #2
 938 01e0 AD68     		ldr	r5, [r5, #8]
2102:Src/vl6180x_api.c **** 		}
 939              		.loc 1 2102 36 discriminator 3 view .LVU363
 940 01e2 0C33     		adds	r3, r3, #12
 941              	.LVL97:
2102:Src/vl6180x_api.c **** 		}
 942              		.loc 1 2102 36 discriminator 3 view .LVU364
 943 01e4 04EB8303 		add	r3, r4, r3, lsl #2
 944 01e8 9D60     		str	r5, [r3, #8]
2100:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = _FilterData(LastTrueRange)[i - 1];
 945              		.loc 1 2100 57 is_stmt 1 discriminator 3 view .LVU365
2100:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = _FilterData(LastTrueRange)[i - 1];
 946              		.loc 1 2100 58 is_stmt 0 discriminator 3 view .LVU366
 947 01ea 8BB2     		uxth	r3, r1
 948              	.LVL98:
 949              	.L35:
2100:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = _FilterData(LastTrueRange)[i - 1];
 950              		.loc 1 2100 50 is_stmt 1 discriminator 1 view .LVU367
2100:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = _FilterData(LastTrueRange)[i - 1];
 951              		.loc 1 2100 3 is_stmt 0 discriminator 1 view .LVU368
 952 01ec 002B     		cmp	r3, #0
 953 01ee E6D1     		bne	.L39
 954 01f0 BFE7     		b	.L38
 955              	.LVL99:
 956              	.L121:
2107:Src/vl6180x_api.c **** 	else
 957              		.loc 1 2107 3 is_stmt 1 view .LVU369
2107:Src/vl6180x_api.c **** 	else
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 58


 958              		.loc 1 2107 33 is_stmt 0 view .LVU370
 959 01f2 039B     		ldr	r3, [sp, #12]
 960 01f4 A384     		strh	r3, [r4, #36]	@ movhi
 961 01f6 C2E7     		b	.L41
 962              	.L96:
1917:Src/vl6180x_api.c **** 
 963              		.loc 1 1917 11 view .LVU371
 964 01f8 0123     		movs	r3, #1
 965 01fa 0793     		str	r3, [sp, #28]
2118:Src/vl6180x_api.c **** 	else {
 966              		.loc 1 2118 16 view .LVU372
 967 01fc 9B46     		mov	fp, r3
 968              	.LVL100:
 969              	.L44:
2132:Src/vl6180x_api.c **** 		}
2133:Src/vl6180x_api.c **** 	}
2134:Src/vl6180x_api.c **** 
2135:Src/vl6180x_api.c **** 	/* Check which kind of measurement has been made */
2136:Src/vl6180x_api.c **** 	status = VL6180x_RdByte(dev, 0x01AC, &u8);
 970              		.loc 1 2136 2 is_stmt 1 view .LVU373
 971              		.loc 1 2136 11 is_stmt 0 view .LVU374
 972 01fe 0DF12702 		add	r2, sp, #39
 973              	.LVL101:
 974              		.loc 1 2136 11 view .LVU375
 975 0202 4FF4D671 		mov	r1, #428
 976 0206 2046     		mov	r0, r4
 977              	.LVL102:
 978              		.loc 1 2136 11 view .LVU376
 979 0208 FFF7FEFF 		bl	VL6180x_RdByte
 980              	.LVL103:
2137:Src/vl6180x_api.c **** 	if (status) {
 981              		.loc 1 2137 2 is_stmt 1 view .LVU377
 982              		.loc 1 2137 5 is_stmt 0 view .LVU378
 983 020c 0028     		cmp	r0, #0
 984 020e 40F0A681 		bne	.L101
2138:Src/vl6180x_api.c **** 		VL6180x_ErrLog("0x01AC rd fail");
2139:Src/vl6180x_api.c **** 		goto done_err;
2140:Src/vl6180x_api.c **** 	}
2141:Src/vl6180x_api.c **** 	registerValue = u8;
 985              		.loc 1 2141 2 is_stmt 1 view .LVU379
 986              		.loc 1 2141 16 is_stmt 0 view .LVU380
 987 0212 9DF827A0 		ldrb	r10, [sp, #39]	@ zero_extendqisi2
 988              	.LVL104:
2142:Src/vl6180x_api.c **** 
2143:Src/vl6180x_api.c **** 	/* Read data for filtering */
2144:Src/vl6180x_api.c **** #if VL6180x_HAVE_MULTI_READ
2145:Src/vl6180x_api.c **** 	status = VL6180x_RdMulti(dev, 0x10C, MultiReadBuf, 8); /* read only 8 lsb bits */
 989              		.loc 1 2145 2 is_stmt 1 view .LVU381
 990              		.loc 1 2145 11 is_stmt 0 view .LVU382
 991 0216 0823     		movs	r3, #8
 992 0218 0AAA     		add	r2, sp, #40
 993 021a 4FF48671 		mov	r1, #268
 994 021e 2046     		mov	r0, r4
 995              	.LVL105:
 996              		.loc 1 2145 11 view .LVU383
 997 0220 FFF7FEFF 		bl	VL6180x_RdMulti
 998              	.LVL106:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 59


2146:Src/vl6180x_api.c **** 	if (status) {
 999              		.loc 1 2146 2 is_stmt 1 view .LVU384
 1000              		.loc 1 2146 5 is_stmt 0 view .LVU385
 1001 0224 0028     		cmp	r0, #0
 1002 0226 40F09D81 		bne	.L102
2147:Src/vl6180x_api.c **** 		VL6180x_ErrLog("0x10C multi rd fail");
2148:Src/vl6180x_api.c **** 		goto done_err;
2149:Src/vl6180x_api.c **** 	}
2150:Src/vl6180x_api.c **** 	register32BitsValue1 = ((uint32_t) MultiReadBuf[0] << 24)
 1003              		.loc 1 2150 2 is_stmt 1 view .LVU386
 1004              		.loc 1 2150 49 is_stmt 0 view .LVU387
 1005 022a 9DF82830 		ldrb	r3, [sp, #40]	@ zero_extendqisi2
2151:Src/vl6180x_api.c **** 			+ ((uint32_t) MultiReadBuf[1] << 16)
 1006              		.loc 1 2151 30 view .LVU388
 1007 022e 9DF82960 		ldrb	r6, [sp, #41]	@ zero_extendqisi2
 1008              	.LVL107:
 1009              		.loc 1 2151 34 view .LVU389
 1010 0232 3604     		lsls	r6, r6, #16
 1011              		.loc 1 2151 4 view .LVU390
 1012 0234 06EB0366 		add	r6, r6, r3, lsl #24
2152:Src/vl6180x_api.c **** 			+ ((uint32_t) MultiReadBuf[2] << 8)
 1013              		.loc 1 2152 30 view .LVU391
 1014 0238 9DF82A30 		ldrb	r3, [sp, #42]	@ zero_extendqisi2
 1015              		.loc 1 2152 4 view .LVU392
 1016 023c 06EB0326 		add	r6, r6, r3, lsl #8
2153:Src/vl6180x_api.c **** 			+ ((uint32_t) MultiReadBuf[3] << 0);
 1017              		.loc 1 2153 30 view .LVU393
 1018 0240 9DF82B30 		ldrb	r3, [sp, #43]	@ zero_extendqisi2
2150:Src/vl6180x_api.c **** 			+ ((uint32_t) MultiReadBuf[1] << 16)
 1019              		.loc 1 2150 23 view .LVU394
 1020 0244 1E44     		add	r6, r6, r3
 1021              	.LVL108:
2154:Src/vl6180x_api.c **** 	register32BitsValue2 = ((uint32_t) MultiReadBuf[4] << 24)
 1022              		.loc 1 2154 2 is_stmt 1 view .LVU395
 1023              		.loc 1 2154 49 is_stmt 0 view .LVU396
 1024 0246 9DF82C30 		ldrb	r3, [sp, #44]	@ zero_extendqisi2
2155:Src/vl6180x_api.c **** 			+ ((uint32_t) MultiReadBuf[5] << 16)
 1025              		.loc 1 2155 30 view .LVU397
 1026 024a 9DF82D50 		ldrb	r5, [sp, #45]	@ zero_extendqisi2
 1027              		.loc 1 2155 34 view .LVU398
 1028 024e 2D04     		lsls	r5, r5, #16
 1029              		.loc 1 2155 4 view .LVU399
 1030 0250 05EB0365 		add	r5, r5, r3, lsl #24
2156:Src/vl6180x_api.c **** 			+ ((uint32_t) MultiReadBuf[6] << 8)
 1031              		.loc 1 2156 30 view .LVU400
 1032 0254 9DF82E30 		ldrb	r3, [sp, #46]	@ zero_extendqisi2
 1033              		.loc 1 2156 4 view .LVU401
 1034 0258 05EB0325 		add	r5, r5, r3, lsl #8
2157:Src/vl6180x_api.c **** 			+ ((uint32_t) MultiReadBuf[7] << 0);
 1035              		.loc 1 2157 30 view .LVU402
 1036 025c 9DF82F30 		ldrb	r3, [sp, #47]	@ zero_extendqisi2
2154:Src/vl6180x_api.c **** 			+ ((uint32_t) MultiReadBuf[5] << 16)
 1037              		.loc 1 2154 23 view .LVU403
 1038 0260 1D44     		add	r5, r5, r3
 1039              	.LVL109:
2158:Src/vl6180x_api.c **** #else
2159:Src/vl6180x_api.c **** 	status = VL6180x_RdDWord(dev, 0x10C, &register32BitsValue1); /* read 32 bits, lower 17 bits are th
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 60


2160:Src/vl6180x_api.c **** 	if (status) {
2161:Src/vl6180x_api.c **** 		VL6180x_ErrLog("0x010C rd fail");
2162:Src/vl6180x_api.c **** 		goto done_err;
2163:Src/vl6180x_api.c **** 	}
2164:Src/vl6180x_api.c **** 	status = VL6180x_RdDWord(dev, 0x0110, &	register32BitsValue2); /* read 32 bits, lower 17 bits are 
2165:Src/vl6180x_api.c **** 	if (status) {
2166:Src/vl6180x_api.c **** 		VL6180x_ErrLog("0x0110 rd fail");
2167:Src/vl6180x_api.c **** 		goto done_err;
2168:Src/vl6180x_api.c **** 	}
2169:Src/vl6180x_api.c **** #endif
2170:Src/vl6180x_api.c **** 
2171:Src/vl6180x_api.c **** 
2172:Src/vl6180x_api.c **** 	if ((FlushFilter == 1) || ((bypassFilter == 1) && (resetVAVGData == 1))) {
 1040              		.loc 1 2172 2 is_stmt 1 view .LVU404
 1041              		.loc 1 2172 5 is_stmt 0 view .LVU405
 1042 0262 B8F1000F 		cmp	r8, #0
 1043 0266 63D1     		bne	.L46
 1044              		.loc 1 2172 25 discriminator 1 view .LVU406
 1045 0268 BBF1000F 		cmp	fp, #0
 1046 026c 5DD1     		bne	.L122
 1047              	.L47:
2173:Src/vl6180x_api.c **** 		if (registerValue != 0x3E) {
2174:Src/vl6180x_api.c **** 			status = VL6180x_WrByte(dev, 0x1AC, 0x3E);
2175:Src/vl6180x_api.c **** 			if (status) {
2176:Src/vl6180x_api.c **** 				VL6180x_ErrLog("0x01AC bypass wr fail");
2177:Src/vl6180x_api.c **** 				goto done_err;
2178:Src/vl6180x_api.c **** 			}
2179:Src/vl6180x_api.c **** 			//status = VL6180x_WrByte(dev, 0x0F2, 0x01);
2180:Src/vl6180x_api.c **** 			//if (status) {
2181:Src/vl6180x_api.c **** 			//	VL6180x_ErrLog("0x0F2 bypass wr fail");
2182:Src/vl6180x_api.c **** 			//	goto done_err;
2183:Src/vl6180x_api.c **** 			//}
2184:Src/vl6180x_api.c **** 		}
2185:Src/vl6180x_api.c **** 		/* Set both Default and NoDelay To same value */
2186:Src/vl6180x_api.c **** 		_FilterData(Default_ZeroVal) = register32BitsValue1;
2187:Src/vl6180x_api.c **** 		_FilterData(Default_VAVGVal) = register32BitsValue2;
2188:Src/vl6180x_api.c **** 		_FilterData(NoDelay_ZeroVal) = register32BitsValue1;
2189:Src/vl6180x_api.c **** 		_FilterData(NoDelay_VAVGVal) = register32BitsValue2;
2190:Src/vl6180x_api.c **** 
2191:Src/vl6180x_api.c **** 		_FilterData(MeasurementIndex) = 0;
2192:Src/vl6180x_api.c **** 	} else {
2193:Src/vl6180x_api.c **** 		if (registerValue == 0x3E) {
 1048              		.loc 1 2193 3 is_stmt 1 view .LVU407
 1049              		.loc 1 2193 6 is_stmt 0 view .LVU408
 1050 026e BAF13E0F 		cmp	r10, #62
 1051 0272 72D0     		beq	.L123
2194:Src/vl6180x_api.c **** 			_FilterData(Default_ZeroVal) = register32BitsValue1;
2195:Src/vl6180x_api.c **** 			_FilterData(Default_VAVGVal) = register32BitsValue2;
2196:Src/vl6180x_api.c **** 		} else {
2197:Src/vl6180x_api.c **** 			_FilterData(NoDelay_ZeroVal) = register32BitsValue1;
 1052              		.loc 1 2197 4 is_stmt 1 view .LVU409
 1053              		.loc 1 2197 33 is_stmt 0 view .LVU410
 1054 0274 E666     		str	r6, [r4, #108]
2198:Src/vl6180x_api.c **** 			_FilterData(NoDelay_VAVGVal) = register32BitsValue2;
 1055              		.loc 1 2198 4 is_stmt 1 view .LVU411
 1056              		.loc 1 2198 33 is_stmt 0 view .LVU412
 1057 0276 2567     		str	r5, [r4, #112]
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 61


 1058              	.L51:
2199:Src/vl6180x_api.c **** 		}
2200:Src/vl6180x_api.c **** 
2201:Src/vl6180x_api.c **** 		if (_FilterData(MeasurementIndex) % WrapAroundNoDelayCheckPeriod == 0) {
 1059              		.loc 1 2201 3 is_stmt 1 view .LVU413
 1060              		.loc 1 2201 7 is_stmt 0 view .LVU414
 1061 0278 E369     		ldr	r3, [r4, #28]
 1062              		.loc 1 2201 6 view .LVU415
 1063 027a 13F0010F 		tst	r3, #1
 1064 027e 6FD1     		bne	.L52
2202:Src/vl6180x_api.c **** 			u8 = 0x3C;
 1065              		.loc 1 2202 4 is_stmt 1 view .LVU416
 1066              		.loc 1 2202 7 is_stmt 0 view .LVU417
 1067 0280 3C23     		movs	r3, #60
 1068 0282 8DF82730 		strb	r3, [sp, #39]
 1069              	.L53:
2203:Src/vl6180x_api.c **** 			//u8_2 = 0x05;
2204:Src/vl6180x_api.c **** 		} else {
2205:Src/vl6180x_api.c **** 			u8 = 0x3E;
2206:Src/vl6180x_api.c **** 			//u8_2 = 0x01;
2207:Src/vl6180x_api.c **** 		}
2208:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, 0x01AC, u8);
 1070              		.loc 1 2208 3 is_stmt 1 view .LVU418
 1071              		.loc 1 2208 12 is_stmt 0 view .LVU419
 1072 0286 9DF82720 		ldrb	r2, [sp, #39]	@ zero_extendqisi2
 1073 028a 4FF4D671 		mov	r1, #428
 1074 028e 2046     		mov	r0, r4
 1075              	.LVL110:
 1076              		.loc 1 2208 12 view .LVU420
 1077 0290 FFF7FEFF 		bl	VL6180x_WrByte
 1078              	.LVL111:
2209:Src/vl6180x_api.c **** 		if (status) {
 1079              		.loc 1 2209 3 is_stmt 1 view .LVU421
 1080              		.loc 1 2209 6 is_stmt 0 view .LVU422
 1081 0294 0028     		cmp	r0, #0
 1082 0296 40F06881 		bne	.L104
2210:Src/vl6180x_api.c **** 			VL6180x_ErrLog("0x01AC wr fail");
2211:Src/vl6180x_api.c **** 			goto done_err;
2212:Src/vl6180x_api.c **** 		}
2213:Src/vl6180x_api.c **** 		//status = VL6180x_WrByte(dev, 0x0F2, u8_2);
2214:Src/vl6180x_api.c **** 		//if (status) {
2215:Src/vl6180x_api.c **** 		//	VL6180x_ErrLog("0x0F2  wr fail");
2216:Src/vl6180x_api.c **** 		//	goto done_err;
2217:Src/vl6180x_api.c **** 		//}
2218:Src/vl6180x_api.c **** 		_FilterData(MeasurementIndex)++;
 1083              		.loc 1 2218 3 is_stmt 1 view .LVU423
 1084 029a E369     		ldr	r3, [r4, #28]
 1085              		.loc 1 2218 32 is_stmt 0 view .LVU424
 1086 029c 0133     		adds	r3, r3, #1
 1087 029e E361     		str	r3, [r4, #28]
 1088              	.L49:
2219:Src/vl6180x_api.c **** 	}
2220:Src/vl6180x_api.c **** 
2221:Src/vl6180x_api.c **** 	if (bypassFilter == 1) {
 1089              		.loc 1 2221 2 is_stmt 1 view .LVU425
 1090              		.loc 1 2221 5 is_stmt 0 view .LVU426
 1091 02a0 BBF1000F 		cmp	fp, #0
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 62


 1092 02a4 60D1     		bne	.L124
2222:Src/vl6180x_api.c **** 		/* Do not go through the filter */
2223:Src/vl6180x_api.c **** 
2224:Src/vl6180x_api.c **** 		/* Update filter error code */
2225:Src/vl6180x_api.c **** 		_FilterData(filterError) = filterErrorCode;
2226:Src/vl6180x_api.c **** 
2227:Src/vl6180x_api.c **** 		/* Update reported range */
2228:Src/vl6180x_api.c **** 		if(filterErrorCode==RangingFiltered)
2229:Src/vl6180x_api.c **** 			m_newTrueRange_mm = MaxOrInvalidDistance; /* Set to invalid distance */
2230:Src/vl6180x_api.c **** 
2231:Src/vl6180x_api.c **** 		return m_newTrueRange_mm;
2232:Src/vl6180x_api.c **** 	}
2233:Src/vl6180x_api.c **** 
2234:Src/vl6180x_api.c **** 	/* Computes current VAVGDiff */
2235:Src/vl6180x_api.c **** 	if (_FilterData(Default_VAVGVal) > _FilterData(NoDelay_VAVGVal))
 1093              		.loc 1 2235 2 is_stmt 1 view .LVU427
 1094              		.loc 1 2235 6 is_stmt 0 view .LVU428
 1095 02a6 A26E     		ldr	r2, [r4, #104]
 1096              		.loc 1 2235 37 view .LVU429
 1097 02a8 236F     		ldr	r3, [r4, #112]
 1098              		.loc 1 2235 5 view .LVU430
 1099 02aa 9A42     		cmp	r2, r3
 1100 02ac 6AD9     		bls	.L105
2236:Src/vl6180x_api.c **** 		VAVGDiff = _FilterData(Default_VAVGVal) - _FilterData(NoDelay_VAVGVal);
 1101              		.loc 1 2236 3 is_stmt 1 view .LVU431
 1102              		.loc 1 2236 12 is_stmt 0 view .LVU432
 1103 02ae D21A     		subs	r2, r2, r3
 1104              	.LVL112:
 1105              	.L56:
2237:Src/vl6180x_api.c **** 	else
2238:Src/vl6180x_api.c **** 		VAVGDiff = 0;
2239:Src/vl6180x_api.c **** 	_FilterData(Previous_VAVGDiff) = VAVGDiff;
 1106              		.loc 1 2239 2 is_stmt 1 view .LVU433
 1107              		.loc 1 2239 33 is_stmt 0 view .LVU434
 1108 02b0 6267     		str	r2, [r4, #116]
2240:Src/vl6180x_api.c **** 
2241:Src/vl6180x_api.c **** 	if(SuspicuousRangingZone==0)
 1109              		.loc 1 2241 2 is_stmt 1 view .LVU435
 1110              		.loc 1 2241 4 is_stmt 0 view .LVU436
 1111 02b2 059B     		ldr	r3, [sp, #20]
 1112 02b4 002B     		cmp	r3, #0
 1113 02b6 67D1     		bne	.L106
2242:Src/vl6180x_api.c **** 		MAX_VAVGDiff = MAX_VAVGDiff_ROM;
 1114              		.loc 1 2242 16 view .LVU437
 1115 02b8 4FF4E161 		mov	r1, #1800
 1116              	.L57:
 1117              	.LVL113:
2243:Src/vl6180x_api.c **** 	else
2244:Src/vl6180x_api.c **** 		/* In suspicuous area, strengthen the filter */
2245:Src/vl6180x_api.c **** 		MAX_VAVGDiff = MAX_VAVGDiff_ROM / SuspicuousMAX_VAVGDiffRatio;
2246:Src/vl6180x_api.c **** 
2247:Src/vl6180x_api.c **** 	/* Check the VAVGDiff */
2248:Src/vl6180x_api.c **** 	if (_FilterData(Default_ZeroVal) > _FilterData(NoDelay_ZeroVal))
 1118              		.loc 1 2248 2 is_stmt 1 view .LVU438
 1119              		.loc 1 2248 6 is_stmt 0 view .LVU439
 1120 02bc 606E     		ldr	r0, [r4, #100]
 1121              	.LVL114:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 63


 1122              		.loc 1 2248 37 view .LVU440
 1123 02be E36E     		ldr	r3, [r4, #108]
 1124              		.loc 1 2248 5 view .LVU441
 1125 02c0 9842     		cmp	r0, r3
 1126 02c2 64D9     		bls	.L58
2249:Src/vl6180x_api.c **** 		IdealVAVGDiff = _FilterData(Default_ZeroVal) - _FilterData(NoDelay_ZeroVal);
 1127              		.loc 1 2249 3 is_stmt 1 view .LVU442
 1128              		.loc 1 2249 17 is_stmt 0 view .LVU443
 1129 02c4 C31A     		subs	r3, r0, r3
 1130              	.LVL115:
 1131              	.L59:
2250:Src/vl6180x_api.c **** 	else
2251:Src/vl6180x_api.c **** 		IdealVAVGDiff = _FilterData(NoDelay_ZeroVal) - _FilterData(Default_ZeroVal);
2252:Src/vl6180x_api.c **** 	if (IdealVAVGDiff > MAX_VAVGDiff)
 1132              		.loc 1 2252 2 is_stmt 1 view .LVU444
 1133              		.loc 1 2252 5 is_stmt 0 view .LVU445
 1134 02c6 8B42     		cmp	r3, r1
 1135 02c8 63D9     		bls	.L107
2253:Src/vl6180x_api.c **** 		MinVAVGDiff = IdealVAVGDiff - MAX_VAVGDiff;
 1136              		.loc 1 2253 3 is_stmt 1 view .LVU446
 1137              		.loc 1 2253 15 is_stmt 0 view .LVU447
 1138 02ca 581A     		subs	r0, r3, r1
 1139              	.LVL116:
 1140              	.L60:
2254:Src/vl6180x_api.c **** 	else
2255:Src/vl6180x_api.c **** 		MinVAVGDiff = 0;
2256:Src/vl6180x_api.c **** 	MaxVAVGDiff = IdealVAVGDiff + MAX_VAVGDiff;
 1141              		.loc 1 2256 2 is_stmt 1 view .LVU448
 1142              		.loc 1 2256 14 is_stmt 0 view .LVU449
 1143 02cc 0B44     		add	r3, r3, r1
 1144              	.LVL117:
2257:Src/vl6180x_api.c **** 	if (VAVGDiff < MinVAVGDiff || VAVGDiff > MaxVAVGDiff) {
 1145              		.loc 1 2257 2 is_stmt 1 view .LVU450
 1146              		.loc 1 2257 5 is_stmt 0 view .LVU451
 1147 02ce 8242     		cmp	r2, r0
 1148 02d0 C0F0D880 		bcc	.L108
 1149              		.loc 1 2257 29 discriminator 1 view .LVU452
 1150 02d4 9A42     		cmp	r2, r3
 1151 02d6 00F2E980 		bhi	.L109
2258:Src/vl6180x_api.c **** 		WrapAroundFlag = 1;
2259:Src/vl6180x_api.c **** 		filterErrorCode = RangingFiltered;
2260:Src/vl6180x_api.c **** 	} else {
2261:Src/vl6180x_api.c **** 		/* Go through filtering check */
2262:Src/vl6180x_api.c **** 
2263:Src/vl6180x_api.c **** 		if(_FilterData(MeasurementIndex)<=1)
 1152              		.loc 1 2263 3 is_stmt 1 view .LVU453
 1153              		.loc 1 2263 6 is_stmt 0 view .LVU454
 1154 02da E369     		ldr	r3, [r4, #28]
 1155              	.LVL118:
 1156              		.loc 1 2263 5 view .LVU455
 1157 02dc 012B     		cmp	r3, #1
 1158 02de 5AD9     		bls	.L125
2264:Src/vl6180x_api.c **** 			/* On measurement after a bypass, uses an increase number of samples */
2265:Src/vl6180x_api.c **** 			StdDevSamplesMinNeeded = MIN_FILTER_STDDEV_SAMPLES_AFTER_FLUSH_OR_BYPASS;
2266:Src/vl6180x_api.c **** 		else
2267:Src/vl6180x_api.c **** 			StdDevSamplesMinNeeded = MIN_FILTER_STDDEV_SAMPLES;
 1159              		.loc 1 2267 27 view .LVU456
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 64


 1160 02e0 0325     		movs	r5, #3
 1161              	.LVL119:
 1162              	.L62:
2268:Src/vl6180x_api.c **** 
2269:Src/vl6180x_api.c **** 		/* StdDevLimit Damper on SNR */
2270:Src/vl6180x_api.c **** 		StdDevLimit = _filter_StdDevDamper(m_rtnAmbientRate, m_rtnSignalRate, StdDevLimitLowLight, StdDev
 1163              		.loc 1 2270 3 is_stmt 1 view .LVU457
 1164              		.loc 1 2270 17 is_stmt 0 view .LVU458
 1165 02e2 0523     		movs	r3, #5
 1166 02e4 0193     		str	r3, [sp, #4]
 1167 02e6 4FF46173 		mov	r3, #900
 1168 02ea 0093     		str	r3, [sp]
 1169 02ec 1E23     		movs	r3, #30
 1170 02ee 9622     		movs	r2, #150
 1171              	.LVL120:
 1172              		.loc 1 2270 17 view .LVU459
 1173 02f0 3946     		mov	r1, r7
 1174              	.LVL121:
 1175              		.loc 1 2270 17 view .LVU460
 1176 02f2 1698     		ldr	r0, [sp, #88]
 1177              	.LVL122:
 1178              		.loc 1 2270 17 view .LVU461
 1179 02f4 FFF7FEFF 		bl	_filter_StdDevDamper
 1180              	.LVL123:
2271:Src/vl6180x_api.c **** 
2272:Src/vl6180x_api.c **** 		/* Standard deviations computations */
2273:Src/vl6180x_api.c **** 		StdDevSamples = 0;
 1181              		.loc 1 2273 3 is_stmt 1 view .LVU462
2274:Src/vl6180x_api.c **** 		StdDevDistanceSum = 0;
 1182              		.loc 1 2274 3 view .LVU463
2275:Src/vl6180x_api.c **** 		StdDevDistanceMean = 0;
 1183              		.loc 1 2275 3 view .LVU464
2276:Src/vl6180x_api.c **** 		StdDevDistance = 0;
 1184              		.loc 1 2276 3 view .LVU465
2277:Src/vl6180x_api.c **** 		StdDevRateSum = 0;
 1185              		.loc 1 2277 3 view .LVU466
2278:Src/vl6180x_api.c **** 		StdDevRateMean = 0;
 1186              		.loc 1 2278 3 view .LVU467
2279:Src/vl6180x_api.c **** 		StdDevRate = 0;
 1187              		.loc 1 2279 3 view .LVU468
2280:Src/vl6180x_api.c **** 		for (i = 0; (i < FILTER_NBOF_SAMPLES) && (StdDevSamples < FILTER_STDDEV_SAMPLES); i++) {
 1188              		.loc 1 2280 3 view .LVU469
2273:Src/vl6180x_api.c **** 		StdDevDistanceSum = 0;
 1189              		.loc 1 2273 17 is_stmt 0 view .LVU470
 1190 02f8 5A46     		mov	r2, fp
 1191              		.loc 1 2280 10 view .LVU471
 1192 02fa 5B46     		mov	r3, fp
2277:Src/vl6180x_api.c **** 		StdDevRateMean = 0;
 1193              		.loc 1 2277 17 view .LVU472
 1194 02fc 4FF0000C 		mov	ip, #0
2274:Src/vl6180x_api.c **** 		StdDevDistanceMean = 0;
 1195              		.loc 1 2274 21 view .LVU473
 1196 0300 6746     		mov	r7, ip
 1197              	.LVL124:
 1198              		.loc 1 2280 3 view .LVU474
 1199 0302 55E0     		b	.L63
 1200              	.LVL125:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 65


 1201              	.L97:
1917:Src/vl6180x_api.c **** 
 1202              		.loc 1 1917 11 view .LVU475
 1203 0304 0123     		movs	r3, #1
 1204 0306 0793     		str	r3, [sp, #28]
2118:Src/vl6180x_api.c **** 	else {
 1205              		.loc 1 2118 16 view .LVU476
 1206 0308 9B46     		mov	fp, r3
 1207              	.LVL126:
2118:Src/vl6180x_api.c **** 	else {
 1208              		.loc 1 2118 16 view .LVU477
 1209 030a 78E7     		b	.L44
 1210              	.LVL127:
 1211              	.L98:
1917:Src/vl6180x_api.c **** 
 1212              		.loc 1 1917 11 view .LVU478
 1213 030c 0123     		movs	r3, #1
 1214 030e 0793     		str	r3, [sp, #28]
 1215 0310 75E7     		b	.L44
 1216              	.L99:
2127:Src/vl6180x_api.c **** 			}
 1217              		.loc 1 2127 21 view .LVU479
 1218 0312 D146     		mov	r9, r10
 1219              	.LVL128:
2131:Src/vl6180x_api.c **** 		}
 1220              		.loc 1 2131 18 view .LVU480
 1221 0314 0023     		movs	r3, #0
 1222 0316 0793     		str	r3, [sp, #28]
2130:Src/vl6180x_api.c **** 			resetVAVGData = 0;
 1223              		.loc 1 2130 17 view .LVU481
 1224 0318 4FF0010B 		mov	fp, #1
 1225              	.LVL129:
2130:Src/vl6180x_api.c **** 			resetVAVGData = 0;
 1226              		.loc 1 2130 17 view .LVU482
 1227 031c 6FE7     		b	.L44
 1228              	.LVL130:
 1229              	.L100:
2127:Src/vl6180x_api.c **** 			}
 1230              		.loc 1 2127 21 view .LVU483
 1231 031e D146     		mov	r9, r10
 1232              	.LVL131:
2131:Src/vl6180x_api.c **** 		}
 1233              		.loc 1 2131 18 view .LVU484
 1234 0320 0023     		movs	r3, #0
 1235 0322 0793     		str	r3, [sp, #28]
2130:Src/vl6180x_api.c **** 			resetVAVGData = 0;
 1236              		.loc 1 2130 17 view .LVU485
 1237 0324 4FF0010B 		mov	fp, #1
 1238              	.LVL132:
2130:Src/vl6180x_api.c **** 			resetVAVGData = 0;
 1239              		.loc 1 2130 17 view .LVU486
 1240 0328 69E7     		b	.L44
 1241              	.LVL133:
 1242              	.L122:
2172:Src/vl6180x_api.c **** 		if (registerValue != 0x3E) {
 1243              		.loc 1 2172 49 discriminator 2 view .LVU487
 1244 032a 079B     		ldr	r3, [sp, #28]
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 66


 1245 032c 002B     		cmp	r3, #0
 1246 032e 9ED0     		beq	.L47
 1247              	.L46:
2173:Src/vl6180x_api.c **** 			status = VL6180x_WrByte(dev, 0x1AC, 0x3E);
 1248              		.loc 1 2173 3 is_stmt 1 view .LVU488
2173:Src/vl6180x_api.c **** 			status = VL6180x_WrByte(dev, 0x1AC, 0x3E);
 1249              		.loc 1 2173 6 is_stmt 0 view .LVU489
 1250 0330 BAF13E0F 		cmp	r10, #62
 1251 0334 06D1     		bne	.L126
 1252              	.L48:
2186:Src/vl6180x_api.c **** 		_FilterData(Default_VAVGVal) = register32BitsValue2;
 1253              		.loc 1 2186 3 is_stmt 1 view .LVU490
2186:Src/vl6180x_api.c **** 		_FilterData(Default_VAVGVal) = register32BitsValue2;
 1254              		.loc 1 2186 32 is_stmt 0 view .LVU491
 1255 0336 6666     		str	r6, [r4, #100]
2187:Src/vl6180x_api.c **** 		_FilterData(NoDelay_ZeroVal) = register32BitsValue1;
 1256              		.loc 1 2187 3 is_stmt 1 view .LVU492
2187:Src/vl6180x_api.c **** 		_FilterData(NoDelay_ZeroVal) = register32BitsValue1;
 1257              		.loc 1 2187 32 is_stmt 0 view .LVU493
 1258 0338 A566     		str	r5, [r4, #104]
2188:Src/vl6180x_api.c **** 		_FilterData(NoDelay_VAVGVal) = register32BitsValue2;
 1259              		.loc 1 2188 3 is_stmt 1 view .LVU494
2188:Src/vl6180x_api.c **** 		_FilterData(NoDelay_VAVGVal) = register32BitsValue2;
 1260              		.loc 1 2188 32 is_stmt 0 view .LVU495
 1261 033a E666     		str	r6, [r4, #108]
2189:Src/vl6180x_api.c **** 
 1262              		.loc 1 2189 3 is_stmt 1 view .LVU496
2189:Src/vl6180x_api.c **** 
 1263              		.loc 1 2189 32 is_stmt 0 view .LVU497
 1264 033c 2567     		str	r5, [r4, #112]
2191:Src/vl6180x_api.c **** 	} else {
 1265              		.loc 1 2191 3 is_stmt 1 view .LVU498
2191:Src/vl6180x_api.c **** 	} else {
 1266              		.loc 1 2191 33 is_stmt 0 view .LVU499
 1267 033e 0023     		movs	r3, #0
 1268 0340 E361     		str	r3, [r4, #28]
 1269 0342 ADE7     		b	.L49
 1270              	.L126:
2174:Src/vl6180x_api.c **** 			if (status) {
 1271              		.loc 1 2174 4 is_stmt 1 view .LVU500
2174:Src/vl6180x_api.c **** 			if (status) {
 1272              		.loc 1 2174 13 is_stmt 0 view .LVU501
 1273 0344 3E22     		movs	r2, #62
 1274 0346 4FF4D671 		mov	r1, #428
 1275 034a 2046     		mov	r0, r4
 1276              	.LVL134:
2174:Src/vl6180x_api.c **** 			if (status) {
 1277              		.loc 1 2174 13 view .LVU502
 1278 034c FFF7FEFF 		bl	VL6180x_WrByte
 1279              	.LVL135:
2175:Src/vl6180x_api.c **** 				VL6180x_ErrLog("0x01AC bypass wr fail");
 1280              		.loc 1 2175 4 is_stmt 1 view .LVU503
2175:Src/vl6180x_api.c **** 				VL6180x_ErrLog("0x01AC bypass wr fail");
 1281              		.loc 1 2175 7 is_stmt 0 view .LVU504
 1282 0350 0028     		cmp	r0, #0
 1283 0352 F0D0     		beq	.L48
2281:Src/vl6180x_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 67


2282:Src/vl6180x_api.c **** 				StdDevSamples = (uint16_t) (StdDevSamples + 1);
2283:Src/vl6180x_api.c **** 				StdDevDistanceSum = (uint32_t) (StdDevDistanceSum + _FilterData(LastTrueRange)[i]);
2284:Src/vl6180x_api.c **** 				StdDevRateSum = (uint32_t) (StdDevRateSum + _FilterData(LastReturnRates)[i]);
2285:Src/vl6180x_api.c **** 			}
2286:Src/vl6180x_api.c **** 		}
2287:Src/vl6180x_api.c **** 		if (StdDevSamples > 0) {
2288:Src/vl6180x_api.c **** 			StdDevDistanceMean = (uint32_t) (StdDevDistanceSum / StdDevSamples);
2289:Src/vl6180x_api.c **** 			StdDevRateMean = (uint32_t) (StdDevRateSum / StdDevSamples);
2290:Src/vl6180x_api.c **** 		}
2291:Src/vl6180x_api.c **** 		/* TODO optimize shorten Std dev in aisngle loop computation using sum of x2 - (sum of x)2 */
2292:Src/vl6180x_api.c **** 		StdDevSamples = 0;
2293:Src/vl6180x_api.c **** 		StdDevDistanceSum = 0;
2294:Src/vl6180x_api.c **** 		StdDevRateSum = 0;
2295:Src/vl6180x_api.c **** 		for (i = 0; (i < FILTER_NBOF_SAMPLES) && (StdDevSamples < FILTER_STDDEV_SAMPLES); i++) {
2296:Src/vl6180x_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
2297:Src/vl6180x_api.c **** 				StdDevSamples = (uint16_t) (StdDevSamples + 1);
2298:Src/vl6180x_api.c **** 				StdDevDistanceSum = (uint32_t) (StdDevDistanceSum +
2299:Src/vl6180x_api.c **** 									(int)(_FilterData(LastTrueRange)[i] -
2300:Src/vl6180x_api.c **** 											StdDevDistanceMean) *
2301:Src/vl6180x_api.c **** 											(int) (_FilterData(LastTrueRange)[i] -
2302:Src/vl6180x_api.c **** 													StdDevDistanceMean));
2303:Src/vl6180x_api.c **** 				StdDevRateSum = (uint32_t) (StdDevRateSum +
2304:Src/vl6180x_api.c **** 									(int) (_FilterData(LastReturnRates)[i] -
2305:Src/vl6180x_api.c **** 											StdDevRateMean) *
2306:Src/vl6180x_api.c **** 											(int) (_FilterData(LastReturnRates)[i] -
2307:Src/vl6180x_api.c **** 													StdDevRateMean));
2308:Src/vl6180x_api.c **** 			}
2309:Src/vl6180x_api.c **** 		}
2310:Src/vl6180x_api.c **** 		if (StdDevSamples >= StdDevSamplesMinNeeded) {
2311:Src/vl6180x_api.c **** 			StdDevDistance = (uint16_t) (StdDevDistanceSum / StdDevSamples);
2312:Src/vl6180x_api.c **** 			StdDevRate = (uint16_t) (StdDevRateSum / StdDevSamples);
2313:Src/vl6180x_api.c **** 		} else {
2314:Src/vl6180x_api.c **** 			StdDevDistance = 0;
2315:Src/vl6180x_api.c **** 			StdDevRate = 0;
2316:Src/vl6180x_api.c **** 		}
2317:Src/vl6180x_api.c **** 
2318:Src/vl6180x_api.c **** 		/* Check Return rate standard deviation */
2319:Src/vl6180x_api.c **** 		if (StdDevRate < StdDevMovingTargetStdDevLimit) {
2320:Src/vl6180x_api.c **** 			if (StdDevSamples < StdDevSamplesMinNeeded) {
2321:Src/vl6180x_api.c **** 				//m_newTrueRange_mm = MaxOrInvalidDistance;
2322:Src/vl6180x_api.c **** 				filterErrorCode = RangingFiltered;
2323:Src/vl6180x_api.c **** 			} else {
2324:Src/vl6180x_api.c **** 				/* Check distance standard deviation */
2325:Src/vl6180x_api.c **** 				if (StdDevRate < StdDevMovingTargetReturnRateLimit)
2326:Src/vl6180x_api.c **** 					StdDevLimitWithTargetMove = StdDevLimit +
2327:Src/vl6180x_api.c **** 						(((StdDevMovingTargetStdDevForReturnRateLimit -
2328:Src/vl6180x_api.c **** 							StdDevLimit) * StdDevRate) /
2329:Src/vl6180x_api.c **** 							StdDevMovingTargetReturnRateLimit);
2330:Src/vl6180x_api.c **** 				else
2331:Src/vl6180x_api.c **** 					StdDevLimitWithTargetMove = StdDevMovingTargetStdDevForReturnRateLimit;
2332:Src/vl6180x_api.c **** 
2333:Src/vl6180x_api.c **** 				if(_FilterData(filterError)==NoError){
2334:Src/vl6180x_api.c **** 					/* No wrapAround detected yet, so relax constraints on the std dev */
2335:Src/vl6180x_api.c **** 					StdDevLimitWithTargetMove = StdDevLimitWithTargetMove * StdDevNoWrapDetectedMultiplier;
2336:Src/vl6180x_api.c **** 				}
2337:Src/vl6180x_api.c **** 
2338:Src/vl6180x_api.c **** 				if (((StdDevDistance * StdDevHighConfidenceSNRLimit) < StdDevLimit) && (StdDevSamples>=FILTER_S
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 68


2339:Src/vl6180x_api.c **** 					NoWrapAroundHighConfidenceFlag = 1;
2340:Src/vl6180x_api.c **** 				} else {
2341:Src/vl6180x_api.c **** 					if (StdDevDistance < StdDevLimitWithTargetMove) {
2342:Src/vl6180x_api.c **** 							NoWrapAroundFlag = 1;
2343:Src/vl6180x_api.c **** 						} else {
2344:Src/vl6180x_api.c **** 						WrapAroundFlag = 1;
2345:Src/vl6180x_api.c **** 						filterErrorCode = RangingFiltered;
2346:Src/vl6180x_api.c **** 					}
2347:Src/vl6180x_api.c **** 				}
2348:Src/vl6180x_api.c **** 			}
2349:Src/vl6180x_api.c **** 		} else {
2350:Src/vl6180x_api.c **** 			/* Target moving too fast */
2351:Src/vl6180x_api.c **** 			WrapAroundFlag = 1;
2352:Src/vl6180x_api.c **** 			filterErrorCode = RangingFiltered;
2353:Src/vl6180x_api.c **** 		}
2354:Src/vl6180x_api.c **** 	}
2355:Src/vl6180x_api.c **** 
2356:Src/vl6180x_api.c **** 	if (ValidDistance == 0) {
2357:Src/vl6180x_api.c **** 		/* In case of invalid distance */
2358:Src/vl6180x_api.c **** 		if (_FilterData(StdFilteredReads) > 0)
2359:Src/vl6180x_api.c **** 			_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) - 1);
2360:Src/vl6180x_api.c **** 	} else {
2361:Src/vl6180x_api.c **** 		if (WrapAroundFlag == 1) {
2362:Src/vl6180x_api.c **** 			_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) +
2363:Src/vl6180x_api.c **** 											StdFilteredReadsIncrement);
2364:Src/vl6180x_api.c **** 			if (_FilterData(StdFilteredReads) > StdMaxFilteredReads)
2365:Src/vl6180x_api.c **** 				_FilterData(StdFilteredReads) = StdMaxFilteredReads;
2366:Src/vl6180x_api.c **** 		} else {
2367:Src/vl6180x_api.c **** 			if (NoWrapAroundFlag == 1) {
2368:Src/vl6180x_api.c **** 				if (_FilterData(StdFilteredReads) > 0) {
2369:Src/vl6180x_api.c **** 					filterErrorCode = RangingFiltered;
2370:Src/vl6180x_api.c **** 					if (_FilterData(StdFilteredReads) > StdFilteredReadsDecrement)
2371:Src/vl6180x_api.c **** 						_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) -
2372:Src/vl6180x_api.c **** 														StdFilteredReadsDecrement);
2373:Src/vl6180x_api.c **** 					else
2374:Src/vl6180x_api.c **** 						_FilterData(StdFilteredReads) = 0;
2375:Src/vl6180x_api.c **** 				}
2376:Src/vl6180x_api.c **** 			} else {
2377:Src/vl6180x_api.c **** 				if (NoWrapAroundHighConfidenceFlag == 1) {
2378:Src/vl6180x_api.c **** 					_FilterData(StdFilteredReads) = 0;
2379:Src/vl6180x_api.c **** 				}
2380:Src/vl6180x_api.c **** 			}
2381:Src/vl6180x_api.c **** 		}
2382:Src/vl6180x_api.c **** 	}
2383:Src/vl6180x_api.c **** 
2384:Src/vl6180x_api.c **** 	/* If we detect a change from no Error to RangingFilteringOnGoing, then it means that
2385:Src/vl6180x_api.c **** 	 * the filter detected a change in te scene, so discard all previous measurements.
2386:Src/vl6180x_api.c **** 	 */
2387:Src/vl6180x_api.c **** 	if((_FilterData(filterError) == NoError) && (filterErrorCode!=NoError)) {
2388:Src/vl6180x_api.c **** 		for (i = 1; i < FILTER_NBOF_SAMPLES; i++) {
2389:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
2390:Src/vl6180x_api.c **** 			_FilterData(LastReturnRates)[i] = 0;
2391:Src/vl6180x_api.c **** 		}
2392:Src/vl6180x_api.c **** 	}
2393:Src/vl6180x_api.c **** 
2394:Src/vl6180x_api.c **** 	/* Update filter error code */
2395:Src/vl6180x_api.c **** 	_FilterData(filterError) = filterErrorCode;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 69


2396:Src/vl6180x_api.c **** 
2397:Src/vl6180x_api.c **** 	/* Update reported range */
2398:Src/vl6180x_api.c **** 	if(filterErrorCode==RangingFiltered)
2399:Src/vl6180x_api.c **** 		m_newTrueRange_mm = MaxOrInvalidDistance; /* Set to invalid distance */
2400:Src/vl6180x_api.c **** 
2401:Src/vl6180x_api.c **** 	return m_newTrueRange_mm;
2402:Src/vl6180x_api.c **** done_err:
2403:Src/vl6180x_api.c **** 	return -1;
 1284              		.loc 1 2403 9 view .LVU505
 1285 0354 4FF0FF30 		mov	r0, #-1
 1286              	.LVL136:
 1287              		.loc 1 2403 9 view .LVU506
 1288 0358 FAE0     		b	.L21
 1289              	.LVL137:
 1290              	.L123:
2194:Src/vl6180x_api.c **** 			_FilterData(Default_VAVGVal) = register32BitsValue2;
 1291              		.loc 1 2194 4 is_stmt 1 view .LVU507
2194:Src/vl6180x_api.c **** 			_FilterData(Default_VAVGVal) = register32BitsValue2;
 1292              		.loc 1 2194 33 is_stmt 0 view .LVU508
 1293 035a 6666     		str	r6, [r4, #100]
2195:Src/vl6180x_api.c **** 		} else {
 1294              		.loc 1 2195 4 is_stmt 1 view .LVU509
2195:Src/vl6180x_api.c **** 		} else {
 1295              		.loc 1 2195 33 is_stmt 0 view .LVU510
 1296 035c A566     		str	r5, [r4, #104]
 1297 035e 8BE7     		b	.L51
 1298              	.L52:
2205:Src/vl6180x_api.c **** 			//u8_2 = 0x01;
 1299              		.loc 1 2205 4 is_stmt 1 view .LVU511
2205:Src/vl6180x_api.c **** 			//u8_2 = 0x01;
 1300              		.loc 1 2205 7 is_stmt 0 view .LVU512
 1301 0360 3E23     		movs	r3, #62
 1302 0362 8DF82730 		strb	r3, [sp, #39]
 1303 0366 8EE7     		b	.L53
 1304              	.L124:
2225:Src/vl6180x_api.c **** 
 1305              		.loc 1 2225 3 is_stmt 1 view .LVU513
2225:Src/vl6180x_api.c **** 
 1306              		.loc 1 2225 28 is_stmt 0 view .LVU514
 1307 0368 C4F87C90 		str	r9, [r4, #124]
2228:Src/vl6180x_api.c **** 			m_newTrueRange_mm = MaxOrInvalidDistance; /* Set to invalid distance */
 1308              		.loc 1 2228 3 is_stmt 1 view .LVU515
2228:Src/vl6180x_api.c **** 			m_newTrueRange_mm = MaxOrInvalidDistance; /* Set to invalid distance */
 1309              		.loc 1 2228 5 is_stmt 0 view .LVU516
 1310 036c B9F1100F 		cmp	r9, #16
 1311 0370 04D0     		beq	.L127
 1312              	.LVL138:
 1313              	.L55:
2231:Src/vl6180x_api.c **** 	}
 1314              		.loc 1 2231 3 is_stmt 1 view .LVU517
2231:Src/vl6180x_api.c **** 	}
 1315              		.loc 1 2231 10 is_stmt 0 view .LVU518
 1316 0372 0398     		ldr	r0, [sp, #12]
 1317              	.LVL139:
2231:Src/vl6180x_api.c **** 	}
 1318              		.loc 1 2231 10 view .LVU519
 1319 0374 ECE0     		b	.L21
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 70


 1320              	.L134:
 1321 0376 00BF     		.align	2
 1322              	.L133:
 1323 0378 1BA4411A 		.word	440509467
 1324              	.LVL140:
 1325              	.L127:
2229:Src/vl6180x_api.c **** 
 1326              		.loc 1 2229 4 is_stmt 1 view .LVU520
2229:Src/vl6180x_api.c **** 
 1327              		.loc 1 2229 22 is_stmt 0 view .LVU521
 1328 037c BDF81830 		ldrh	r3, [sp, #24]
 1329 0380 0393     		str	r3, [sp, #12]
 1330              	.LVL141:
2229:Src/vl6180x_api.c **** 
 1331              		.loc 1 2229 22 view .LVU522
 1332 0382 F6E7     		b	.L55
 1333              	.LVL142:
 1334              	.L105:
2238:Src/vl6180x_api.c **** 	_FilterData(Previous_VAVGDiff) = VAVGDiff;
 1335              		.loc 1 2238 12 view .LVU523
 1336 0384 0022     		movs	r2, #0
 1337 0386 93E7     		b	.L56
 1338              	.LVL143:
 1339              	.L106:
2245:Src/vl6180x_api.c **** 
 1340              		.loc 1 2245 16 view .LVU524
 1341 0388 4FF46171 		mov	r1, #900
 1342 038c 96E7     		b	.L57
 1343              	.LVL144:
 1344              	.L58:
2251:Src/vl6180x_api.c **** 	if (IdealVAVGDiff > MAX_VAVGDiff)
 1345              		.loc 1 2251 3 is_stmt 1 view .LVU525
2251:Src/vl6180x_api.c **** 	if (IdealVAVGDiff > MAX_VAVGDiff)
 1346              		.loc 1 2251 17 is_stmt 0 view .LVU526
 1347 038e 1B1A     		subs	r3, r3, r0
 1348              	.LVL145:
2251:Src/vl6180x_api.c **** 	if (IdealVAVGDiff > MAX_VAVGDiff)
 1349              		.loc 1 2251 17 view .LVU527
 1350 0390 99E7     		b	.L59
 1351              	.L107:
2255:Src/vl6180x_api.c **** 	MaxVAVGDiff = IdealVAVGDiff + MAX_VAVGDiff;
 1352              		.loc 1 2255 15 view .LVU528
 1353 0392 0020     		movs	r0, #0
 1354 0394 9AE7     		b	.L60
 1355              	.LVL146:
 1356              	.L125:
2265:Src/vl6180x_api.c **** 		else
 1357              		.loc 1 2265 27 view .LVU529
 1358 0396 0525     		movs	r5, #5
 1359              	.LVL147:
2265:Src/vl6180x_api.c **** 		else
 1360              		.loc 1 2265 27 view .LVU530
 1361 0398 A3E7     		b	.L62
 1362              	.LVL148:
 1363              	.L128:
2282:Src/vl6180x_api.c **** 				StdDevDistanceSum = (uint32_t) (StdDevDistanceSum + _FilterData(LastTrueRange)[i]);
 1364              		.loc 1 2282 5 is_stmt 1 view .LVU531
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 71


2282:Src/vl6180x_api.c **** 				StdDevDistanceSum = (uint32_t) (StdDevDistanceSum + _FilterData(LastTrueRange)[i]);
 1365              		.loc 1 2282 19 is_stmt 0 view .LVU532
 1366 039a 0132     		adds	r2, r2, #1
 1367              	.LVL149:
2282:Src/vl6180x_api.c **** 				StdDevDistanceSum = (uint32_t) (StdDevDistanceSum + _FilterData(LastTrueRange)[i]);
 1368              		.loc 1 2282 19 view .LVU533
 1369 039c 92B2     		uxth	r2, r2
 1370              	.LVL150:
2283:Src/vl6180x_api.c **** 				StdDevRateSum = (uint32_t) (StdDevRateSum + _FilterData(LastReturnRates)[i]);
 1371              		.loc 1 2283 5 is_stmt 1 view .LVU534
2283:Src/vl6180x_api.c **** 				StdDevRateSum = (uint32_t) (StdDevRateSum + _FilterData(LastReturnRates)[i]);
 1372              		.loc 1 2283 23 is_stmt 0 view .LVU535
 1373 039e 3744     		add	r7, r7, r6
 1374              	.LVL151:
2284:Src/vl6180x_api.c **** 			}
 1375              		.loc 1 2284 5 is_stmt 1 view .LVU536
2284:Src/vl6180x_api.c **** 			}
 1376              		.loc 1 2284 77 is_stmt 0 view .LVU537
 1377 03a0 03F10C01 		add	r1, r3, #12
 1378 03a4 04EB8101 		add	r1, r4, r1, lsl #2
 1379 03a8 8968     		ldr	r1, [r1, #8]
2284:Src/vl6180x_api.c **** 			}
 1380              		.loc 1 2284 19 view .LVU538
 1381 03aa 8C44     		add	ip, ip, r1
 1382              	.LVL152:
 1383              	.L64:
2280:Src/vl6180x_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1384              		.loc 1 2280 85 is_stmt 1 discriminator 2 view .LVU539
2280:Src/vl6180x_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1385              		.loc 1 2280 86 is_stmt 0 discriminator 2 view .LVU540
 1386 03ac 0133     		adds	r3, r3, #1
 1387              	.LVL153:
2280:Src/vl6180x_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1388              		.loc 1 2280 86 discriminator 2 view .LVU541
 1389 03ae 9BB2     		uxth	r3, r3
 1390              	.LVL154:
 1391              	.L63:
2280:Src/vl6180x_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1392              		.loc 1 2280 15 is_stmt 1 discriminator 1 view .LVU542
2280:Src/vl6180x_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1393              		.loc 1 2280 3 is_stmt 0 discriminator 1 view .LVU543
 1394 03b0 092B     		cmp	r3, #9
 1395 03b2 0BD8     		bhi	.L65
2280:Src/vl6180x_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1396              		.loc 1 2280 41 discriminator 3 view .LVU544
 1397 03b4 052A     		cmp	r2, #5
 1398 03b6 09D8     		bhi	.L65
2281:Src/vl6180x_api.c **** 				StdDevSamples = (uint16_t) (StdDevSamples + 1);
 1399              		.loc 1 2281 4 is_stmt 1 view .LVU545
2281:Src/vl6180x_api.c **** 				StdDevSamples = (uint16_t) (StdDevSamples + 1);
 1400              		.loc 1 2281 34 is_stmt 0 view .LVU546
 1401 03b8 03F11001 		add	r1, r3, #16
 1402 03bc 04EB4101 		add	r1, r4, r1, lsl #1
 1403 03c0 8E88     		ldrh	r6, [r1, #4]
2281:Src/vl6180x_api.c **** 				StdDevSamples = (uint16_t) (StdDevSamples + 1);
 1404              		.loc 1 2281 7 view .LVU547
 1405 03c2 4FF6FF71 		movw	r1, #65535
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 72


 1406 03c6 8E42     		cmp	r6, r1
 1407 03c8 E7D1     		bne	.L128
 1408 03ca EFE7     		b	.L64
 1409              	.L65:
2287:Src/vl6180x_api.c **** 			StdDevDistanceMean = (uint32_t) (StdDevDistanceSum / StdDevSamples);
 1410              		.loc 1 2287 3 is_stmt 1 view .LVU548
2287:Src/vl6180x_api.c **** 			StdDevDistanceMean = (uint32_t) (StdDevDistanceSum / StdDevSamples);
 1411              		.loc 1 2287 6 is_stmt 0 view .LVU549
 1412 03cc 42B1     		cbz	r2, .L111
2288:Src/vl6180x_api.c **** 			StdDevRateMean = (uint32_t) (StdDevRateSum / StdDevSamples);
 1413              		.loc 1 2288 4 is_stmt 1 view .LVU550
2288:Src/vl6180x_api.c **** 			StdDevRateMean = (uint32_t) (StdDevRateSum / StdDevSamples);
 1414              		.loc 1 2288 23 is_stmt 0 view .LVU551
 1415 03ce B7FBF2F7 		udiv	r7, r7, r2
 1416              	.LVL155:
2289:Src/vl6180x_api.c **** 		}
 1417              		.loc 1 2289 4 is_stmt 1 view .LVU552
2289:Src/vl6180x_api.c **** 		}
 1418              		.loc 1 2289 19 is_stmt 0 view .LVU553
 1419 03d2 BCFBF2F1 		udiv	r1, ip, r2
 1420              	.LVL156:
 1421              	.L67:
2292:Src/vl6180x_api.c **** 		StdDevDistanceSum = 0;
 1422              		.loc 1 2292 3 is_stmt 1 view .LVU554
2293:Src/vl6180x_api.c **** 		StdDevRateSum = 0;
 1423              		.loc 1 2293 3 view .LVU555
2294:Src/vl6180x_api.c **** 		for (i = 0; (i < FILTER_NBOF_SAMPLES) && (StdDevSamples < FILTER_STDDEV_SAMPLES); i++) {
 1424              		.loc 1 2294 3 view .LVU556
2295:Src/vl6180x_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1425              		.loc 1 2295 3 view .LVU557
2292:Src/vl6180x_api.c **** 		StdDevDistanceSum = 0;
 1426              		.loc 1 2292 17 is_stmt 0 view .LVU558
 1427 03d6 5A46     		mov	r2, fp
2295:Src/vl6180x_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1428              		.loc 1 2295 10 view .LVU559
 1429 03d8 5B46     		mov	r3, fp
2294:Src/vl6180x_api.c **** 		for (i = 0; (i < FILTER_NBOF_SAMPLES) && (StdDevSamples < FILTER_STDDEV_SAMPLES); i++) {
 1430              		.loc 1 2294 17 view .LVU560
 1431 03da 0026     		movs	r6, #0
2293:Src/vl6180x_api.c **** 		StdDevRateSum = 0;
 1432              		.loc 1 2293 21 view .LVU561
 1433 03dc B046     		mov	r8, r6
2295:Src/vl6180x_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1434              		.loc 1 2295 3 view .LVU562
 1435 03de 14E0     		b	.L68
 1436              	.LVL157:
 1437              	.L111:
2278:Src/vl6180x_api.c **** 		StdDevRate = 0;
 1438              		.loc 1 2278 18 view .LVU563
 1439 03e0 0021     		movs	r1, #0
2275:Src/vl6180x_api.c **** 		StdDevDistance = 0;
 1440              		.loc 1 2275 22 view .LVU564
 1441 03e2 0F46     		mov	r7, r1
 1442              	.LVL158:
2275:Src/vl6180x_api.c **** 		StdDevDistance = 0;
 1443              		.loc 1 2275 22 view .LVU565
 1444 03e4 F7E7     		b	.L67
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 73


 1445              	.LVL159:
 1446              	.L129:
2297:Src/vl6180x_api.c **** 				StdDevDistanceSum = (uint32_t) (StdDevDistanceSum +
 1447              		.loc 1 2297 5 is_stmt 1 view .LVU566
2297:Src/vl6180x_api.c **** 				StdDevDistanceSum = (uint32_t) (StdDevDistanceSum +
 1448              		.loc 1 2297 19 is_stmt 0 view .LVU567
 1449 03e6 0132     		adds	r2, r2, #1
 1450              	.LVL160:
2297:Src/vl6180x_api.c **** 				StdDevDistanceSum = (uint32_t) (StdDevDistanceSum +
 1451              		.loc 1 2297 19 view .LVU568
 1452 03e8 92B2     		uxth	r2, r2
 1453              	.LVL161:
2298:Src/vl6180x_api.c **** 									(int)(_FilterData(LastTrueRange)[i] -
 1454              		.loc 1 2298 5 is_stmt 1 view .LVU569
2299:Src/vl6180x_api.c **** 											StdDevDistanceMean) *
 1455              		.loc 1 2299 46 is_stmt 0 view .LVU570
 1456 03ea AEEB070C 		sub	ip, lr, r7
2298:Src/vl6180x_api.c **** 									(int)(_FilterData(LastTrueRange)[i] -
 1457              		.loc 1 2298 23 view .LVU571
 1458 03ee 0CFB0C88 		mla	r8, ip, ip, r8
 1459              	.LVL162:
2303:Src/vl6180x_api.c **** 									(int) (_FilterData(LastReturnRates)[i] -
 1460              		.loc 1 2303 5 is_stmt 1 view .LVU572
2304:Src/vl6180x_api.c **** 											StdDevRateMean) *
 1461              		.loc 1 2304 45 is_stmt 0 view .LVU573
 1462 03f2 03F10C0C 		add	ip, r3, #12
 1463 03f6 04EB8C0C 		add	ip, r4, ip, lsl #2
 1464 03fa DCF808C0 		ldr	ip, [ip, #8]
2304:Src/vl6180x_api.c **** 											StdDevRateMean) *
 1465              		.loc 1 2304 49 view .LVU574
 1466 03fe ACEB010C 		sub	ip, ip, r1
2303:Src/vl6180x_api.c **** 									(int) (_FilterData(LastReturnRates)[i] -
 1467              		.loc 1 2303 19 view .LVU575
 1468 0402 0CFB0C66 		mla	r6, ip, ip, r6
 1469              	.LVL163:
 1470              	.L69:
2295:Src/vl6180x_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1471              		.loc 1 2295 85 is_stmt 1 discriminator 2 view .LVU576
2295:Src/vl6180x_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1472              		.loc 1 2295 86 is_stmt 0 discriminator 2 view .LVU577
 1473 0406 0133     		adds	r3, r3, #1
 1474              	.LVL164:
2295:Src/vl6180x_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1475              		.loc 1 2295 86 discriminator 2 view .LVU578
 1476 0408 9BB2     		uxth	r3, r3
 1477              	.LVL165:
 1478              	.L68:
2295:Src/vl6180x_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1479              		.loc 1 2295 15 is_stmt 1 discriminator 1 view .LVU579
2295:Src/vl6180x_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1480              		.loc 1 2295 3 is_stmt 0 discriminator 1 view .LVU580
 1481 040a 092B     		cmp	r3, #9
 1482 040c 0CD8     		bhi	.L70
2295:Src/vl6180x_api.c **** 			if (_FilterData(LastTrueRange)[i] != FILTER_INVALID_DISTANCE) {
 1483              		.loc 1 2295 41 discriminator 3 view .LVU581
 1484 040e 052A     		cmp	r2, #5
 1485 0410 0AD8     		bhi	.L70
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 74


2296:Src/vl6180x_api.c **** 				StdDevSamples = (uint16_t) (StdDevSamples + 1);
 1486              		.loc 1 2296 4 is_stmt 1 view .LVU582
2296:Src/vl6180x_api.c **** 				StdDevSamples = (uint16_t) (StdDevSamples + 1);
 1487              		.loc 1 2296 34 is_stmt 0 view .LVU583
 1488 0412 03F1100C 		add	ip, r3, #16
 1489 0416 04EB4C0C 		add	ip, r4, ip, lsl #1
 1490 041a BCF804E0 		ldrh	lr, [ip, #4]
2296:Src/vl6180x_api.c **** 				StdDevSamples = (uint16_t) (StdDevSamples + 1);
 1491              		.loc 1 2296 7 view .LVU584
 1492 041e 4FF6FF7C 		movw	ip, #65535
 1493 0422 E645     		cmp	lr, ip
 1494 0424 DFD1     		bne	.L129
 1495 0426 EEE7     		b	.L69
 1496              	.L70:
2310:Src/vl6180x_api.c **** 			StdDevDistance = (uint16_t) (StdDevDistanceSum / StdDevSamples);
 1497              		.loc 1 2310 3 is_stmt 1 view .LVU585
2310:Src/vl6180x_api.c **** 			StdDevDistance = (uint16_t) (StdDevDistanceSum / StdDevSamples);
 1498              		.loc 1 2310 6 is_stmt 0 view .LVU586
 1499 0428 9542     		cmp	r5, r2
 1500 042a 25D8     		bhi	.L112
2311:Src/vl6180x_api.c **** 			StdDevRate = (uint16_t) (StdDevRateSum / StdDevSamples);
 1501              		.loc 1 2311 4 is_stmt 1 view .LVU587
2311:Src/vl6180x_api.c **** 			StdDevRate = (uint16_t) (StdDevRateSum / StdDevSamples);
 1502              		.loc 1 2311 51 is_stmt 0 view .LVU588
 1503 042c B8FBF2F8 		udiv	r8, r8, r2
 1504              	.LVL166:
2311:Src/vl6180x_api.c **** 			StdDevRate = (uint16_t) (StdDevRateSum / StdDevSamples);
 1505              		.loc 1 2311 51 view .LVU589
 1506 0430 1FFA88F8 		uxth	r8, r8
 1507              	.LVL167:
2312:Src/vl6180x_api.c **** 		} else {
 1508              		.loc 1 2312 4 is_stmt 1 view .LVU590
2312:Src/vl6180x_api.c **** 		} else {
 1509              		.loc 1 2312 43 is_stmt 0 view .LVU591
 1510 0434 B6FBF2F6 		udiv	r6, r6, r2
 1511              	.LVL168:
2312:Src/vl6180x_api.c **** 		} else {
 1512              		.loc 1 2312 43 view .LVU592
 1513 0438 B6B2     		uxth	r6, r6
 1514              	.LVL169:
2319:Src/vl6180x_api.c **** 			if (StdDevSamples < StdDevSamplesMinNeeded) {
 1515              		.loc 1 2319 3 is_stmt 1 view .LVU593
 1516              	.L72:
2320:Src/vl6180x_api.c **** 				//m_newTrueRange_mm = MaxOrInvalidDistance;
 1517              		.loc 1 2320 4 view .LVU594
2320:Src/vl6180x_api.c **** 				//m_newTrueRange_mm = MaxOrInvalidDistance;
 1518              		.loc 1 2320 7 is_stmt 0 view .LVU595
 1519 043a 9542     		cmp	r5, r2
 1520 043c 3BD8     		bhi	.L114
2325:Src/vl6180x_api.c **** 					StdDevLimitWithTargetMove = StdDevLimit +
 1521              		.loc 1 2325 5 is_stmt 1 view .LVU596
2325:Src/vl6180x_api.c **** 					StdDevLimitWithTargetMove = StdDevLimit +
 1522              		.loc 1 2325 8 is_stmt 0 view .LVU597
 1523 043e 40F6AB53 		movw	r3, #3499
 1524              	.LVL170:
2325:Src/vl6180x_api.c **** 					StdDevLimitWithTargetMove = StdDevLimit +
 1525              		.loc 1 2325 8 view .LVU598
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 75


 1526 0442 9E42     		cmp	r6, r3
 1527 0444 1BD8     		bhi	.L115
2326:Src/vl6180x_api.c **** 						(((StdDevMovingTargetStdDevForReturnRateLimit -
 1528              		.loc 1 2326 6 is_stmt 1 view .LVU599
2327:Src/vl6180x_api.c **** 							StdDevLimit) * StdDevRate) /
 1529              		.loc 1 2327 53 is_stmt 0 view .LVU600
 1530 0446 C0F56A61 		rsb	r1, r0, #3744
 1531              	.LVL171:
2327:Src/vl6180x_api.c **** 							StdDevLimit) * StdDevRate) /
 1532              		.loc 1 2327 53 view .LVU601
 1533 044a 0631     		adds	r1, r1, #6
2328:Src/vl6180x_api.c **** 							StdDevMovingTargetReturnRateLimit);
 1534              		.loc 1 2328 21 view .LVU602
 1535 044c 06FB01F1 		mul	r1, r6, r1
2328:Src/vl6180x_api.c **** 							StdDevMovingTargetReturnRateLimit);
 1536              		.loc 1 2328 35 view .LVU603
 1537 0450 474B     		ldr	r3, .L135
 1538 0452 A3FB0131 		umull	r3, r1, r3, r1
2326:Src/vl6180x_api.c **** 						(((StdDevMovingTargetStdDevForReturnRateLimit -
 1539              		.loc 1 2326 32 view .LVU604
 1540 0456 00EBD121 		add	r1, r0, r1, lsr #11
 1541              	.LVL172:
 1542              	.L73:
2333:Src/vl6180x_api.c **** 					/* No wrapAround detected yet, so relax constraints on the std dev */
 1543              		.loc 1 2333 5 is_stmt 1 view .LVU605
2333:Src/vl6180x_api.c **** 					/* No wrapAround detected yet, so relax constraints on the std dev */
 1544              		.loc 1 2333 8 is_stmt 0 view .LVU606
 1545 045a E36F     		ldr	r3, [r4, #124]
2333:Src/vl6180x_api.c **** 					/* No wrapAround detected yet, so relax constraints on the std dev */
 1546              		.loc 1 2333 7 view .LVU607
 1547 045c 03B9     		cbnz	r3, .L74
2335:Src/vl6180x_api.c **** 				}
 1548              		.loc 1 2335 6 is_stmt 1 view .LVU608
2335:Src/vl6180x_api.c **** 				}
 1549              		.loc 1 2335 32 is_stmt 0 view .LVU609
 1550 045e 8900     		lsls	r1, r1, #2
 1551              	.LVL173:
 1552              	.L74:
2338:Src/vl6180x_api.c **** 					NoWrapAroundHighConfidenceFlag = 1;
 1553              		.loc 1 2338 5 is_stmt 1 view .LVU610
2338:Src/vl6180x_api.c **** 					NoWrapAroundHighConfidenceFlag = 1;
 1554              		.loc 1 2338 8 is_stmt 0 view .LVU611
 1555 0460 B0EBC80F 		cmp	r0, r8, lsl #3
 1556 0464 01D9     		bls	.L75
2338:Src/vl6180x_api.c **** 					NoWrapAroundHighConfidenceFlag = 1;
 1557              		.loc 1 2338 73 discriminator 1 view .LVU612
 1558 0466 052A     		cmp	r2, #5
 1559 0468 2AD8     		bhi	.L116
 1560              	.L75:
2341:Src/vl6180x_api.c **** 							NoWrapAroundFlag = 1;
 1561              		.loc 1 2341 6 is_stmt 1 view .LVU613
2341:Src/vl6180x_api.c **** 							NoWrapAroundFlag = 1;
 1562              		.loc 1 2341 9 is_stmt 0 view .LVU614
 1563 046a 8845     		cmp	r8, r1
 1564 046c 2BD2     		bcs	.L117
1932:Src/vl6180x_api.c **** 
 1565              		.loc 1 1932 11 view .LVU615
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 76


 1566 046e 5A46     		mov	r2, fp
 1567              	.LVL174:
1930:Src/vl6180x_api.c **** 	uint16_t NoWrapAroundFlag = 0;
 1568              		.loc 1 1930 11 view .LVU616
 1569 0470 5B46     		mov	r3, fp
2342:Src/vl6180x_api.c **** 						} else {
 1570              		.loc 1 2342 25 view .LVU617
 1571 0472 4FF0010B 		mov	fp, #1
 1572              	.LVL175:
2342:Src/vl6180x_api.c **** 						} else {
 1573              		.loc 1 2342 25 view .LVU618
 1574 0476 09E0     		b	.L61
 1575              	.LVL176:
 1576              	.L112:
2315:Src/vl6180x_api.c **** 		}
 1577              		.loc 1 2315 15 view .LVU619
 1578 0478 0026     		movs	r6, #0
 1579              	.LVL177:
2314:Src/vl6180x_api.c **** 			StdDevRate = 0;
 1580              		.loc 1 2314 19 view .LVU620
 1581 047a B046     		mov	r8, r6
 1582              	.LVL178:
2314:Src/vl6180x_api.c **** 			StdDevRate = 0;
 1583              		.loc 1 2314 19 view .LVU621
 1584 047c DDE7     		b	.L72
 1585              	.LVL179:
 1586              	.L115:
2331:Src/vl6180x_api.c **** 
 1587              		.loc 1 2331 32 view .LVU622
 1588 047e 40F6A661 		movw	r1, #3750
 1589              	.LVL180:
2331:Src/vl6180x_api.c **** 
 1590              		.loc 1 2331 32 view .LVU623
 1591 0482 EAE7     		b	.L73
 1592              	.LVL181:
 1593              	.L108:
1932:Src/vl6180x_api.c **** 
 1594              		.loc 1 1932 11 view .LVU624
 1595 0484 5A46     		mov	r2, fp
 1596              	.LVL182:
2258:Src/vl6180x_api.c **** 		filterErrorCode = RangingFiltered;
 1597              		.loc 1 2258 18 view .LVU625
 1598 0486 0123     		movs	r3, #1
 1599              	.LVL183:
2259:Src/vl6180x_api.c **** 	} else {
 1600              		.loc 1 2259 19 view .LVU626
 1601 0488 4FF01009 		mov	r9, #16
 1602              	.LVL184:
 1603              	.L61:
2356:Src/vl6180x_api.c **** 		/* In case of invalid distance */
 1604              		.loc 1 2356 2 is_stmt 1 view .LVU627
2356:Src/vl6180x_api.c **** 		/* In case of invalid distance */
 1605              		.loc 1 2356 5 is_stmt 0 view .LVU628
 1606 048c 0499     		ldr	r1, [sp, #16]
 1607 048e F9B9     		cbnz	r1, .L76
2358:Src/vl6180x_api.c **** 			_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) - 1);
 1608              		.loc 1 2358 3 is_stmt 1 view .LVU629
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 77


2358:Src/vl6180x_api.c **** 			_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) - 1);
 1609              		.loc 1 2358 7 is_stmt 0 view .LVU630
 1610 0490 B4F86030 		ldrh	r3, [r4, #96]
 1611              	.LVL185:
2358:Src/vl6180x_api.c **** 			_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) - 1);
 1612              		.loc 1 2358 6 view .LVU631
 1613 0494 13B1     		cbz	r3, .L77
2359:Src/vl6180x_api.c **** 	} else {
 1614              		.loc 1 2359 4 is_stmt 1 view .LVU632
2359:Src/vl6180x_api.c **** 	} else {
 1615              		.loc 1 2359 36 is_stmt 0 view .LVU633
 1616 0496 013B     		subs	r3, r3, #1
2359:Src/vl6180x_api.c **** 	} else {
 1617              		.loc 1 2359 34 view .LVU634
 1618 0498 A4F86030 		strh	r3, [r4, #96]	@ movhi
 1619              	.LVL186:
 1620              	.L77:
2387:Src/vl6180x_api.c **** 		for (i = 1; i < FILTER_NBOF_SAMPLES; i++) {
 1621              		.loc 1 2387 2 is_stmt 1 view .LVU635
2387:Src/vl6180x_api.c **** 		for (i = 1; i < FILTER_NBOF_SAMPLES; i++) {
 1622              		.loc 1 2387 6 is_stmt 0 view .LVU636
 1623 049c E36F     		ldr	r3, [r4, #124]
2387:Src/vl6180x_api.c **** 		for (i = 1; i < FILTER_NBOF_SAMPLES; i++) {
 1624              		.loc 1 2387 4 view .LVU637
 1625 049e 002B     		cmp	r3, #0
 1626 04a0 50D1     		bne	.L81
2387:Src/vl6180x_api.c **** 		for (i = 1; i < FILTER_NBOF_SAMPLES; i++) {
 1627              		.loc 1 2387 43 discriminator 1 view .LVU638
 1628 04a2 B9F1000F 		cmp	r9, #0
 1629 04a6 4DD0     		beq	.L81
2388:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 1630              		.loc 1 2388 10 view .LVU639
 1631 04a8 0123     		movs	r3, #1
 1632 04aa 49E0     		b	.L82
 1633              	.LVL187:
 1634              	.L109:
1932:Src/vl6180x_api.c **** 
 1635              		.loc 1 1932 11 view .LVU640
 1636 04ac 5A46     		mov	r2, fp
 1637              	.LVL188:
2258:Src/vl6180x_api.c **** 		filterErrorCode = RangingFiltered;
 1638              		.loc 1 2258 18 view .LVU641
 1639 04ae 0123     		movs	r3, #1
 1640              	.LVL189:
2259:Src/vl6180x_api.c **** 	} else {
 1641              		.loc 1 2259 19 view .LVU642
 1642 04b0 4FF01009 		mov	r9, #16
 1643              	.LVL190:
2259:Src/vl6180x_api.c **** 	} else {
 1644              		.loc 1 2259 19 view .LVU643
 1645 04b4 EAE7     		b	.L61
 1646              	.LVL191:
 1647              	.L114:
1932:Src/vl6180x_api.c **** 
 1648              		.loc 1 1932 11 view .LVU644
 1649 04b6 5A46     		mov	r2, fp
 1650              	.LVL192:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 78


1930:Src/vl6180x_api.c **** 	uint16_t NoWrapAroundFlag = 0;
 1651              		.loc 1 1930 11 view .LVU645
 1652 04b8 5B46     		mov	r3, fp
 1653              	.LVL193:
2322:Src/vl6180x_api.c **** 			} else {
 1654              		.loc 1 2322 21 view .LVU646
 1655 04ba 4FF01009 		mov	r9, #16
 1656              	.LVL194:
2322:Src/vl6180x_api.c **** 			} else {
 1657              		.loc 1 2322 21 view .LVU647
 1658 04be E5E7     		b	.L61
 1659              	.LVL195:
 1660              	.L116:
1930:Src/vl6180x_api.c **** 	uint16_t NoWrapAroundFlag = 0;
 1661              		.loc 1 1930 11 view .LVU648
 1662 04c0 5B46     		mov	r3, fp
2339:Src/vl6180x_api.c **** 				} else {
 1663              		.loc 1 2339 37 view .LVU649
 1664 04c2 0122     		movs	r2, #1
 1665              	.LVL196:
2339:Src/vl6180x_api.c **** 				} else {
 1666              		.loc 1 2339 37 view .LVU650
 1667 04c4 E2E7     		b	.L61
 1668              	.LVL197:
 1669              	.L117:
1932:Src/vl6180x_api.c **** 
 1670              		.loc 1 1932 11 view .LVU651
 1671 04c6 5A46     		mov	r2, fp
 1672              	.LVL198:
2344:Src/vl6180x_api.c **** 						filterErrorCode = RangingFiltered;
 1673              		.loc 1 2344 22 view .LVU652
 1674 04c8 0123     		movs	r3, #1
2345:Src/vl6180x_api.c **** 					}
 1675              		.loc 1 2345 23 view .LVU653
 1676 04ca 4FF01009 		mov	r9, #16
 1677              	.LVL199:
2345:Src/vl6180x_api.c **** 					}
 1678              		.loc 1 2345 23 view .LVU654
 1679 04ce DDE7     		b	.L61
 1680              	.LVL200:
 1681              	.L76:
2361:Src/vl6180x_api.c **** 			_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) +
 1682              		.loc 1 2361 3 is_stmt 1 view .LVU655
2361:Src/vl6180x_api.c **** 			_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) +
 1683              		.loc 1 2361 6 is_stmt 0 view .LVU656
 1684 04d0 012B     		cmp	r3, #1
 1685 04d2 08D0     		beq	.L130
2367:Src/vl6180x_api.c **** 				if (_FilterData(StdFilteredReads) > 0) {
 1686              		.loc 1 2367 4 is_stmt 1 view .LVU657
2367:Src/vl6180x_api.c **** 				if (_FilterData(StdFilteredReads) > 0) {
 1687              		.loc 1 2367 7 is_stmt 0 view .LVU658
 1688 04d4 BBF1000F 		cmp	fp, #0
 1689 04d8 11D1     		bne	.L131
2377:Src/vl6180x_api.c **** 					_FilterData(StdFilteredReads) = 0;
 1690              		.loc 1 2377 5 is_stmt 1 view .LVU659
2377:Src/vl6180x_api.c **** 					_FilterData(StdFilteredReads) = 0;
 1691              		.loc 1 2377 8 is_stmt 0 view .LVU660
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 79


 1692 04da 012A     		cmp	r2, #1
 1693 04dc DED1     		bne	.L77
2378:Src/vl6180x_api.c **** 				}
 1694              		.loc 1 2378 6 is_stmt 1 view .LVU661
2378:Src/vl6180x_api.c **** 				}
 1695              		.loc 1 2378 36 is_stmt 0 view .LVU662
 1696 04de 0023     		movs	r3, #0
 1697              	.LVL201:
2378:Src/vl6180x_api.c **** 				}
 1698              		.loc 1 2378 36 view .LVU663
 1699 04e0 A4F86030 		strh	r3, [r4, #96]	@ movhi
 1700 04e4 DAE7     		b	.L77
 1701              	.LVL202:
 1702              	.L130:
2362:Src/vl6180x_api.c **** 											StdFilteredReadsIncrement);
 1703              		.loc 1 2362 4 is_stmt 1 view .LVU664
2362:Src/vl6180x_api.c **** 											StdFilteredReadsIncrement);
 1704              		.loc 1 2362 48 is_stmt 0 view .LVU665
 1705 04e6 B4F86030 		ldrh	r3, [r4, #96]
 1706              	.LVL203:
2362:Src/vl6180x_api.c **** 											StdFilteredReadsIncrement);
 1707              		.loc 1 2362 36 view .LVU666
 1708 04ea 0233     		adds	r3, r3, #2
 1709 04ec 9BB2     		uxth	r3, r3
2362:Src/vl6180x_api.c **** 											StdFilteredReadsIncrement);
 1710              		.loc 1 2362 34 view .LVU667
 1711 04ee A4F86030 		strh	r3, [r4, #96]	@ movhi
2364:Src/vl6180x_api.c **** 				_FilterData(StdFilteredReads) = StdMaxFilteredReads;
 1712              		.loc 1 2364 4 is_stmt 1 view .LVU668
2364:Src/vl6180x_api.c **** 				_FilterData(StdFilteredReads) = StdMaxFilteredReads;
 1713              		.loc 1 2364 7 is_stmt 0 view .LVU669
 1714 04f2 042B     		cmp	r3, #4
 1715 04f4 D2D9     		bls	.L77
2365:Src/vl6180x_api.c **** 		} else {
 1716              		.loc 1 2365 5 is_stmt 1 view .LVU670
2365:Src/vl6180x_api.c **** 		} else {
 1717              		.loc 1 2365 35 is_stmt 0 view .LVU671
 1718 04f6 0423     		movs	r3, #4
 1719 04f8 A4F86030 		strh	r3, [r4, #96]	@ movhi
 1720 04fc CEE7     		b	.L77
 1721              	.LVL204:
 1722              	.L131:
2368:Src/vl6180x_api.c **** 					filterErrorCode = RangingFiltered;
 1723              		.loc 1 2368 5 is_stmt 1 view .LVU672
2368:Src/vl6180x_api.c **** 					filterErrorCode = RangingFiltered;
 1724              		.loc 1 2368 9 is_stmt 0 view .LVU673
 1725 04fe B4F86030 		ldrh	r3, [r4, #96]
 1726              	.LVL205:
2368:Src/vl6180x_api.c **** 					filterErrorCode = RangingFiltered;
 1727              		.loc 1 2368 8 view .LVU674
 1728 0502 002B     		cmp	r3, #0
 1729 0504 CAD0     		beq	.L77
2369:Src/vl6180x_api.c **** 					if (_FilterData(StdFilteredReads) > StdFilteredReadsDecrement)
 1730              		.loc 1 2369 6 is_stmt 1 view .LVU675
 1731              	.LVL206:
2370:Src/vl6180x_api.c **** 						_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) -
 1732              		.loc 1 2370 6 view .LVU676
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 80


2370:Src/vl6180x_api.c **** 						_FilterData(StdFilteredReads) = (uint16_t) (_FilterData(StdFilteredReads) -
 1733              		.loc 1 2370 9 is_stmt 0 view .LVU677
 1734 0506 012B     		cmp	r3, #1
 1735 0508 05D9     		bls	.L80
2371:Src/vl6180x_api.c **** 														StdFilteredReadsDecrement);
 1736              		.loc 1 2371 7 is_stmt 1 view .LVU678
2371:Src/vl6180x_api.c **** 														StdFilteredReadsDecrement);
 1737              		.loc 1 2371 39 is_stmt 0 view .LVU679
 1738 050a 013B     		subs	r3, r3, #1
2371:Src/vl6180x_api.c **** 														StdFilteredReadsDecrement);
 1739              		.loc 1 2371 37 view .LVU680
 1740 050c A4F86030 		strh	r3, [r4, #96]	@ movhi
2369:Src/vl6180x_api.c **** 					if (_FilterData(StdFilteredReads) > StdFilteredReadsDecrement)
 1741              		.loc 1 2369 22 view .LVU681
 1742 0510 4FF01009 		mov	r9, #16
 1743 0514 C2E7     		b	.L77
 1744              	.L80:
2374:Src/vl6180x_api.c **** 				}
 1745              		.loc 1 2374 7 is_stmt 1 view .LVU682
2374:Src/vl6180x_api.c **** 				}
 1746              		.loc 1 2374 37 is_stmt 0 view .LVU683
 1747 0516 0023     		movs	r3, #0
 1748 0518 A4F86030 		strh	r3, [r4, #96]	@ movhi
2369:Src/vl6180x_api.c **** 					if (_FilterData(StdFilteredReads) > StdFilteredReadsDecrement)
 1749              		.loc 1 2369 22 view .LVU684
 1750 051c 4FF01009 		mov	r9, #16
 1751 0520 BCE7     		b	.L77
 1752              	.LVL207:
 1753              	.L83:
2389:Src/vl6180x_api.c **** 			_FilterData(LastReturnRates)[i] = 0;
 1754              		.loc 1 2389 4 is_stmt 1 discriminator 3 view .LVU685
2389:Src/vl6180x_api.c **** 			_FilterData(LastReturnRates)[i] = 0;
 1755              		.loc 1 2389 34 is_stmt 0 discriminator 3 view .LVU686
 1756 0522 03F11002 		add	r2, r3, #16
 1757 0526 04EB4202 		add	r2, r4, r2, lsl #1
 1758 052a 4FF6FF71 		movw	r1, #65535
 1759 052e 9180     		strh	r1, [r2, #4]	@ movhi
2390:Src/vl6180x_api.c **** 		}
 1760              		.loc 1 2390 4 is_stmt 1 discriminator 3 view .LVU687
2390:Src/vl6180x_api.c **** 		}
 1761              		.loc 1 2390 36 is_stmt 0 discriminator 3 view .LVU688
 1762 0530 03F10C02 		add	r2, r3, #12
 1763 0534 04EB8202 		add	r2, r4, r2, lsl #2
 1764 0538 0021     		movs	r1, #0
 1765 053a 9160     		str	r1, [r2, #8]
2388:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 1766              		.loc 1 2388 40 is_stmt 1 discriminator 3 view .LVU689
2388:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 1767              		.loc 1 2388 41 is_stmt 0 discriminator 3 view .LVU690
 1768 053c 0133     		adds	r3, r3, #1
 1769              	.LVL208:
2388:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 1770              		.loc 1 2388 41 discriminator 3 view .LVU691
 1771 053e 9BB2     		uxth	r3, r3
 1772              	.LVL209:
 1773              	.L82:
2388:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 81


 1774              		.loc 1 2388 15 is_stmt 1 discriminator 1 view .LVU692
2388:Src/vl6180x_api.c **** 			_FilterData(LastTrueRange)[i] = FILTER_INVALID_DISTANCE;
 1775              		.loc 1 2388 3 is_stmt 0 discriminator 1 view .LVU693
 1776 0540 092B     		cmp	r3, #9
 1777 0542 EED9     		bls	.L83
 1778              	.LVL210:
 1779              	.L81:
2395:Src/vl6180x_api.c **** 
 1780              		.loc 1 2395 2 is_stmt 1 view .LVU694
2395:Src/vl6180x_api.c **** 
 1781              		.loc 1 2395 27 is_stmt 0 view .LVU695
 1782 0544 C4F87C90 		str	r9, [r4, #124]
2398:Src/vl6180x_api.c **** 		m_newTrueRange_mm = MaxOrInvalidDistance; /* Set to invalid distance */
 1783              		.loc 1 2398 2 is_stmt 1 view .LVU696
2398:Src/vl6180x_api.c **** 		m_newTrueRange_mm = MaxOrInvalidDistance; /* Set to invalid distance */
 1784              		.loc 1 2398 4 is_stmt 0 view .LVU697
 1785 0548 B9F1100F 		cmp	r9, #16
 1786 054c 03D0     		beq	.L132
 1787              	.LVL211:
 1788              	.L84:
2401:Src/vl6180x_api.c **** done_err:
 1789              		.loc 1 2401 2 is_stmt 1 view .LVU698
2401:Src/vl6180x_api.c **** done_err:
 1790              		.loc 1 2401 9 is_stmt 0 view .LVU699
 1791 054e 0398     		ldr	r0, [sp, #12]
 1792              	.LVL212:
 1793              	.L21:
2404:Src/vl6180x_api.c **** 
2405:Src/vl6180x_api.c **** #undef MaxOrInvalidDistance
2406:Src/vl6180x_api.c **** }
 1794              		.loc 1 2406 1 view .LVU700
 1795 0550 0DB0     		add	sp, sp, #52
 1796              	.LCFI12:
 1797              		.cfi_remember_state
 1798              		.cfi_def_cfa_offset 36
 1799              		@ sp needed
 1800 0552 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1801              	.LVL213:
 1802              	.L132:
 1803              	.LCFI13:
 1804              		.cfi_restore_state
2399:Src/vl6180x_api.c **** 
 1805              		.loc 1 2399 3 is_stmt 1 view .LVU701
2399:Src/vl6180x_api.c **** 
 1806              		.loc 1 2399 21 is_stmt 0 view .LVU702
 1807 0556 BDF81830 		ldrh	r3, [sp, #24]
 1808 055a 0393     		str	r3, [sp, #12]
 1809              	.LVL214:
2399:Src/vl6180x_api.c **** 
 1810              		.loc 1 2399 21 view .LVU703
 1811 055c F7E7     		b	.L84
 1812              	.LVL215:
 1813              	.L101:
2403:Src/vl6180x_api.c **** 
 1814              		.loc 1 2403 9 view .LVU704
 1815 055e 4FF0FF30 		mov	r0, #-1
 1816              	.LVL216:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 82


2403:Src/vl6180x_api.c **** 
 1817              		.loc 1 2403 9 view .LVU705
 1818 0562 F5E7     		b	.L21
 1819              	.LVL217:
 1820              	.L102:
2403:Src/vl6180x_api.c **** 
 1821              		.loc 1 2403 9 view .LVU706
 1822 0564 4FF0FF30 		mov	r0, #-1
 1823              	.LVL218:
2403:Src/vl6180x_api.c **** 
 1824              		.loc 1 2403 9 view .LVU707
 1825 0568 F2E7     		b	.L21
 1826              	.LVL219:
 1827              	.L104:
2403:Src/vl6180x_api.c **** 
 1828              		.loc 1 2403 9 view .LVU708
 1829 056a 4FF0FF30 		mov	r0, #-1
 1830              	.LVL220:
2403:Src/vl6180x_api.c **** 
 1831              		.loc 1 2403 9 view .LVU709
 1832 056e EFE7     		b	.L21
 1833              	.L136:
 1834              		.align	2
 1835              	.L135:
 1836 0570 1BECCB95 		.word	-1781797861
 1837              		.cfi_endproc
 1838              	.LFE67:
 1840              		.section	.text._UpscaleInitPatch0,"ax",%progbits
 1841              		.align	1
 1842              		.syntax unified
 1843              		.thumb
 1844              		.thumb_func
 1845              		.fpu fpv4-sp-d16
 1847              	_UpscaleInitPatch0:
 1848              	.LVL221:
 1849              	.LFB40:
1193:Src/vl6180x_api.c **** 	int status;
 1850              		.loc 1 1193 1 is_stmt 1 view -0
 1851              		.cfi_startproc
 1852              		@ args = 0, pretend = 0, frame = 0
 1853              		@ frame_needed = 0, uses_anonymous_args = 0
1193:Src/vl6180x_api.c **** 	int status;
 1854              		.loc 1 1193 1 is_stmt 0 view .LVU711
 1855 0000 08B5     		push	{r3, lr}
 1856              	.LCFI14:
 1857              		.cfi_def_cfa_offset 8
 1858              		.cfi_offset 3, -8
 1859              		.cfi_offset 14, -4
1194:Src/vl6180x_api.c **** 	uint32_t CalValue = 0;
 1860              		.loc 1 1194 2 is_stmt 1 view .LVU712
1195:Src/vl6180x_api.c **** 	CalValue = VL6180xDevDataGet(dev, Part2PartAmbNVM);
 1861              		.loc 1 1195 2 view .LVU713
 1862              	.LVL222:
1196:Src/vl6180x_api.c **** 	status = VL6180x_WrDWord(dev, 0xDA, CalValue);
 1863              		.loc 1 1196 2 view .LVU714
1197:Src/vl6180x_api.c **** 	return status;
 1864              		.loc 1 1197 2 view .LVU715
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 83


1197:Src/vl6180x_api.c **** 	return status;
 1865              		.loc 1 1197 11 is_stmt 0 view .LVU716
 1866 0002 0268     		ldr	r2, [r0]
 1867 0004 DA21     		movs	r1, #218
 1868 0006 FFF7FEFF 		bl	VL6180x_WrDWord
 1869              	.LVL223:
1198:Src/vl6180x_api.c **** }
 1870              		.loc 1 1198 2 is_stmt 1 view .LVU717
1199:Src/vl6180x_api.c **** 
 1871              		.loc 1 1199 1 is_stmt 0 view .LVU718
 1872 000a 08BD     		pop	{r3, pc}
 1873              		.cfi_endproc
 1874              	.LFE40:
 1876              		.section	.text.VL6180x_RangeGetStatusErrString,"ax",%progbits
 1877              		.align	1
 1878              		.global	VL6180x_RangeGetStatusErrString
 1879              		.syntax unified
 1880              		.thumb
 1881              		.thumb_func
 1882              		.fpu fpv4-sp-d16
 1884              	VL6180x_RangeGetStatusErrString:
 1885              	.LVL224:
 1886              	.LFB0:
 124:Src/vl6180x_api.c **** 	if (RangeErrCode > sizeof(VL6180x_RangeStatusErrString) / sizeof(VL6180x_RangeStatusErrString[0]))
 1887              		.loc 1 124 1 is_stmt 1 view -0
 1888              		.cfi_startproc
 1889              		@ args = 0, pretend = 0, frame = 0
 1890              		@ frame_needed = 0, uses_anonymous_args = 0
 1891              		@ link register save eliminated.
 125:Src/vl6180x_api.c **** 		return NULL;
 1892              		.loc 1 125 2 view .LVU720
 125:Src/vl6180x_api.c **** 		return NULL;
 1893              		.loc 1 125 5 is_stmt 0 view .LVU721
 1894 0000 1328     		cmp	r0, #19
 1895 0002 03D8     		bhi	.L141
 127:Src/vl6180x_api.c **** }
 1896              		.loc 1 127 2 is_stmt 1 view .LVU722
 127:Src/vl6180x_api.c **** }
 1897              		.loc 1 127 38 is_stmt 0 view .LVU723
 1898 0004 024B     		ldr	r3, .L142
 1899 0006 53F82000 		ldr	r0, [r3, r0, lsl #2]
 1900              	.LVL225:
 127:Src/vl6180x_api.c **** }
 1901              		.loc 1 127 38 view .LVU724
 1902 000a 7047     		bx	lr
 1903              	.LVL226:
 1904              	.L141:
 126:Src/vl6180x_api.c **** 	return  VL6180x_RangeStatusErrString[RangeErrCode];
 1905              		.loc 1 126 10 view .LVU725
 1906 000c 0020     		movs	r0, #0
 1907              	.LVL227:
 128:Src/vl6180x_api.c **** #endif
 1908              		.loc 1 128 1 view .LVU726
 1909 000e 7047     		bx	lr
 1910              	.L143:
 1911              		.align	2
 1912              	.L142:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 84


 1913 0010 00000000 		.word	.LANCHOR0
 1914              		.cfi_endproc
 1915              	.LFE0:
 1917              		.section	.text.VL6180x_WaitDeviceBooted,"ax",%progbits
 1918              		.align	1
 1919              		.global	VL6180x_WaitDeviceBooted
 1920              		.syntax unified
 1921              		.thumb
 1922              		.thumb_func
 1923              		.fpu fpv4-sp-d16
 1925              	VL6180x_WaitDeviceBooted:
 1926              	.LVL228:
 1927              	.LFB1:
 204:Src/vl6180x_api.c **** 	uint8_t FreshOutReset;
 1928              		.loc 1 204 1 is_stmt 1 view -0
 1929              		.cfi_startproc
 1930              		@ args = 0, pretend = 0, frame = 8
 1931              		@ frame_needed = 0, uses_anonymous_args = 0
 204:Src/vl6180x_api.c **** 	uint8_t FreshOutReset;
 1932              		.loc 1 204 1 is_stmt 0 view .LVU728
 1933 0000 10B5     		push	{r4, lr}
 1934              	.LCFI15:
 1935              		.cfi_def_cfa_offset 8
 1936              		.cfi_offset 4, -8
 1937              		.cfi_offset 14, -4
 1938 0002 82B0     		sub	sp, sp, #8
 1939              	.LCFI16:
 1940              		.cfi_def_cfa_offset 16
 1941 0004 0446     		mov	r4, r0
 1942              	.LVL229:
 1943              	.L146:
 205:Src/vl6180x_api.c **** 	int status;
 1944              		.loc 1 205 2 is_stmt 1 discriminator 2 view .LVU729
 206:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 1945              		.loc 1 206 2 discriminator 2 view .LVU730
 207:Src/vl6180x_api.c **** 	do {
 1946              		.loc 1 207 2 discriminator 2 view .LVU731
 208:Src/vl6180x_api.c **** 		status = VL6180x_RdByte(dev, SYSTEM_FRESH_OUT_OF_RESET, &FreshOutReset);
 1947              		.loc 1 208 2 discriminator 2 view .LVU732
 209:Src/vl6180x_api.c **** 	} while (FreshOutReset != 1 && status == 0);
 1948              		.loc 1 209 3 discriminator 2 view .LVU733
 209:Src/vl6180x_api.c **** 	} while (FreshOutReset != 1 && status == 0);
 1949              		.loc 1 209 12 is_stmt 0 discriminator 2 view .LVU734
 1950 0006 0DF10702 		add	r2, sp, #7
 1951 000a 1621     		movs	r1, #22
 1952 000c 2046     		mov	r0, r4
 1953 000e FFF7FEFF 		bl	VL6180x_RdByte
 1954              	.LVL230:
 210:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 1955              		.loc 1 210 10 is_stmt 1 discriminator 2 view .LVU735
 210:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 1956              		.loc 1 210 25 is_stmt 0 discriminator 2 view .LVU736
 1957 0012 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 210:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 1958              		.loc 1 210 2 discriminator 2 view .LVU737
 1959 0016 012B     		cmp	r3, #1
 1960 0018 01D0     		beq	.L144
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 85


 210:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 1961              		.loc 1 210 30 discriminator 1 view .LVU738
 1962 001a 0028     		cmp	r0, #0
 1963 001c F3D0     		beq	.L146
 1964              	.L144:
 213:Src/vl6180x_api.c **** 
 1965              		.loc 1 213 1 view .LVU739
 1966 001e 02B0     		add	sp, sp, #8
 1967              	.LCFI17:
 1968              		.cfi_def_cfa_offset 8
 1969              		@ sp needed
 1970 0020 10BD     		pop	{r4, pc}
 213:Src/vl6180x_api.c **** 
 1971              		.loc 1 213 1 view .LVU740
 1972              		.cfi_endproc
 1973              	.LFE1:
 1975              		.section	.text.VL6180x_GetOffsetCalibrationData,"ax",%progbits
 1976              		.align	1
 1977              		.global	VL6180x_GetOffsetCalibrationData
 1978              		.syntax unified
 1979              		.thumb
 1980              		.thumb_func
 1981              		.fpu fpv4-sp-d16
 1983              	VL6180x_GetOffsetCalibrationData:
 1984              	.LVL231:
 1985              	.LFB3:
 297:Src/vl6180x_api.c **** 	int8_t offset;
 1986              		.loc 1 297 1 is_stmt 1 view -0
 1987              		.cfi_startproc
 1988              		@ args = 0, pretend = 0, frame = 0
 1989              		@ frame_needed = 0, uses_anonymous_args = 0
 1990              		@ link register save eliminated.
 298:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 1991              		.loc 1 298 2 view .LVU742
 299:Src/vl6180x_api.c **** 	offset = VL6180xDevDataGet(dev, Part2PartOffsetNVM);
 1992              		.loc 1 299 2 view .LVU743
 300:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(offset);
 1993              		.loc 1 300 2 view .LVU744
 301:Src/vl6180x_api.c **** 	return offset;
 1994              		.loc 1 301 2 view .LVU745
 302:Src/vl6180x_api.c **** }
 1995              		.loc 1 302 2 view .LVU746
 303:Src/vl6180x_api.c **** 
 1996              		.loc 1 303 1 is_stmt 0 view .LVU747
 1997 0000 90F9CD00 		ldrsb	r0, [r0, #205]
 1998              	.LVL232:
 303:Src/vl6180x_api.c **** 
 1999              		.loc 1 303 1 view .LVU748
 2000 0004 7047     		bx	lr
 2001              		.cfi_endproc
 2002              	.LFE3:
 2004              		.section	.text.VL6180x_SetOffsetCalibrationData,"ax",%progbits
 2005              		.align	1
 2006              		.global	VL6180x_SetOffsetCalibrationData
 2007              		.syntax unified
 2008              		.thumb
 2009              		.thumb_func
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 86


 2010              		.fpu fpv4-sp-d16
 2012              	VL6180x_SetOffsetCalibrationData:
 2013              	.LVL233:
 2014              	.LFB4:
 306:Src/vl6180x_api.c **** 	int status;
 2015              		.loc 1 306 1 is_stmt 1 view -0
 2016              		.cfi_startproc
 2017              		@ args = 0, pretend = 0, frame = 0
 2018              		@ frame_needed = 0, uses_anonymous_args = 0
 306:Src/vl6180x_api.c **** 	int status;
 2019              		.loc 1 306 1 is_stmt 0 view .LVU750
 2020 0000 08B5     		push	{r3, lr}
 2021              	.LCFI18:
 2022              		.cfi_def_cfa_offset 8
 2023              		.cfi_offset 3, -8
 2024              		.cfi_offset 14, -4
 307:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", offset);
 2025              		.loc 1 307 2 is_stmt 1 view .LVU751
 308:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, Part2PartOffsetNVM, offset);
 2026              		.loc 1 308 2 view .LVU752
 309:Src/vl6180x_api.c **** 	offset /= _GetUpscale(dev);
 2027              		.loc 1 309 2 view .LVU753
 2028 0002 80F8CD10 		strb	r1, [r0, #205]
 310:Src/vl6180x_api.c **** 	status = VL6180x_WrByte(dev, SYSRANGE_PART_TO_PART_RANGE_OFFSET, offset);
 2029              		.loc 1 310 2 view .LVU754
 310:Src/vl6180x_api.c **** 	status = VL6180x_WrByte(dev, SYSRANGE_PART_TO_PART_RANGE_OFFSET, offset);
 2030              		.loc 1 310 12 is_stmt 0 view .LVU755
 2031 0006 027E     		ldrb	r2, [r0, #24]	@ zero_extendqisi2
 310:Src/vl6180x_api.c **** 	status = VL6180x_WrByte(dev, SYSRANGE_PART_TO_PART_RANGE_OFFSET, offset);
 2032              		.loc 1 310 9 view .LVU756
 2033 0008 91FBF2F2 		sdiv	r2, r1, r2
 2034              	.LVL234:
 311:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 2035              		.loc 1 311 2 is_stmt 1 view .LVU757
 311:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 2036              		.loc 1 311 11 is_stmt 0 view .LVU758
 2037 000c D2B2     		uxtb	r2, r2
 311:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 2038              		.loc 1 311 11 view .LVU759
 2039 000e 2421     		movs	r1, #36
 2040 0010 FFF7FEFF 		bl	VL6180x_WrByte
 2041              	.LVL235:
 312:Src/vl6180x_api.c **** 	return status;
 2042              		.loc 1 312 2 is_stmt 1 view .LVU760
 313:Src/vl6180x_api.c **** }
 2043              		.loc 1 313 2 view .LVU761
 314:Src/vl6180x_api.c **** 
 2044              		.loc 1 314 1 is_stmt 0 view .LVU762
 2045 0014 08BD     		pop	{r3, pc}
 2046              		.cfi_endproc
 2047              	.LFE4:
 2049              		.section	.text.VL6180x_SetI2CAddress,"ax",%progbits
 2050              		.align	1
 2051              		.global	VL6180x_SetI2CAddress
 2052              		.syntax unified
 2053              		.thumb
 2054              		.thumb_func
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 87


 2055              		.fpu fpv4-sp-d16
 2057              	VL6180x_SetI2CAddress:
 2058              	.LVL236:
 2059              	.LFB6:
 333:Src/vl6180x_api.c **** 	int status;
 2060              		.loc 1 333 1 is_stmt 1 view -0
 2061              		.cfi_startproc
 2062              		@ args = 0, pretend = 0, frame = 0
 2063              		@ frame_needed = 0, uses_anonymous_args = 0
 333:Src/vl6180x_api.c **** 	int status;
 2064              		.loc 1 333 1 is_stmt 0 view .LVU764
 2065 0000 08B5     		push	{r3, lr}
 2066              	.LCFI19:
 2067              		.cfi_def_cfa_offset 8
 2068              		.cfi_offset 3, -8
 2069              		.cfi_offset 14, -4
 334:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 2070              		.loc 1 334 2 is_stmt 1 view .LVU765
 335:Src/vl6180x_api.c **** 
 2071              		.loc 1 335 2 view .LVU766
 337:Src/vl6180x_api.c **** 	if (status) {
 2072              		.loc 1 337 2 view .LVU767
 337:Src/vl6180x_api.c **** 	if (status) {
 2073              		.loc 1 337 11 is_stmt 0 view .LVU768
 2074 0002 4A08     		lsrs	r2, r1, #1
 2075 0004 40F21221 		movw	r1, #530
 2076              	.LVL237:
 337:Src/vl6180x_api.c **** 	if (status) {
 2077              		.loc 1 337 11 view .LVU769
 2078 0008 FFF7FEFF 		bl	VL6180x_WrByte
 2079              	.LVL238:
 338:Src/vl6180x_api.c **** 		VL6180x_ErrLog("new i2c addr Wr fail");
 2080              		.loc 1 338 2 is_stmt 1 view .LVU770
 339:Src/vl6180x_api.c **** 	}
 2081              		.loc 1 339 3 view .LVU771
 341:Src/vl6180x_api.c **** 	return status;
 2082              		.loc 1 341 2 view .LVU772
 342:Src/vl6180x_api.c **** }
 2083              		.loc 1 342 2 view .LVU773
 343:Src/vl6180x_api.c **** 
 2084              		.loc 1 343 1 is_stmt 0 view .LVU774
 2085 000c 08BD     		pop	{r3, pc}
 2086              		.cfi_endproc
 2087              	.LFE6:
 2089              		.section	.text.VL6180x_GetUpperLimit,"ax",%progbits
 2090              		.align	1
 2091              		.global	VL6180x_GetUpperLimit
 2092              		.syntax unified
 2093              		.thumb
 2094              		.thumb_func
 2095              		.fpu fpv4-sp-d16
 2097              	VL6180x_GetUpperLimit:
 2098              	.LVL239:
 2099              	.LFB7:
 346:Src/vl6180x_api.c **** 	uint16_t limit;
 2100              		.loc 1 346 1 is_stmt 1 view -0
 2101              		.cfi_startproc
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 88


 2102              		@ args = 0, pretend = 0, frame = 0
 2103              		@ frame_needed = 0, uses_anonymous_args = 0
 2104              		@ link register save eliminated.
 347:Src/vl6180x_api.c **** 	int scaling;
 2105              		.loc 1 347 2 view .LVU776
 348:Src/vl6180x_api.c **** 
 2106              		.loc 1 348 2 view .LVU777
 350:Src/vl6180x_api.c **** 
 2107              		.loc 1 350 2 view .LVU778
 352:Src/vl6180x_api.c **** 	/* FIXME we do assume here _GetUpscale is valid if  user call us prior to init we may overflow the
 2108              		.loc 1 352 2 view .LVU779
 352:Src/vl6180x_api.c **** 	/* FIXME we do assume here _GetUpscale is valid if  user call us prior to init we may overflow the
 2109              		.loc 1 352 12 is_stmt 0 view .LVU780
 2110 0000 037E     		ldrb	r3, [r0, #24]	@ zero_extendqisi2
 2111              	.LVL240:
 354:Src/vl6180x_api.c **** 
 2112              		.loc 1 354 2 is_stmt 1 view .LVU781
 354:Src/vl6180x_api.c **** 
 2113              		.loc 1 354 35 is_stmt 0 view .LVU782
 2114 0002 013B     		subs	r3, r3, #1
 2115              	.LVL241:
 356:Src/vl6180x_api.c **** 	return limit;
 2116              		.loc 1 356 2 is_stmt 1 view .LVU783
 357:Src/vl6180x_api.c **** }
 2117              		.loc 1 357 2 view .LVU784
 358:Src/vl6180x_api.c **** 
 2118              		.loc 1 358 1 is_stmt 0 view .LVU785
 2119 0004 014A     		ldr	r2, .L154
 2120 0006 32F81300 		ldrh	r0, [r2, r3, lsl #1]
 2121              	.LVL242:
 358:Src/vl6180x_api.c **** 
 2122              		.loc 1 358 1 view .LVU786
 2123 000a 7047     		bx	lr
 2124              	.L155:
 2125              		.align	2
 2126              	.L154:
 2127 000c 00000000 		.word	.LANCHOR1
 2128              		.cfi_endproc
 2129              	.LFE7:
 2131              		.section	.text.VL6180x_SetGroupParamHold,"ax",%progbits
 2132              		.align	1
 2133              		.global	VL6180x_SetGroupParamHold
 2134              		.syntax unified
 2135              		.thumb
 2136              		.thumb_func
 2137              		.fpu fpv4-sp-d16
 2139              	VL6180x_SetGroupParamHold:
 2140              	.LVL243:
 2141              	.LFB9:
 411:Src/vl6180x_api.c **** 	int status;
 2142              		.loc 1 411 1 is_stmt 1 view -0
 2143              		.cfi_startproc
 2144              		@ args = 0, pretend = 0, frame = 0
 2145              		@ frame_needed = 0, uses_anonymous_args = 0
 411:Src/vl6180x_api.c **** 	int status;
 2146              		.loc 1 411 1 is_stmt 0 view .LVU788
 2147 0000 08B5     		push	{r3, lr}
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 89


 2148              	.LCFI20:
 2149              		.cfi_def_cfa_offset 8
 2150              		.cfi_offset 3, -8
 2151              		.cfi_offset 14, -4
 412:Src/vl6180x_api.c **** 	uint8_t value;
 2152              		.loc 1 412 2 is_stmt 1 view .LVU789
 413:Src/vl6180x_api.c **** 
 2153              		.loc 1 413 2 view .LVU790
 415:Src/vl6180x_api.c **** 	if (Hold)
 2154              		.loc 1 415 2 view .LVU791
 416:Src/vl6180x_api.c **** 		value = 1;
 2155              		.loc 1 416 2 view .LVU792
 416:Src/vl6180x_api.c **** 		value = 1;
 2156              		.loc 1 416 5 is_stmt 0 view .LVU793
 2157 0002 21B1     		cbz	r1, .L158
 417:Src/vl6180x_api.c **** 	else
 2158              		.loc 1 417 9 view .LVU794
 2159 0004 0122     		movs	r2, #1
 2160              	.L157:
 2161              	.LVL244:
 420:Src/vl6180x_api.c **** 
 2162              		.loc 1 420 2 is_stmt 1 view .LVU795
 420:Src/vl6180x_api.c **** 
 2163              		.loc 1 420 11 is_stmt 0 view .LVU796
 2164 0006 1721     		movs	r1, #23
 2165              	.LVL245:
 420:Src/vl6180x_api.c **** 
 2166              		.loc 1 420 11 view .LVU797
 2167 0008 FFF7FEFF 		bl	VL6180x_WrByte
 2168              	.LVL246:
 422:Src/vl6180x_api.c **** 	return status;
 2169              		.loc 1 422 2 is_stmt 1 view .LVU798
 423:Src/vl6180x_api.c **** 
 2170              		.loc 1 423 2 view .LVU799
 425:Src/vl6180x_api.c **** 
 2171              		.loc 1 425 1 is_stmt 0 view .LVU800
 2172 000c 08BD     		pop	{r3, pc}
 2173              	.LVL247:
 2174              	.L158:
 419:Src/vl6180x_api.c **** 	status = VL6180x_WrByte(dev, SYSTEM_GROUPED_PARAMETER_HOLD, value);
 2175              		.loc 1 419 9 view .LVU801
 2176 000e 0022     		movs	r2, #0
 2177 0010 F9E7     		b	.L157
 2178              		.cfi_endproc
 2179              	.LFE9:
 2181              		.section	.text.VL6180x_AlsGetLux,"ax",%progbits
 2182              		.align	1
 2183              		.global	VL6180x_AlsGetLux
 2184              		.syntax unified
 2185              		.thumb
 2186              		.thumb_func
 2187              		.fpu fpv4-sp-d16
 2189              	VL6180x_AlsGetLux:
 2190              	.LVL248:
 2191              	.LFB11:
 481:Src/vl6180x_api.c **** 	int status;
 2192              		.loc 1 481 1 is_stmt 1 view -0
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 90


 2193              		.cfi_startproc
 2194              		@ args = 0, pretend = 0, frame = 8
 2195              		@ frame_needed = 0, uses_anonymous_args = 0
 481:Src/vl6180x_api.c **** 	int status;
 2196              		.loc 1 481 1 is_stmt 0 view .LVU803
 2197 0000 70B5     		push	{r4, r5, r6, lr}
 2198              	.LCFI21:
 2199              		.cfi_def_cfa_offset 16
 2200              		.cfi_offset 4, -16
 2201              		.cfi_offset 5, -12
 2202              		.cfi_offset 6, -8
 2203              		.cfi_offset 14, -4
 2204 0002 82B0     		sub	sp, sp, #8
 2205              	.LCFI22:
 2206              		.cfi_def_cfa_offset 24
 2207 0004 0446     		mov	r4, r0
 2208 0006 0D46     		mov	r5, r1
 482:Src/vl6180x_api.c **** 	uint16_t RawAls;
 2209              		.loc 1 482 2 is_stmt 1 view .LVU804
 483:Src/vl6180x_api.c **** 	uint32_t luxValue = 0;
 2210              		.loc 1 483 2 view .LVU805
 484:Src/vl6180x_api.c **** 	uint32_t IntPeriod;
 2211              		.loc 1 484 2 view .LVU806
 2212              	.LVL249:
 485:Src/vl6180x_api.c **** 	uint32_t AlsAnGain;
 2213              		.loc 1 485 2 view .LVU807
 486:Src/vl6180x_api.c **** 	uint32_t GainFix;
 2214              		.loc 1 486 2 view .LVU808
 487:Src/vl6180x_api.c **** 	uint32_t AlsScaler;
 2215              		.loc 1 487 2 view .LVU809
 488:Src/vl6180x_api.c **** 
 2216              		.loc 1 488 2 view .LVU810
 493:Src/vl6180x_api.c **** 
 2217              		.loc 1 493 2 view .LVU811
 495:Src/vl6180x_api.c **** 
 2218              		.loc 1 495 2 view .LVU812
 497:Src/vl6180x_api.c **** 	if (!status) {
 2219              		.loc 1 497 2 view .LVU813
 497:Src/vl6180x_api.c **** 	if (!status) {
 2220              		.loc 1 497 11 is_stmt 0 view .LVU814
 2221 0008 0DF10602 		add	r2, sp, #6
 2222 000c 5021     		movs	r1, #80
 2223              	.LVL250:
 497:Src/vl6180x_api.c **** 	if (!status) {
 2224              		.loc 1 497 11 view .LVU815
 2225 000e FFF7FEFF 		bl	VL6180x_RdWord
 2226              	.LVL251:
 498:Src/vl6180x_api.c **** 		/* wer are yet here at no fix point */
 2227              		.loc 1 498 2 is_stmt 1 view .LVU816
 498:Src/vl6180x_api.c **** 		/* wer are yet here at no fix point */
 2228              		.loc 1 498 5 is_stmt 0 view .LVU817
 2229 0012 90B9     		cbnz	r0, .L160
 500:Src/vl6180x_api.c **** 		AlsScaler = VL6180xDevDataGet(dev, AlsScaler);
 2230              		.loc 1 500 3 is_stmt 1 view .LVU818
 500:Src/vl6180x_api.c **** 		AlsScaler = VL6180xDevDataGet(dev, AlsScaler);
 2231              		.loc 1 500 15 is_stmt 0 view .LVU819
 2232 0014 638A     		ldrh	r3, [r4, #18]
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 91


 2233              	.LVL252:
 501:Src/vl6180x_api.c **** 		IntPeriod++; /* what stored is real time  ms -1 and it can be 0 for or 0 or 1ms */
 2234              		.loc 1 501 3 is_stmt 1 view .LVU820
 501:Src/vl6180x_api.c **** 		IntPeriod++; /* what stored is real time  ms -1 and it can be 0 for or 0 or 1ms */
 2235              		.loc 1 501 15 is_stmt 0 view .LVU821
 2236 0016 E68A     		ldrh	r6, [r4, #22]
 2237              	.LVL253:
 502:Src/vl6180x_api.c **** 		luxValue = (uint32_t)RawAls * LuxResxIntIme; /* max # 16+8bits + 6bit (0.56*100)  */
 2238              		.loc 1 502 3 is_stmt 1 view .LVU822
 502:Src/vl6180x_api.c **** 		luxValue = (uint32_t)RawAls * LuxResxIntIme; /* max # 16+8bits + 6bit (0.56*100)  */
 2239              		.loc 1 502 12 is_stmt 0 view .LVU823
 2240 0018 591C     		adds	r1, r3, #1
 2241              	.LVL254:
 503:Src/vl6180x_api.c **** 		luxValue /= IntPeriod;                         /* max # 16+8bits + 6bit 16+8+1 to 9 bit */
 2242              		.loc 1 503 3 is_stmt 1 view .LVU824
 503:Src/vl6180x_api.c **** 		luxValue /= IntPeriod;                         /* max # 16+8bits + 6bit 16+8+1 to 9 bit */
 2243              		.loc 1 503 14 is_stmt 0 view .LVU825
 2244 001a BDF80630 		ldrh	r3, [sp, #6]
 503:Src/vl6180x_api.c **** 		luxValue /= IntPeriod;                         /* max # 16+8bits + 6bit 16+8+1 to 9 bit */
 2245              		.loc 1 503 12 view .LVU826
 2246 001e C3EBC303 		rsb	r3, r3, r3, lsl #3
 2247 0022 DB02     		lsls	r3, r3, #11
 2248              	.LVL255:
 504:Src/vl6180x_api.c **** 		/* between  29 - 21 bit */
 2249              		.loc 1 504 3 is_stmt 1 view .LVU827
 504:Src/vl6180x_api.c **** 		/* between  29 - 21 bit */
 2250              		.loc 1 504 12 is_stmt 0 view .LVU828
 2251 0024 B3FBF1F3 		udiv	r3, r3, r1
 2252              	.LVL256:
 506:Src/vl6180x_api.c **** 		GainFix = AlsGainLookUp[AlsAnGain];
 2253              		.loc 1 506 3 is_stmt 1 view .LVU829
 506:Src/vl6180x_api.c **** 		GainFix = AlsGainLookUp[AlsAnGain];
 2254              		.loc 1 506 15 is_stmt 0 view .LVU830
 2255 0028 A18A     		ldrh	r1, [r4, #20]
 2256              	.LVL257:
 507:Src/vl6180x_api.c **** 		luxValue = luxValue / (AlsScaler * GainFix);
 2257              		.loc 1 507 3 is_stmt 1 view .LVU831
 507:Src/vl6180x_api.c **** 		luxValue = luxValue / (AlsScaler * GainFix);
 2258              		.loc 1 507 26 is_stmt 0 view .LVU832
 2259 002a 054A     		ldr	r2, .L163
 2260 002c 32F81120 		ldrh	r2, [r2, r1, lsl #1]
 2261              	.LVL258:
 508:Src/vl6180x_api.c **** 		*pLux = luxValue;
 2262              		.loc 1 508 3 is_stmt 1 view .LVU833
 508:Src/vl6180x_api.c **** 		*pLux = luxValue;
 2263              		.loc 1 508 36 is_stmt 0 view .LVU834
 2264 0030 02FB06F2 		mul	r2, r2, r6
 2265              	.LVL259:
 508:Src/vl6180x_api.c **** 		*pLux = luxValue;
 2266              		.loc 1 508 12 view .LVU835
 2267 0034 B3FBF2F3 		udiv	r3, r3, r2
 2268              	.LVL260:
 509:Src/vl6180x_api.c **** 	}
 2269              		.loc 1 509 3 is_stmt 1 view .LVU836
 509:Src/vl6180x_api.c **** 	}
 2270              		.loc 1 509 9 is_stmt 0 view .LVU837
 2271 0038 2B60     		str	r3, [r5]
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 92


 2272              	.LVL261:
 512:Src/vl6180x_api.c **** 	return status;
 2273              		.loc 1 512 2 is_stmt 1 view .LVU838
 513:Src/vl6180x_api.c **** }
 2274              		.loc 1 513 2 view .LVU839
 2275              	.L160:
 514:Src/vl6180x_api.c **** 
 2276              		.loc 1 514 1 is_stmt 0 view .LVU840
 2277 003a 02B0     		add	sp, sp, #8
 2278              	.LCFI23:
 2279              		.cfi_def_cfa_offset 16
 2280              		@ sp needed
 2281 003c 70BD     		pop	{r4, r5, r6, pc}
 2282              	.LVL262:
 2283              	.L164:
 514:Src/vl6180x_api.c **** 
 2284              		.loc 1 514 1 view .LVU841
 2285 003e 00BF     		.align	2
 2286              	.L163:
 2287 0040 00000000 		.word	.LANCHOR2
 2288              		.cfi_endproc
 2289              	.LFE11:
 2291              		.section	.text.VL6180x_AlsGetMeasurement,"ax",%progbits
 2292              		.align	1
 2293              		.global	VL6180x_AlsGetMeasurement
 2294              		.syntax unified
 2295              		.thumb
 2296              		.thumb_func
 2297              		.fpu fpv4-sp-d16
 2299              	VL6180x_AlsGetMeasurement:
 2300              	.LVL263:
 2301              	.LFB12:
 517:Src/vl6180x_api.c **** 	int status;
 2302              		.loc 1 517 1 is_stmt 1 view -0
 2303              		.cfi_startproc
 2304              		@ args = 0, pretend = 0, frame = 8
 2305              		@ frame_needed = 0, uses_anonymous_args = 0
 517:Src/vl6180x_api.c **** 	int status;
 2306              		.loc 1 517 1 is_stmt 0 view .LVU843
 2307 0000 30B5     		push	{r4, r5, lr}
 2308              	.LCFI24:
 2309              		.cfi_def_cfa_offset 12
 2310              		.cfi_offset 4, -12
 2311              		.cfi_offset 5, -8
 2312              		.cfi_offset 14, -4
 2313 0002 83B0     		sub	sp, sp, #12
 2314              	.LCFI25:
 2315              		.cfi_def_cfa_offset 24
 2316 0004 0546     		mov	r5, r0
 2317 0006 0C46     		mov	r4, r1
 518:Src/vl6180x_api.c **** 	uint8_t ErrStatus;
 2318              		.loc 1 518 2 is_stmt 1 view .LVU844
 519:Src/vl6180x_api.c **** 
 2319              		.loc 1 519 2 view .LVU845
 521:Src/vl6180x_api.c **** 
 2320              		.loc 1 521 2 view .LVU846
 523:Src/vl6180x_api.c **** 	if (!status) {
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 93


 2321              		.loc 1 523 2 view .LVU847
 523:Src/vl6180x_api.c **** 	if (!status) {
 2322              		.loc 1 523 11 is_stmt 0 view .LVU848
 2323 0008 FFF7FEFF 		bl	VL6180x_AlsGetLux
 2324              	.LVL264:
 524:Src/vl6180x_api.c **** 		status = VL6180x_RdByte(dev, RESULT_ALS_STATUS, &ErrStatus);
 2325              		.loc 1 524 2 is_stmt 1 view .LVU849
 524:Src/vl6180x_api.c **** 		status = VL6180x_RdByte(dev, RESULT_ALS_STATUS, &ErrStatus);
 2326              		.loc 1 524 5 is_stmt 0 view .LVU850
 2327 000c 08B1     		cbz	r0, .L168
 2328              	.L165:
 531:Src/vl6180x_api.c **** 
 2329              		.loc 1 531 1 view .LVU851
 2330 000e 03B0     		add	sp, sp, #12
 2331              	.LCFI26:
 2332              		.cfi_remember_state
 2333              		.cfi_def_cfa_offset 12
 2334              		@ sp needed
 2335 0010 30BD     		pop	{r4, r5, pc}
 2336              	.LVL265:
 2337              	.L168:
 2338              	.LCFI27:
 2339              		.cfi_restore_state
 525:Src/vl6180x_api.c **** 		pAlsData->errorStatus = ErrStatus >> 4;
 2340              		.loc 1 525 3 is_stmt 1 view .LVU852
 525:Src/vl6180x_api.c **** 		pAlsData->errorStatus = ErrStatus >> 4;
 2341              		.loc 1 525 12 is_stmt 0 view .LVU853
 2342 0012 0DF10702 		add	r2, sp, #7
 2343 0016 4E21     		movs	r1, #78
 2344 0018 2846     		mov	r0, r5
 2345 001a FFF7FEFF 		bl	VL6180x_RdByte
 2346              	.LVL266:
 526:Src/vl6180x_api.c **** 	}
 2347              		.loc 1 526 3 is_stmt 1 view .LVU854
 526:Src/vl6180x_api.c **** 	}
 2348              		.loc 1 526 37 is_stmt 0 view .LVU855
 2349 001e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 2350 0022 1B09     		lsrs	r3, r3, #4
 526:Src/vl6180x_api.c **** 	}
 2351              		.loc 1 526 25 view .LVU856
 2352 0024 6360     		str	r3, [r4, #4]
 528:Src/vl6180x_api.c **** 
 2353              		.loc 1 528 2 is_stmt 1 view .LVU857
 530:Src/vl6180x_api.c **** }
 2354              		.loc 1 530 2 view .LVU858
 530:Src/vl6180x_api.c **** }
 2355              		.loc 1 530 9 is_stmt 0 view .LVU859
 2356 0026 F2E7     		b	.L165
 2357              		.cfi_endproc
 2358              	.LFE12:
 2360              		.section	.text.VL6180x_AlsGetInterruptStatus,"ax",%progbits
 2361              		.align	1
 2362              		.global	VL6180x_AlsGetInterruptStatus
 2363              		.syntax unified
 2364              		.thumb
 2365              		.thumb_func
 2366              		.fpu fpv4-sp-d16
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 94


 2368              	VL6180x_AlsGetInterruptStatus:
 2369              	.LVL267:
 2370              	.LFB14:
 587:Src/vl6180x_api.c **** 	int status;
 2371              		.loc 1 587 1 is_stmt 1 view -0
 2372              		.cfi_startproc
 2373              		@ args = 0, pretend = 0, frame = 8
 2374              		@ frame_needed = 0, uses_anonymous_args = 0
 587:Src/vl6180x_api.c **** 	int status;
 2375              		.loc 1 587 1 is_stmt 0 view .LVU861
 2376 0000 10B5     		push	{r4, lr}
 2377              	.LCFI28:
 2378              		.cfi_def_cfa_offset 8
 2379              		.cfi_offset 4, -8
 2380              		.cfi_offset 14, -4
 2381 0002 82B0     		sub	sp, sp, #8
 2382              	.LCFI29:
 2383              		.cfi_def_cfa_offset 16
 2384 0004 0C46     		mov	r4, r1
 588:Src/vl6180x_api.c **** 	uint8_t IntStatus;
 2385              		.loc 1 588 2 is_stmt 1 view .LVU862
 589:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%p", pIntStatus);
 2386              		.loc 1 589 2 view .LVU863
 590:Src/vl6180x_api.c **** 
 2387              		.loc 1 590 2 view .LVU864
 592:Src/vl6180x_api.c **** 	*pIntStatus = (IntStatus >> 3) & 0x07;
 2388              		.loc 1 592 2 view .LVU865
 592:Src/vl6180x_api.c **** 	*pIntStatus = (IntStatus >> 3) & 0x07;
 2389              		.loc 1 592 11 is_stmt 0 view .LVU866
 2390 0006 0DF10702 		add	r2, sp, #7
 2391 000a 4F21     		movs	r1, #79
 2392              	.LVL268:
 592:Src/vl6180x_api.c **** 	*pIntStatus = (IntStatus >> 3) & 0x07;
 2393              		.loc 1 592 11 view .LVU867
 2394 000c FFF7FEFF 		bl	VL6180x_RdByte
 2395              	.LVL269:
 593:Src/vl6180x_api.c **** 
 2396              		.loc 1 593 2 is_stmt 1 view .LVU868
 593:Src/vl6180x_api.c **** 
 2397              		.loc 1 593 33 is_stmt 0 view .LVU869
 2398 0010 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 2399 0014 C3F3C203 		ubfx	r3, r3, #3, #3
 593:Src/vl6180x_api.c **** 
 2400              		.loc 1 593 14 view .LVU870
 2401 0018 2370     		strb	r3, [r4]
 595:Src/vl6180x_api.c **** 	return status;
 2402              		.loc 1 595 2 is_stmt 1 view .LVU871
 596:Src/vl6180x_api.c **** }
 2403              		.loc 1 596 2 view .LVU872
 597:Src/vl6180x_api.c **** 
 2404              		.loc 1 597 1 is_stmt 0 view .LVU873
 2405 001a 02B0     		add	sp, sp, #8
 2406              	.LCFI30:
 2407              		.cfi_def_cfa_offset 8
 2408              		@ sp needed
 2409 001c 10BD     		pop	{r4, pc}
 597:Src/vl6180x_api.c **** 
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 95


 2410              		.loc 1 597 1 view .LVU874
 2411              		.cfi_endproc
 2412              	.LFE14:
 2414              		.section	.text.VL6180x_AlsWaitDeviceReady,"ax",%progbits
 2415              		.align	1
 2416              		.global	VL6180x_AlsWaitDeviceReady
 2417              		.syntax unified
 2418              		.thumb
 2419              		.thumb_func
 2420              		.fpu fpv4-sp-d16
 2422              	VL6180x_AlsWaitDeviceReady:
 2423              	.LVL270:
 2424              	.LFB15:
 600:Src/vl6180x_api.c **** 	int status;
 2425              		.loc 1 600 1 is_stmt 1 view -0
 2426              		.cfi_startproc
 2427              		@ args = 0, pretend = 0, frame = 8
 2428              		@ frame_needed = 0, uses_anonymous_args = 0
 600:Src/vl6180x_api.c **** 	int status;
 2429              		.loc 1 600 1 is_stmt 0 view .LVU876
 2430 0000 70B5     		push	{r4, r5, r6, lr}
 2431              	.LCFI31:
 2432              		.cfi_def_cfa_offset 16
 2433              		.cfi_offset 4, -16
 2434              		.cfi_offset 5, -12
 2435              		.cfi_offset 6, -8
 2436              		.cfi_offset 14, -4
 2437 0002 82B0     		sub	sp, sp, #8
 2438              	.LCFI32:
 2439              		.cfi_def_cfa_offset 24
 601:Src/vl6180x_api.c **** 	int  n;
 2440              		.loc 1 601 2 is_stmt 1 view .LVU877
 602:Src/vl6180x_api.c **** 	uint8_t u8;
 2441              		.loc 1 602 2 view .LVU878
 603:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", (int)MaxLoop);
 2442              		.loc 1 603 2 view .LVU879
 604:Src/vl6180x_api.c **** 	if (MaxLoop < 1) {
 2443              		.loc 1 604 2 view .LVU880
 605:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
 2444              		.loc 1 605 2 view .LVU881
 605:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
 2445              		.loc 1 605 5 is_stmt 0 view .LVU882
 2446 0004 0D1E     		subs	r5, r1, #0
 2447 0006 1CDD     		ble	.L176
 2448 0008 0646     		mov	r6, r0
 608:Src/vl6180x_api.c **** 			status = VL6180x_RdByte(dev, RESULT_ALS_STATUS, &u8);
 2449              		.loc 1 608 10 view .LVU883
 2450 000a 0024     		movs	r4, #0
 2451 000c 00E0     		b	.L173
 2452              	.LVL271:
 2453              	.L179:
 608:Src/vl6180x_api.c **** 			status = VL6180x_RdByte(dev, RESULT_ALS_STATUS, &u8);
 2454              		.loc 1 608 28 is_stmt 1 discriminator 2 view .LVU884
 608:Src/vl6180x_api.c **** 			status = VL6180x_RdByte(dev, RESULT_ALS_STATUS, &u8);
 2455              		.loc 1 608 29 is_stmt 0 discriminator 2 view .LVU885
 2456 000e 0134     		adds	r4, r4, #1
 2457              	.LVL272:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 96


 2458              	.L173:
 608:Src/vl6180x_api.c **** 			status = VL6180x_RdByte(dev, RESULT_ALS_STATUS, &u8);
 2459              		.loc 1 608 15 is_stmt 1 discriminator 1 view .LVU886
 608:Src/vl6180x_api.c **** 			status = VL6180x_RdByte(dev, RESULT_ALS_STATUS, &u8);
 2460              		.loc 1 608 3 is_stmt 0 discriminator 1 view .LVU887
 2461 0010 AC42     		cmp	r4, r5
 2462 0012 0FDA     		bge	.L174
 609:Src/vl6180x_api.c **** 			if (status)
 2463              		.loc 1 609 4 is_stmt 1 view .LVU888
 609:Src/vl6180x_api.c **** 			if (status)
 2464              		.loc 1 609 13 is_stmt 0 view .LVU889
 2465 0014 0DF10702 		add	r2, sp, #7
 2466              	.LVL273:
 609:Src/vl6180x_api.c **** 			if (status)
 2467              		.loc 1 609 13 view .LVU890
 2468 0018 4E21     		movs	r1, #78
 2469 001a 3046     		mov	r0, r6
 2470 001c FFF7FEFF 		bl	VL6180x_RdByte
 2471              	.LVL274:
 610:Src/vl6180x_api.c **** 				break;
 2472              		.loc 1 610 4 is_stmt 1 view .LVU891
 610:Src/vl6180x_api.c **** 				break;
 2473              		.loc 1 610 7 is_stmt 0 view .LVU892
 2474 0020 0246     		mov	r2, r0
 2475 0022 38B9     		cbnz	r0, .L174
 612:Src/vl6180x_api.c **** 			if (u8)
 2476              		.loc 1 612 4 is_stmt 1 view .LVU893
 612:Src/vl6180x_api.c **** 			if (u8)
 2477              		.loc 1 612 12 is_stmt 0 view .LVU894
 2478 0024 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 2479 0028 03F00103 		and	r3, r3, #1
 612:Src/vl6180x_api.c **** 			if (u8)
 2480              		.loc 1 612 7 view .LVU895
 2481 002c 8DF80730 		strb	r3, [sp, #7]
 613:Src/vl6180x_api.c **** 				break;
 2482              		.loc 1 613 4 is_stmt 1 view .LVU896
 613:Src/vl6180x_api.c **** 				break;
 2483              		.loc 1 613 7 is_stmt 0 view .LVU897
 2484 0030 002B     		cmp	r3, #0
 2485 0032 ECD0     		beq	.L179
 2486              	.LVL275:
 2487              	.L174:
 617:Src/vl6180x_api.c **** 			status = TIME_OUT;
 2488              		.loc 1 617 3 is_stmt 1 view .LVU898
 617:Src/vl6180x_api.c **** 			status = TIME_OUT;
 2489              		.loc 1 617 6 is_stmt 0 view .LVU899
 2490 0034 12B9     		cbnz	r2, .L172
 617:Src/vl6180x_api.c **** 			status = TIME_OUT;
 2491              		.loc 1 617 18 discriminator 1 view .LVU900
 2492 0036 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 617:Src/vl6180x_api.c **** 			status = TIME_OUT;
 2493              		.loc 1 617 15 discriminator 1 view .LVU901
 2494 003a 2BB1     		cbz	r3, .L180
 2495              	.LVL276:
 2496              	.L172:
 621:Src/vl6180x_api.c **** 	return status;
 2497              		.loc 1 621 2 is_stmt 1 view .LVU902
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 97


 622:Src/vl6180x_api.c **** }
 2498              		.loc 1 622 2 view .LVU903
 623:Src/vl6180x_api.c **** 
 2499              		.loc 1 623 1 is_stmt 0 view .LVU904
 2500 003c 1046     		mov	r0, r2
 2501 003e 02B0     		add	sp, sp, #8
 2502              	.LCFI33:
 2503              		.cfi_remember_state
 2504              		.cfi_def_cfa_offset 16
 2505              		@ sp needed
 2506 0040 70BD     		pop	{r4, r5, r6, pc}
 2507              	.LVL277:
 2508              	.L176:
 2509              	.LCFI34:
 2510              		.cfi_restore_state
 606:Src/vl6180x_api.c **** 	} else {
 2511              		.loc 1 606 10 view .LVU905
 2512 0042 6FF00102 		mvn	r2, #1
 2513 0046 F9E7     		b	.L172
 2514              	.LVL278:
 2515              	.L180:
 618:Src/vl6180x_api.c **** 		}
 2516              		.loc 1 618 11 view .LVU906
 2517 0048 6FF00402 		mvn	r2, #4
 2518              	.LVL279:
 618:Src/vl6180x_api.c **** 		}
 2519              		.loc 1 618 11 view .LVU907
 2520 004c F6E7     		b	.L172
 2521              		.cfi_endproc
 2522              	.LFE15:
 2524              		.section	.text.VL6180x_AlsSetSystemMode,"ax",%progbits
 2525              		.align	1
 2526              		.global	VL6180x_AlsSetSystemMode
 2527              		.syntax unified
 2528              		.thumb
 2529              		.thumb_func
 2530              		.fpu fpv4-sp-d16
 2532              	VL6180x_AlsSetSystemMode:
 2533              	.LVL280:
 2534              	.LFB16:
 626:Src/vl6180x_api.c **** 	int status;
 2535              		.loc 1 626 1 is_stmt 1 view -0
 2536              		.cfi_startproc
 2537              		@ args = 0, pretend = 0, frame = 0
 2538              		@ frame_needed = 0, uses_anonymous_args = 0
 627:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", (int)mode);
 2539              		.loc 1 627 2 view .LVU909
 628:Src/vl6180x_api.c **** 	/* FIXME if we are called back to back real fast we are not checking
 2540              		.loc 1 628 2 view .LVU910
 631:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSALS_START, mode);
 2541              		.loc 1 631 2 view .LVU911
 631:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSALS_START, mode);
 2542              		.loc 1 631 5 is_stmt 0 view .LVU912
 2543 0000 0329     		cmp	r1, #3
 2544 0002 05D8     		bhi	.L183
 626:Src/vl6180x_api.c **** 	int status;
 2545              		.loc 1 626 1 view .LVU913
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 98


 2546 0004 08B5     		push	{r3, lr}
 2547              	.LCFI35:
 2548              		.cfi_def_cfa_offset 8
 2549              		.cfi_offset 3, -8
 2550              		.cfi_offset 14, -4
 2551 0006 0A46     		mov	r2, r1
 632:Src/vl6180x_api.c **** 	} else {
 2552              		.loc 1 632 3 is_stmt 1 view .LVU914
 632:Src/vl6180x_api.c **** 	} else {
 2553              		.loc 1 632 12 is_stmt 0 view .LVU915
 2554 0008 3821     		movs	r1, #56
 2555              	.LVL281:
 632:Src/vl6180x_api.c **** 	} else {
 2556              		.loc 1 632 12 view .LVU916
 2557 000a FFF7FEFF 		bl	VL6180x_WrByte
 2558              	.LVL282:
 638:Src/vl6180x_api.c **** 
 2559              		.loc 1 638 1 view .LVU917
 2560 000e 08BD     		pop	{r3, pc}
 2561              	.LVL283:
 2562              	.L183:
 2563              	.LCFI36:
 2564              		.cfi_def_cfa_offset 0
 2565              		.cfi_restore 3
 2566              		.cfi_restore 14
 634:Src/vl6180x_api.c **** 	}
 2567              		.loc 1 634 10 view .LVU918
 2568 0010 6FF00100 		mvn	r0, #1
 2569              	.LVL284:
 636:Src/vl6180x_api.c **** 	return status;
 2570              		.loc 1 636 2 is_stmt 1 view .LVU919
 637:Src/vl6180x_api.c **** }
 2571              		.loc 1 637 2 view .LVU920
 638:Src/vl6180x_api.c **** 
 2572              		.loc 1 638 1 is_stmt 0 view .LVU921
 2573 0014 7047     		bx	lr
 2574              		.cfi_endproc
 2575              	.LFE16:
 2577              		.section	.text.VL6180x_AlsConfigInterrupt,"ax",%progbits
 2578              		.align	1
 2579              		.global	VL6180x_AlsConfigInterrupt
 2580              		.syntax unified
 2581              		.thumb
 2582              		.thumb_func
 2583              		.fpu fpv4-sp-d16
 2585              	VL6180x_AlsConfigInterrupt:
 2586              	.LVL285:
 2587              	.LFB17:
 641:Src/vl6180x_api.c **** 	int status;
 2588              		.loc 1 641 1 is_stmt 1 view -0
 2589              		.cfi_startproc
 2590              		@ args = 0, pretend = 0, frame = 0
 2591              		@ frame_needed = 0, uses_anonymous_args = 0
 642:Src/vl6180x_api.c **** 
 2592              		.loc 1 642 2 view .LVU923
 644:Src/vl6180x_api.c **** 		status = VL6180x_UpdateByte(dev, SYSTEM_INTERRUPT_CONFIG_GPIO, (uint8_t)(~CONFIG_GPIO_ALS_MASK), 
 2593              		.loc 1 644 2 view .LVU924
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 99


 644:Src/vl6180x_api.c **** 		status = VL6180x_UpdateByte(dev, SYSTEM_INTERRUPT_CONFIG_GPIO, (uint8_t)(~CONFIG_GPIO_ALS_MASK), 
 2594              		.loc 1 644 5 is_stmt 0 view .LVU925
 2595 0000 0429     		cmp	r1, #4
 2596 0002 08D8     		bhi	.L190
 641:Src/vl6180x_api.c **** 	int status;
 2597              		.loc 1 641 1 view .LVU926
 2598 0004 08B5     		push	{r3, lr}
 2599              	.LCFI37:
 2600              		.cfi_def_cfa_offset 8
 2601              		.cfi_offset 3, -8
 2602              		.cfi_offset 14, -4
 645:Src/vl6180x_api.c **** 	} else {
 2603              		.loc 1 645 3 is_stmt 1 view .LVU927
 645:Src/vl6180x_api.c **** 	} else {
 2604              		.loc 1 645 12 is_stmt 0 view .LVU928
 2605 0006 C900     		lsls	r1, r1, #3
 2606              	.LVL286:
 645:Src/vl6180x_api.c **** 	} else {
 2607              		.loc 1 645 12 view .LVU929
 2608 0008 01F0F803 		and	r3, r1, #248
 2609 000c C722     		movs	r2, #199
 2610 000e 1421     		movs	r1, #20
 2611 0010 FFF7FEFF 		bl	VL6180x_UpdateByte
 2612              	.LVL287:
 652:Src/vl6180x_api.c **** 
 2613              		.loc 1 652 1 view .LVU930
 2614 0014 08BD     		pop	{r3, pc}
 2615              	.LVL288:
 2616              	.L190:
 2617              	.LCFI38:
 2618              		.cfi_def_cfa_offset 0
 2619              		.cfi_restore 3
 2620              		.cfi_restore 14
 648:Src/vl6180x_api.c **** 	}
 2621              		.loc 1 648 10 view .LVU931
 2622 0016 6FF00100 		mvn	r0, #1
 2623              	.LVL289:
 650:Src/vl6180x_api.c **** 	return status;
 2624              		.loc 1 650 2 is_stmt 1 view .LVU932
 651:Src/vl6180x_api.c **** }
 2625              		.loc 1 651 2 view .LVU933
 652:Src/vl6180x_api.c **** 
 2626              		.loc 1 652 1 is_stmt 0 view .LVU934
 2627 001a 7047     		bx	lr
 2628              		.cfi_endproc
 2629              	.LFE17:
 2631              		.section	.text.VL6180x_AlsSetThresholds,"ax",%progbits
 2632              		.align	1
 2633              		.global	VL6180x_AlsSetThresholds
 2634              		.syntax unified
 2635              		.thumb
 2636              		.thumb_func
 2637              		.fpu fpv4-sp-d16
 2639              	VL6180x_AlsSetThresholds:
 2640              	.LVL290:
 2641              	.LFB18:
 657:Src/vl6180x_api.c **** 	int status;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 100


 2642              		.loc 1 657 1 is_stmt 1 view -0
 2643              		.cfi_startproc
 2644              		@ args = 0, pretend = 0, frame = 0
 2645              		@ frame_needed = 0, uses_anonymous_args = 0
 657:Src/vl6180x_api.c **** 	int status;
 2646              		.loc 1 657 1 is_stmt 0 view .LVU936
 2647 0000 38B5     		push	{r3, r4, r5, lr}
 2648              	.LCFI39:
 2649              		.cfi_def_cfa_offset 16
 2650              		.cfi_offset 3, -16
 2651              		.cfi_offset 4, -12
 2652              		.cfi_offset 5, -8
 2653              		.cfi_offset 14, -4
 2654 0002 0446     		mov	r4, r0
 2655 0004 1546     		mov	r5, r2
 658:Src/vl6180x_api.c **** 
 2656              		.loc 1 658 2 is_stmt 1 view .LVU937
 660:Src/vl6180x_api.c **** 
 2657              		.loc 1 660 2 view .LVU938
 662:Src/vl6180x_api.c **** 	if (!status) {
 2658              		.loc 1 662 2 view .LVU939
 662:Src/vl6180x_api.c **** 	if (!status) {
 2659              		.loc 1 662 11 is_stmt 0 view .LVU940
 2660 0006 0A46     		mov	r2, r1
 2661              	.LVL291:
 662:Src/vl6180x_api.c **** 	if (!status) {
 2662              		.loc 1 662 11 view .LVU941
 2663 0008 3C21     		movs	r1, #60
 2664              	.LVL292:
 662:Src/vl6180x_api.c **** 	if (!status) {
 2665              		.loc 1 662 11 view .LVU942
 2666 000a FFF7FEFF 		bl	VL6180x_WrByte
 2667              	.LVL293:
 663:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSALS_THRESH_HIGH, high);
 2668              		.loc 1 663 2 is_stmt 1 view .LVU943
 663:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSALS_THRESH_HIGH, high);
 2669              		.loc 1 663 5 is_stmt 0 view .LVU944
 2670 000e 00B1     		cbz	r0, .L198
 2671              	.L195:
 669:Src/vl6180x_api.c **** 
 2672              		.loc 1 669 1 view .LVU945
 2673 0010 38BD     		pop	{r3, r4, r5, pc}
 2674              	.LVL294:
 2675              	.L198:
 664:Src/vl6180x_api.c **** 	}
 2676              		.loc 1 664 3 is_stmt 1 view .LVU946
 664:Src/vl6180x_api.c **** 	}
 2677              		.loc 1 664 12 is_stmt 0 view .LVU947
 2678 0012 2A46     		mov	r2, r5
 2679 0014 3A21     		movs	r1, #58
 2680 0016 2046     		mov	r0, r4
 2681 0018 FFF7FEFF 		bl	VL6180x_WrByte
 2682              	.LVL295:
 667:Src/vl6180x_api.c **** 	return status;
 2683              		.loc 1 667 2 is_stmt 1 view .LVU948
 668:Src/vl6180x_api.c **** }
 2684              		.loc 1 668 2 view .LVU949
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 101


 668:Src/vl6180x_api.c **** }
 2685              		.loc 1 668 9 is_stmt 0 view .LVU950
 2686 001c F8E7     		b	.L195
 2687              		.cfi_endproc
 2688              	.LFE18:
 2690              		.section	.text.VL6180x_AlsSetAnalogueGain,"ax",%progbits
 2691              		.align	1
 2692              		.global	VL6180x_AlsSetAnalogueGain
 2693              		.syntax unified
 2694              		.thumb
 2695              		.thumb_func
 2696              		.fpu fpv4-sp-d16
 2698              	VL6180x_AlsSetAnalogueGain:
 2699              	.LVL296:
 2700              	.LFB19:
 673:Src/vl6180x_api.c **** 	int status;
 2701              		.loc 1 673 1 is_stmt 1 view -0
 2702              		.cfi_startproc
 2703              		@ args = 0, pretend = 0, frame = 0
 2704              		@ frame_needed = 0, uses_anonymous_args = 0
 673:Src/vl6180x_api.c **** 	int status;
 2705              		.loc 1 673 1 is_stmt 0 view .LVU952
 2706 0000 38B5     		push	{r3, r4, r5, lr}
 2707              	.LCFI40:
 2708              		.cfi_def_cfa_offset 16
 2709              		.cfi_offset 3, -16
 2710              		.cfi_offset 4, -12
 2711              		.cfi_offset 5, -8
 2712              		.cfi_offset 14, -4
 2713 0002 0546     		mov	r5, r0
 674:Src/vl6180x_api.c **** 	uint8_t GainTotal;
 2714              		.loc 1 674 2 is_stmt 1 view .LVU953
 675:Src/vl6180x_api.c **** 
 2715              		.loc 1 675 2 view .LVU954
 677:Src/vl6180x_api.c **** 	gain &= ~0x40;
 2716              		.loc 1 677 2 view .LVU955
 678:Src/vl6180x_api.c **** 	if (gain > 7) {
 2717              		.loc 1 678 2 view .LVU956
 678:Src/vl6180x_api.c **** 	if (gain > 7) {
 2718              		.loc 1 678 7 is_stmt 0 view .LVU957
 2719 0004 01F0BF04 		and	r4, r1, #191
 2720              	.LVL297:
 679:Src/vl6180x_api.c **** 		gain = 7;
 2721              		.loc 1 679 2 is_stmt 1 view .LVU958
 679:Src/vl6180x_api.c **** 		gain = 7;
 2722              		.loc 1 679 5 is_stmt 0 view .LVU959
 2723 0008 072C     		cmp	r4, #7
 2724 000a 00D9     		bls	.L200
 680:Src/vl6180x_api.c **** 	}
 2725              		.loc 1 680 8 view .LVU960
 2726 000c 0724     		movs	r4, #7
 2727              	.LVL298:
 2728              	.L200:
 682:Src/vl6180x_api.c **** 
 2729              		.loc 1 682 2 is_stmt 1 view .LVU961
 684:Src/vl6180x_api.c **** 	if (!status) {
 2730              		.loc 1 684 2 view .LVU962
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 102


 684:Src/vl6180x_api.c **** 	if (!status) {
 2731              		.loc 1 684 11 is_stmt 0 view .LVU963
 2732 000e 44F04002 		orr	r2, r4, #64
 2733 0012 3F21     		movs	r1, #63
 2734 0014 2846     		mov	r0, r5
 2735              	.LVL299:
 684:Src/vl6180x_api.c **** 	if (!status) {
 2736              		.loc 1 684 11 view .LVU964
 2737 0016 FFF7FEFF 		bl	VL6180x_WrByte
 2738              	.LVL300:
 685:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, AlsGainCode, gain);
 2739              		.loc 1 685 2 is_stmt 1 view .LVU965
 685:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, AlsGainCode, gain);
 2740              		.loc 1 685 5 is_stmt 0 view .LVU966
 2741 001a 00B9     		cbnz	r0, .L199
 686:Src/vl6180x_api.c **** 	}
 2742              		.loc 1 686 3 is_stmt 1 view .LVU967
 2743 001c AC82     		strh	r4, [r5, #20]	@ movhi
 689:Src/vl6180x_api.c **** 	return status;
 2744              		.loc 1 689 2 view .LVU968
 690:Src/vl6180x_api.c **** }
 2745              		.loc 1 690 2 view .LVU969
 2746              	.L199:
 691:Src/vl6180x_api.c **** 
 2747              		.loc 1 691 1 is_stmt 0 view .LVU970
 2748 001e 38BD     		pop	{r3, r4, r5, pc}
 691:Src/vl6180x_api.c **** 
 2749              		.loc 1 691 1 view .LVU971
 2750              		.cfi_endproc
 2751              	.LFE19:
 2753              		.section	.text.VL6180x_AlsSetInterMeasurementPeriod,"ax",%progbits
 2754              		.align	1
 2755              		.global	VL6180x_AlsSetInterMeasurementPeriod
 2756              		.syntax unified
 2757              		.thumb
 2758              		.thumb_func
 2759              		.fpu fpv4-sp-d16
 2761              	VL6180x_AlsSetInterMeasurementPeriod:
 2762              	.LVL301:
 2763              	.LFB20:
 694:Src/vl6180x_api.c **** 	int status;
 2764              		.loc 1 694 1 is_stmt 1 view -0
 2765              		.cfi_startproc
 2766              		@ args = 0, pretend = 0, frame = 0
 2767              		@ frame_needed = 0, uses_anonymous_args = 0
 694:Src/vl6180x_api.c **** 	int status;
 2768              		.loc 1 694 1 is_stmt 0 view .LVU973
 2769 0000 08B5     		push	{r3, lr}
 2770              	.LCFI41:
 2771              		.cfi_def_cfa_offset 8
 2772              		.cfi_offset 3, -8
 2773              		.cfi_offset 14, -4
 695:Src/vl6180x_api.c **** 
 2774              		.loc 1 695 2 is_stmt 1 view .LVU974
 697:Src/vl6180x_api.c **** 	/* clipping: range is 0-2550ms */
 2775              		.loc 1 697 2 view .LVU975
 699:Src/vl6180x_api.c **** 		intermeasurement_period_ms = 255 * 10;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 103


 2776              		.loc 1 699 2 view .LVU976
 699:Src/vl6180x_api.c **** 		intermeasurement_period_ms = 255 * 10;
 2777              		.loc 1 699 5 is_stmt 0 view .LVU977
 2778 0002 40F6F513 		movw	r3, #2549
 2779 0006 9942     		cmp	r1, r3
 2780 0008 01D9     		bls	.L205
 700:Src/vl6180x_api.c **** 	status = VL6180x_WrByte(dev, SYSALS_INTERMEASUREMENT_PERIOD, (uint8_t)(intermeasurement_period_ms 
 2781              		.loc 1 700 30 view .LVU978
 2782 000a 40F6F611 		movw	r1, #2550
 2783              	.LVL302:
 2784              	.L205:
 701:Src/vl6180x_api.c **** 
 2785              		.loc 1 701 2 is_stmt 1 view .LVU979
 701:Src/vl6180x_api.c **** 
 2786              		.loc 1 701 11 is_stmt 0 view .LVU980
 2787 000e 044A     		ldr	r2, .L208
 2788 0010 A2FB0132 		umull	r3, r2, r2, r1
 2789 0014 C2F3C702 		ubfx	r2, r2, #3, #8
 2790 0018 3E21     		movs	r1, #62
 2791              	.LVL303:
 701:Src/vl6180x_api.c **** 
 2792              		.loc 1 701 11 view .LVU981
 2793 001a FFF7FEFF 		bl	VL6180x_WrByte
 2794              	.LVL304:
 703:Src/vl6180x_api.c **** 	return status;
 2795              		.loc 1 703 2 is_stmt 1 view .LVU982
 704:Src/vl6180x_api.c **** }
 2796              		.loc 1 704 2 view .LVU983
 705:Src/vl6180x_api.c **** 
 2797              		.loc 1 705 1 is_stmt 0 view .LVU984
 2798 001e 08BD     		pop	{r3, pc}
 2799              	.L209:
 2800              		.align	2
 2801              	.L208:
 2802 0020 CDCCCCCC 		.word	-858993459
 2803              		.cfi_endproc
 2804              	.LFE20:
 2806              		.section	.text.VL6180x_AlsSetIntegrationPeriod,"ax",%progbits
 2807              		.align	1
 2808              		.global	VL6180x_AlsSetIntegrationPeriod
 2809              		.syntax unified
 2810              		.thumb
 2811              		.thumb_func
 2812              		.fpu fpv4-sp-d16
 2814              	VL6180x_AlsSetIntegrationPeriod:
 2815              	.LVL305:
 2816              	.LFB21:
 709:Src/vl6180x_api.c **** 	int status;
 2817              		.loc 1 709 1 is_stmt 1 view -0
 2818              		.cfi_startproc
 2819              		@ args = 0, pretend = 0, frame = 0
 2820              		@ frame_needed = 0, uses_anonymous_args = 0
 709:Src/vl6180x_api.c **** 	int status;
 2821              		.loc 1 709 1 is_stmt 0 view .LVU986
 2822 0000 38B5     		push	{r3, r4, r5, lr}
 2823              	.LCFI42:
 2824              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 104


 2825              		.cfi_offset 3, -16
 2826              		.cfi_offset 4, -12
 2827              		.cfi_offset 5, -8
 2828              		.cfi_offset 14, -4
 2829 0002 0546     		mov	r5, r0
 710:Src/vl6180x_api.c **** 	uint16_t SetIntegrationPeriod;
 2830              		.loc 1 710 2 is_stmt 1 view .LVU987
 711:Src/vl6180x_api.c **** 
 2831              		.loc 1 711 2 view .LVU988
 713:Src/vl6180x_api.c **** 
 2832              		.loc 1 713 2 view .LVU989
 715:Src/vl6180x_api.c **** 		SetIntegrationPeriod = period_ms - 1;
 2833              		.loc 1 715 2 view .LVU990
 715:Src/vl6180x_api.c **** 		SetIntegrationPeriod = period_ms - 1;
 2834              		.loc 1 715 5 is_stmt 0 view .LVU991
 2835 0004 0C46     		mov	r4, r1
 2836 0006 09B1     		cbz	r1, .L211
 716:Src/vl6180x_api.c **** 	else
 2837              		.loc 1 716 3 is_stmt 1 view .LVU992
 716:Src/vl6180x_api.c **** 	else
 2838              		.loc 1 716 24 is_stmt 0 view .LVU993
 2839 0008 4C1E     		subs	r4, r1, #1
 2840 000a A4B2     		uxth	r4, r4
 2841              	.LVL306:
 2842              	.L211:
 720:Src/vl6180x_api.c **** 		SetIntegrationPeriod = 464;
 2843              		.loc 1 720 2 is_stmt 1 view .LVU994
 720:Src/vl6180x_api.c **** 		SetIntegrationPeriod = 464;
 2844              		.loc 1 720 5 is_stmt 0 view .LVU995
 2845 000c B4F5E87F 		cmp	r4, #464
 2846 0010 04D8     		bhi	.L214
 722:Src/vl6180x_api.c **** 		SetIntegrationPeriod++; /* can't write 255 since this causes the device to lock out.*/
 2847              		.loc 1 722 9 is_stmt 1 view .LVU996
 722:Src/vl6180x_api.c **** 		SetIntegrationPeriod++; /* can't write 255 since this causes the device to lock out.*/
 2848              		.loc 1 722 12 is_stmt 0 view .LVU997
 2849 0012 FF2C     		cmp	r4, #255
 2850 0014 04D1     		bne	.L212
 723:Src/vl6180x_api.c **** 	}
 2851              		.loc 1 723 3 is_stmt 1 view .LVU998
 723:Src/vl6180x_api.c **** 	}
 2852              		.loc 1 723 23 is_stmt 0 view .LVU999
 2853 0016 0134     		adds	r4, r4, #1
 2854              	.LVL307:
 723:Src/vl6180x_api.c **** 	}
 2855              		.loc 1 723 23 view .LVU1000
 2856 0018 A4B2     		uxth	r4, r4
 2857              	.LVL308:
 723:Src/vl6180x_api.c **** 	}
 2858              		.loc 1 723 23 view .LVU1001
 2859 001a 01E0     		b	.L212
 2860              	.L214:
 721:Src/vl6180x_api.c **** 	} else if (SetIntegrationPeriod == 255)   {
 2861              		.loc 1 721 24 view .LVU1002
 2862 001c 4FF4E874 		mov	r4, #464
 2863              	.LVL309:
 2864              	.L212:
 726:Src/vl6180x_api.c **** 	if (!status) {
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 105


 2865              		.loc 1 726 2 is_stmt 1 view .LVU1003
 726:Src/vl6180x_api.c **** 	if (!status) {
 2866              		.loc 1 726 11 is_stmt 0 view .LVU1004
 2867 0020 2246     		mov	r2, r4
 2868 0022 4021     		movs	r1, #64
 2869              	.LVL310:
 726:Src/vl6180x_api.c **** 	if (!status) {
 2870              		.loc 1 726 11 view .LVU1005
 2871 0024 2846     		mov	r0, r5
 2872              	.LVL311:
 726:Src/vl6180x_api.c **** 	if (!status) {
 2873              		.loc 1 726 11 view .LVU1006
 2874 0026 FFF7FEFF 		bl	VL6180x_WrWord
 2875              	.LVL312:
 727:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, IntegrationPeriod, SetIntegrationPeriod) ;
 2876              		.loc 1 727 2 is_stmt 1 view .LVU1007
 727:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, IntegrationPeriod, SetIntegrationPeriod) ;
 2877              		.loc 1 727 5 is_stmt 0 view .LVU1008
 2878 002a 00B9     		cbnz	r0, .L210
 728:Src/vl6180x_api.c **** 	}
 2879              		.loc 1 728 3 is_stmt 1 view .LVU1009
 2880 002c 6C82     		strh	r4, [r5, #18]	@ movhi
 730:Src/vl6180x_api.c **** 	return status;
 2881              		.loc 1 730 2 view .LVU1010
 731:Src/vl6180x_api.c **** }
 2882              		.loc 1 731 2 view .LVU1011
 2883              	.L210:
 732:Src/vl6180x_api.c **** 
 2884              		.loc 1 732 1 is_stmt 0 view .LVU1012
 2885 002e 38BD     		pop	{r3, r4, r5, pc}
 732:Src/vl6180x_api.c **** 
 2886              		.loc 1 732 1 view .LVU1013
 2887              		.cfi_endproc
 2888              	.LFE21:
 2890              		.section	.text.VL6180x_GetCachedDWord,"ax",%progbits
 2891              		.align	1
 2892              		.global	VL6180x_GetCachedDWord
 2893              		.syntax unified
 2894              		.thumb
 2895              		.thumb_func
 2896              		.fpu fpv4-sp-d16
 2898              	VL6180x_GetCachedDWord:
 2899              	.LVL313:
 2900              	.LFB23:
 799:Src/vl6180x_api.c **** 	int status;
 2901              		.loc 1 799 1 is_stmt 1 view -0
 2902              		.cfi_startproc
 2903              		@ args = 0, pretend = 0, frame = 0
 2904              		@ frame_needed = 0, uses_anonymous_args = 0
 799:Src/vl6180x_api.c **** 	int status;
 2905              		.loc 1 799 1 is_stmt 0 view .LVU1015
 2906 0000 08B5     		push	{r3, lr}
 2907              	.LCFI43:
 2908              		.cfi_def_cfa_offset 8
 2909              		.cfi_offset 3, -8
 2910              		.cfi_offset 14, -4
 800:Src/vl6180x_api.c **** 	uint32_t Value;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 106


 2911              		.loc 1 800 2 is_stmt 1 view .LVU1016
 801:Src/vl6180x_api.c **** 	if (VL6180xDevDataGet(dev, CacheFilled) != 0 &&
 2912              		.loc 1 801 2 view .LVU1017
 802:Src/vl6180x_api.c **** 		index >= VL6180x_FIRST_CACHED_INDEX  &&
 2913              		.loc 1 802 2 view .LVU1018
 802:Src/vl6180x_api.c **** 		index >= VL6180x_FIRST_CACHED_INDEX  &&
 2914              		.loc 1 802 6 is_stmt 0 view .LVU1019
 2915 0002 90F88030 		ldrb	r3, [r0, #128]	@ zero_extendqisi2
 802:Src/vl6180x_api.c **** 		index >= VL6180x_FIRST_CACHED_INDEX  &&
 2916              		.loc 1 802 5 view .LVU1020
 2917 0006 B3B1     		cbz	r3, .L217
 802:Src/vl6180x_api.c **** 		index >= VL6180x_FIRST_CACHED_INDEX  &&
 2918              		.loc 1 802 47 discriminator 1 view .LVU1021
 2919 0008 4C29     		cmp	r1, #76
 2920 000a 14D9     		bls	.L217
 803:Src/vl6180x_api.c **** 		index <= (VL6180x_LAST_CACHED_INDEX - 3)) {
 2921              		.loc 1 803 40 view .LVU1022
 2922 000c 8129     		cmp	r1, #129
 2923 000e 12D8     		bhi	.L217
 2924              	.LBB2:
 805:Src/vl6180x_api.c **** 		Value = ((uint32_t)pBytes[0] << 24) |
 2925              		.loc 1 805 3 is_stmt 1 view .LVU1023
 805:Src/vl6180x_api.c **** 		Value = ((uint32_t)pBytes[0] << 24) |
 2926              		.loc 1 805 22 is_stmt 0 view .LVU1024
 2927 0010 A1F14D03 		sub	r3, r1, #77
 805:Src/vl6180x_api.c **** 		Value = ((uint32_t)pBytes[0] << 24) |
 2928              		.loc 1 805 12 view .LVU1025
 2929 0014 3331     		adds	r1, r1, #51
 2930              	.LVL314:
 805:Src/vl6180x_api.c **** 		Value = ((uint32_t)pBytes[0] << 24) |
 2931              		.loc 1 805 12 view .LVU1026
 2932 0016 0144     		add	r1, r1, r0
 2933              	.LVL315:
 806:Src/vl6180x_api.c **** 				((uint32_t)pBytes[1] << 16) |
 2934              		.loc 1 806 3 is_stmt 1 view .LVU1027
 806:Src/vl6180x_api.c **** 				((uint32_t)pBytes[1] << 16) |
 2935              		.loc 1 806 28 is_stmt 0 view .LVU1028
 2936 0018 1844     		add	r0, r0, r3
 2937              	.LVL316:
 806:Src/vl6180x_api.c **** 				((uint32_t)pBytes[1] << 16) |
 2938              		.loc 1 806 28 view .LVU1029
 2939 001a 90F88100 		ldrb	r0, [r0, #129]	@ zero_extendqisi2
 807:Src/vl6180x_api.c **** 				((uint32_t)pBytes[2] << 8) |
 2940              		.loc 1 807 22 view .LVU1030
 2941 001e 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 807:Src/vl6180x_api.c **** 				((uint32_t)pBytes[2] << 8) |
 2942              		.loc 1 807 26 view .LVU1031
 2943 0020 1B04     		lsls	r3, r3, #16
 806:Src/vl6180x_api.c **** 				((uint32_t)pBytes[1] << 16) |
 2944              		.loc 1 806 39 view .LVU1032
 2945 0022 43EA0063 		orr	r3, r3, r0, lsl #24
 808:Src/vl6180x_api.c **** 				(uint32_t)pBytes[3];
 2946              		.loc 1 808 22 view .LVU1033
 2947 0026 C878     		ldrb	r0, [r1, #3]	@ zero_extendqisi2
 807:Src/vl6180x_api.c **** 				((uint32_t)pBytes[2] << 8) |
 2948              		.loc 1 807 33 view .LVU1034
 2949 0028 43EA0023 		orr	r3, r3, r0, lsl #8
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 107


 809:Src/vl6180x_api.c **** 		*pValue = Value;
 2950              		.loc 1 809 21 view .LVU1035
 2951 002c 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 2952              	.LVL317:
 806:Src/vl6180x_api.c **** 				((uint32_t)pBytes[1] << 16) |
 2953              		.loc 1 806 9 view .LVU1036
 2954 002e 0B43     		orrs	r3, r3, r1
 2955              	.LVL318:
 810:Src/vl6180x_api.c **** 		status = 0;
 2956              		.loc 1 810 3 is_stmt 1 view .LVU1037
 810:Src/vl6180x_api.c **** 		status = 0;
 2957              		.loc 1 810 11 is_stmt 0 view .LVU1038
 2958 0030 1360     		str	r3, [r2]
 811:Src/vl6180x_api.c **** 	} else {
 2959              		.loc 1 811 3 is_stmt 1 view .LVU1039
 2960              	.LVL319:
 811:Src/vl6180x_api.c **** 	} else {
 2961              		.loc 1 811 10 is_stmt 0 view .LVU1040
 2962 0032 0020     		movs	r0, #0
 2963              	.LBE2:
 804:Src/vl6180x_api.c **** 		uint8_t *pBytes = &VL6180xDevDataGet(dev, CachedRegs[index - VL6180x_FIRST_CACHED_INDEX]);
 2964              		.loc 1 804 45 view .LVU1041
 2965 0034 01E0     		b	.L216
 2966              	.LVL320:
 2967              	.L217:
 813:Src/vl6180x_api.c **** 	}
 2968              		.loc 1 813 3 is_stmt 1 view .LVU1042
 813:Src/vl6180x_api.c **** 	}
 2969              		.loc 1 813 13 is_stmt 0 view .LVU1043
 2970 0036 FFF7FEFF 		bl	VL6180x_RdDWord
 2971              	.LVL321:
 815:Src/vl6180x_api.c **** }
 2972              		.loc 1 815 2 is_stmt 1 view .LVU1044
 2973              	.L216:
 816:Src/vl6180x_api.c **** 
 2974              		.loc 1 816 1 is_stmt 0 view .LVU1045
 2975 003a 08BD     		pop	{r3, pc}
 2976              		.cfi_endproc
 2977              	.LFE23:
 2979              		.section	.text._GetRateResult,"ax",%progbits
 2980              		.align	1
 2981              		.syntax unified
 2982              		.thumb
 2983              		.thumb_func
 2984              		.fpu fpv4-sp-d16
 2986              	_GetRateResult:
 2987              	.LVL322:
 2988              	.LFB69:
2407:Src/vl6180x_api.c **** 
2408:Src/vl6180x_api.c **** 
2409:Src/vl6180x_api.c **** static int _filter_GetResult(VL6180xDev_t dev, VL6180x_RangeData_t *pRangeData)
2410:Src/vl6180x_api.c **** {
2411:Src/vl6180x_api.c **** 	uint32_t m_rawRange_mm = 0;
2412:Src/vl6180x_api.c **** 	int32_t  FilteredRange;
2413:Src/vl6180x_api.c **** 	const uint8_t scaler = _GetUpscale(dev);
2414:Src/vl6180x_api.c **** 	uint8_t u8;
2415:Src/vl6180x_api.c **** 	int status;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 108


2416:Src/vl6180x_api.c **** 
2417:Src/vl6180x_api.c **** 	do {
2418:Src/vl6180x_api.c **** 		status = VL6180x_GetCachedByte(dev, RESULT_RANGE_RAW, &u8);
2419:Src/vl6180x_api.c **** 		if (status) {
2420:Src/vl6180x_api.c **** 		    VL6180x_ErrLog("RESULT_RANGE_RAW rd fail");
2421:Src/vl6180x_api.c **** 		    break;
2422:Src/vl6180x_api.c **** 		}
2423:Src/vl6180x_api.c **** 		m_rawRange_mm = u8;
2424:Src/vl6180x_api.c **** 
2425:Src/vl6180x_api.c **** 		FilteredRange = _filter_Start(dev, pRangeData->range_mm, (m_rawRange_mm * scaler), pRangeData->rt
2426:Src/vl6180x_api.c **** 		if (FilteredRange < 0) {
2427:Src/vl6180x_api.c **** 		    status = -1;
2428:Src/vl6180x_api.c **** 		    break;
2429:Src/vl6180x_api.c **** 		}
2430:Src/vl6180x_api.c **** 		pRangeData->FilteredData.range_mm = FilteredRange;
2431:Src/vl6180x_api.c **** 		pRangeData->FilteredData.rawRange_mm = m_rawRange_mm * scaler;
2432:Src/vl6180x_api.c **** 		pRangeData->FilteredData.filterError= _FilterData(filterError);
2433:Src/vl6180x_api.c **** 	} while (0);
2434:Src/vl6180x_api.c **** 	return status;
2435:Src/vl6180x_api.c **** }
2436:Src/vl6180x_api.c **** 
2437:Src/vl6180x_api.c **** #undef _FilterData
2438:Src/vl6180x_api.c **** #ifdef PRESERVE_DEVICE_ERROR_CODE
2439:Src/vl6180x_api.c **** #undef PRESERVE_DEVICE_ERROR_CODE
2440:Src/vl6180x_api.c **** #endif
2441:Src/vl6180x_api.c **** #ifdef SENSITIVE_FILTERING_ON_GOING
2442:Src/vl6180x_api.c **** #undef SENSITIVE_FILTERING_ON_GOING
2443:Src/vl6180x_api.c **** #endif
2444:Src/vl6180x_api.c **** #undef FILTER_STDDEV_SAMPLES
2445:Src/vl6180x_api.c **** #undef MIN_FILTER_STDDEV_SAMPLES
2446:Src/vl6180x_api.c **** #undef MIN_FILTER_STDDEV_SAMPLES_AFTER_FLUSH_OR_BYPASS
2447:Src/vl6180x_api.c **** #undef STDDEV_BASE_VALUE
2448:Src/vl6180x_api.c **** #undef FILTER_INVALID_DISTANCE
2449:Src/vl6180x_api.c **** 
2450:Src/vl6180x_api.c **** #endif /* VL6180x_WRAP_AROUND_FILTER_SUPPORT */
2451:Src/vl6180x_api.c **** 
2452:Src/vl6180x_api.c **** #ifdef VL6180x_HAVE_RATE_DATA
2453:Src/vl6180x_api.c **** 
2454:Src/vl6180x_api.c **** static int _GetRateResult(VL6180xDev_t dev, VL6180x_RangeData_t *pRangeData)
2455:Src/vl6180x_api.c **** {
 2989              		.loc 1 2455 1 is_stmt 1 view -0
 2990              		.cfi_startproc
 2991              		@ args = 0, pretend = 0, frame = 16
 2992              		@ frame_needed = 0, uses_anonymous_args = 0
 2993              		.loc 1 2455 1 is_stmt 0 view .LVU1047
 2994 0000 30B5     		push	{r4, r5, lr}
 2995              	.LCFI44:
 2996              		.cfi_def_cfa_offset 12
 2997              		.cfi_offset 4, -12
 2998              		.cfi_offset 5, -8
 2999              		.cfi_offset 14, -4
 3000 0002 85B0     		sub	sp, sp, #20
 3001              	.LCFI45:
 3002              		.cfi_def_cfa_offset 32
 3003 0004 0546     		mov	r5, r0
 3004 0006 0C46     		mov	r4, r1
2456:Src/vl6180x_api.c **** 	uint32_t m_rtnConvTime = 0;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 109


 3005              		.loc 1 2456 2 is_stmt 1 view .LVU1048
 3006              		.loc 1 2456 11 is_stmt 0 view .LVU1049
 3007 0008 0023     		movs	r3, #0
 3008 000a 0393     		str	r3, [sp, #12]
2457:Src/vl6180x_api.c **** 	uint32_t m_rtnSignalRate = 0;
 3009              		.loc 1 2457 2 is_stmt 1 view .LVU1050
 3010              	.LVL323:
2458:Src/vl6180x_api.c **** 	uint32_t m_rtnAmbientRate = 0;
 3011              		.loc 1 2458 2 view .LVU1051
2459:Src/vl6180x_api.c **** 	uint32_t m_rtnSignalCount = 0;
 3012              		.loc 1 2459 2 view .LVU1052
 3013              		.loc 1 2459 11 is_stmt 0 view .LVU1053
 3014 000c 0293     		str	r3, [sp, #8]
2460:Src/vl6180x_api.c **** 	uint32_t m_rtnAmbientCount = 0;
 3015              		.loc 1 2460 2 is_stmt 1 view .LVU1054
 3016              		.loc 1 2460 11 is_stmt 0 view .LVU1055
 3017 000e 0193     		str	r3, [sp, #4]
2461:Src/vl6180x_api.c **** 	uint32_t m_refConvTime = 0;
 3018              		.loc 1 2461 2 is_stmt 1 view .LVU1056
 3019              		.loc 1 2461 11 is_stmt 0 view .LVU1057
 3020 0010 0093     		str	r3, [sp]
2462:Src/vl6180x_api.c **** 	uint32_t cRtnSignalCountMax = 0x7FFFFFFF;
 3021              		.loc 1 2462 2 is_stmt 1 view .LVU1058
 3022              	.LVL324:
2463:Src/vl6180x_api.c **** 	uint32_t cDllPeriods = 6;
 3023              		.loc 1 2463 2 view .LVU1059
2464:Src/vl6180x_api.c **** 	uint32_t calcConvTime = 0;
 3024              		.loc 1 2464 2 view .LVU1060
2465:Src/vl6180x_api.c **** 
2466:Src/vl6180x_api.c **** 	int status;
 3025              		.loc 1 2466 2 view .LVU1061
2467:Src/vl6180x_api.c **** 
2468:Src/vl6180x_api.c **** 	do {
 3026              		.loc 1 2468 2 view .LVU1062
2469:Src/vl6180x_api.c **** 		status = VL6180x_GetCachedDWord(dev, RESULT_RANGE_RETURN_SIGNAL_COUNT, &m_rtnSignalCount);
 3027              		.loc 1 2469 3 view .LVU1063
 3028              		.loc 1 2469 12 is_stmt 0 view .LVU1064
 3029 0012 02AA     		add	r2, sp, #8
 3030 0014 6C21     		movs	r1, #108
 3031              	.LVL325:
 3032              		.loc 1 2469 12 view .LVU1065
 3033 0016 FFF7FEFF 		bl	VL6180x_GetCachedDWord
 3034              	.LVL326:
2470:Src/vl6180x_api.c **** 		if (status) {
 3035              		.loc 1 2470 3 is_stmt 1 view .LVU1066
 3036              		.loc 1 2470 6 is_stmt 0 view .LVU1067
 3037 001a 40B9     		cbnz	r0, .L220
2471:Src/vl6180x_api.c **** 			VL6180x_ErrLog("RESULT_RANGE_RETURN_SIGNAL_COUNT rd fail");
2472:Src/vl6180x_api.c **** 			break;
2473:Src/vl6180x_api.c **** 		}
2474:Src/vl6180x_api.c **** 		if (m_rtnSignalCount > cRtnSignalCountMax) {
 3038              		.loc 1 2474 3 is_stmt 1 view .LVU1068
 3039              		.loc 1 2474 24 is_stmt 0 view .LVU1069
 3040 001c 029B     		ldr	r3, [sp, #8]
 3041              		.loc 1 2474 6 view .LVU1070
 3042 001e 002B     		cmp	r3, #0
 3043 0020 07DB     		blt	.L227
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 110


 3044              	.L222:
2475:Src/vl6180x_api.c **** 			m_rtnSignalCount = 0;
2476:Src/vl6180x_api.c **** 		}
2477:Src/vl6180x_api.c **** 
2478:Src/vl6180x_api.c **** 		status = VL6180x_GetCachedDWord(dev, RESULT_RANGE_RETURN_AMB_COUNT, &m_rtnAmbientCount);
 3045              		.loc 1 2478 3 is_stmt 1 view .LVU1071
 3046              		.loc 1 2478 12 is_stmt 0 view .LVU1072
 3047 0022 01AA     		add	r2, sp, #4
 3048 0024 7421     		movs	r1, #116
 3049 0026 2846     		mov	r0, r5
 3050 0028 FFF7FEFF 		bl	VL6180x_GetCachedDWord
 3051              	.LVL327:
2479:Src/vl6180x_api.c **** 		if (status) {
 3052              		.loc 1 2479 3 is_stmt 1 view .LVU1073
 3053              		.loc 1 2479 6 is_stmt 0 view .LVU1074
 3054 002c 20B1     		cbz	r0, .L228
 3055              	.LVL328:
 3056              	.L220:
2480:Src/vl6180x_api.c **** 			VL6180x_ErrLog("RESULT_RANGE_RETURN_AMB_COUNTrd fail");
2481:Src/vl6180x_api.c **** 			break;
2482:Src/vl6180x_api.c **** 		}
2483:Src/vl6180x_api.c **** 
2484:Src/vl6180x_api.c **** 
2485:Src/vl6180x_api.c **** 		status = VL6180x_GetCachedDWord(dev, RESULT_RANGE_RETURN_CONV_TIME, &m_rtnConvTime);
2486:Src/vl6180x_api.c **** 		if (status) {
2487:Src/vl6180x_api.c **** 			VL6180x_ErrLog("RESULT_RANGE_RETURN_CONV_TIME rd fail");
2488:Src/vl6180x_api.c **** 			break;
2489:Src/vl6180x_api.c **** 		}
2490:Src/vl6180x_api.c **** 
2491:Src/vl6180x_api.c **** 		status = VL6180x_GetCachedDWord(dev, RESULT_RANGE_REFERENCE_CONV_TIME, &m_refConvTime);
2492:Src/vl6180x_api.c **** 		if (status) {
2493:Src/vl6180x_api.c **** 			VL6180x_ErrLog("RESULT_RANGE_REFERENCE_CONV_TIME rd fail");
2494:Src/vl6180x_api.c **** 			break;
2495:Src/vl6180x_api.c **** 		}
2496:Src/vl6180x_api.c **** 
2497:Src/vl6180x_api.c **** 		pRangeData->rtnConvTime = m_rtnConvTime;
2498:Src/vl6180x_api.c **** 		pRangeData->refConvTime = m_refConvTime;
2499:Src/vl6180x_api.c **** 
2500:Src/vl6180x_api.c **** 		calcConvTime = m_refConvTime;
2501:Src/vl6180x_api.c **** 		if (m_rtnConvTime > m_refConvTime) {
2502:Src/vl6180x_api.c **** 			calcConvTime = m_rtnConvTime;
2503:Src/vl6180x_api.c **** 		}
2504:Src/vl6180x_api.c **** 		if (calcConvTime == 0)
2505:Src/vl6180x_api.c **** 			calcConvTime = 63000;
2506:Src/vl6180x_api.c **** 
2507:Src/vl6180x_api.c **** 		m_rtnSignalRate = (m_rtnSignalCount * 1000) / calcConvTime;
2508:Src/vl6180x_api.c **** 		m_rtnAmbientRate = (m_rtnAmbientCount * cDllPeriods * 1000) / calcConvTime;
2509:Src/vl6180x_api.c **** 
2510:Src/vl6180x_api.c **** 		pRangeData->rtnRate = m_rtnSignalRate;
2511:Src/vl6180x_api.c **** 		pRangeData->rtnAmbRate = m_rtnAmbientRate;
2512:Src/vl6180x_api.c **** 
2513:Src/vl6180x_api.c **** 
2514:Src/vl6180x_api.c **** 	} while (0);
2515:Src/vl6180x_api.c **** 	return status;
2516:Src/vl6180x_api.c **** }
 3057              		.loc 1 2516 1 view .LVU1075
 3058 002e 05B0     		add	sp, sp, #20
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 111


 3059              	.LCFI46:
 3060              		.cfi_remember_state
 3061              		.cfi_def_cfa_offset 12
 3062              		@ sp needed
 3063 0030 30BD     		pop	{r4, r5, pc}
 3064              	.LVL329:
 3065              	.L227:
 3066              	.LCFI47:
 3067              		.cfi_restore_state
2475:Src/vl6180x_api.c **** 		}
 3068              		.loc 1 2475 4 is_stmt 1 view .LVU1076
2475:Src/vl6180x_api.c **** 		}
 3069              		.loc 1 2475 21 is_stmt 0 view .LVU1077
 3070 0032 0023     		movs	r3, #0
 3071              	.LVL330:
2475:Src/vl6180x_api.c **** 		}
 3072              		.loc 1 2475 21 view .LVU1078
 3073 0034 0293     		str	r3, [sp, #8]
 3074 0036 F4E7     		b	.L222
 3075              	.LVL331:
 3076              	.L228:
2485:Src/vl6180x_api.c **** 		if (status) {
 3077              		.loc 1 2485 3 is_stmt 1 view .LVU1079
2485:Src/vl6180x_api.c **** 		if (status) {
 3078              		.loc 1 2485 12 is_stmt 0 view .LVU1080
 3079 0038 03AA     		add	r2, sp, #12
 3080 003a 7C21     		movs	r1, #124
 3081 003c 2846     		mov	r0, r5
 3082              	.LVL332:
2485:Src/vl6180x_api.c **** 		if (status) {
 3083              		.loc 1 2485 12 view .LVU1081
 3084 003e FFF7FEFF 		bl	VL6180x_GetCachedDWord
 3085              	.LVL333:
2486:Src/vl6180x_api.c **** 			VL6180x_ErrLog("RESULT_RANGE_RETURN_CONV_TIME rd fail");
 3086              		.loc 1 2486 3 is_stmt 1 view .LVU1082
2486:Src/vl6180x_api.c **** 			VL6180x_ErrLog("RESULT_RANGE_RETURN_CONV_TIME rd fail");
 3087              		.loc 1 2486 6 is_stmt 0 view .LVU1083
 3088 0042 0028     		cmp	r0, #0
 3089 0044 F3D1     		bne	.L220
2491:Src/vl6180x_api.c **** 		if (status) {
 3090              		.loc 1 2491 3 is_stmt 1 view .LVU1084
2491:Src/vl6180x_api.c **** 		if (status) {
 3091              		.loc 1 2491 12 is_stmt 0 view .LVU1085
 3092 0046 6A46     		mov	r2, sp
 3093 0048 8021     		movs	r1, #128
 3094 004a 2846     		mov	r0, r5
 3095              	.LVL334:
2491:Src/vl6180x_api.c **** 		if (status) {
 3096              		.loc 1 2491 12 view .LVU1086
 3097 004c FFF7FEFF 		bl	VL6180x_GetCachedDWord
 3098              	.LVL335:
2492:Src/vl6180x_api.c **** 			VL6180x_ErrLog("RESULT_RANGE_REFERENCE_CONV_TIME rd fail");
 3099              		.loc 1 2492 3 is_stmt 1 view .LVU1087
2492:Src/vl6180x_api.c **** 			VL6180x_ErrLog("RESULT_RANGE_REFERENCE_CONV_TIME rd fail");
 3100              		.loc 1 2492 6 is_stmt 0 view .LVU1088
 3101 0050 0028     		cmp	r0, #0
 3102 0052 ECD1     		bne	.L220
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 112


2497:Src/vl6180x_api.c **** 		pRangeData->refConvTime = m_refConvTime;
 3103              		.loc 1 2497 3 is_stmt 1 view .LVU1089
2497:Src/vl6180x_api.c **** 		pRangeData->refConvTime = m_refConvTime;
 3104              		.loc 1 2497 27 is_stmt 0 view .LVU1090
 3105 0054 039B     		ldr	r3, [sp, #12]
 3106 0056 6361     		str	r3, [r4, #20]
2498:Src/vl6180x_api.c **** 
 3107              		.loc 1 2498 3 is_stmt 1 view .LVU1091
2498:Src/vl6180x_api.c **** 
 3108              		.loc 1 2498 27 is_stmt 0 view .LVU1092
 3109 0058 009A     		ldr	r2, [sp]
 3110 005a A261     		str	r2, [r4, #24]
2500:Src/vl6180x_api.c **** 		if (m_rtnConvTime > m_refConvTime) {
 3111              		.loc 1 2500 3 is_stmt 1 view .LVU1093
 3112              	.LVL336:
2501:Src/vl6180x_api.c **** 			calcConvTime = m_rtnConvTime;
 3113              		.loc 1 2501 3 view .LVU1094
2501:Src/vl6180x_api.c **** 			calcConvTime = m_rtnConvTime;
 3114              		.loc 1 2501 6 is_stmt 0 view .LVU1095
 3115 005c 9342     		cmp	r3, r2
 3116 005e 00D8     		bhi	.L223
2500:Src/vl6180x_api.c **** 		if (m_rtnConvTime > m_refConvTime) {
 3117              		.loc 1 2500 16 view .LVU1096
 3118 0060 1346     		mov	r3, r2
 3119              	.L223:
 3120              	.LVL337:
2504:Src/vl6180x_api.c **** 			calcConvTime = 63000;
 3121              		.loc 1 2504 3 is_stmt 1 view .LVU1097
2504:Src/vl6180x_api.c **** 			calcConvTime = 63000;
 3122              		.loc 1 2504 6 is_stmt 0 view .LVU1098
 3123 0062 0BB9     		cbnz	r3, .L224
2505:Src/vl6180x_api.c **** 
 3124              		.loc 1 2505 17 view .LVU1099
 3125 0064 4FF21863 		movw	r3, #63000
 3126              	.LVL338:
 3127              	.L224:
2507:Src/vl6180x_api.c **** 		m_rtnAmbientRate = (m_rtnAmbientCount * cDllPeriods * 1000) / calcConvTime;
 3128              		.loc 1 2507 3 is_stmt 1 view .LVU1100
2507:Src/vl6180x_api.c **** 		m_rtnAmbientRate = (m_rtnAmbientCount * cDllPeriods * 1000) / calcConvTime;
 3129              		.loc 1 2507 39 is_stmt 0 view .LVU1101
 3130 0068 029A     		ldr	r2, [sp, #8]
 3131 006a 4FF47A71 		mov	r1, #1000
 3132 006e 01FB02F1 		mul	r1, r1, r2
2507:Src/vl6180x_api.c **** 		m_rtnAmbientRate = (m_rtnAmbientCount * cDllPeriods * 1000) / calcConvTime;
 3133              		.loc 1 2507 19 view .LVU1102
 3134 0072 B1FBF3F1 		udiv	r1, r1, r3
 3135              	.LVL339:
2508:Src/vl6180x_api.c **** 
 3136              		.loc 1 2508 3 is_stmt 1 view .LVU1103
2508:Src/vl6180x_api.c **** 
 3137              		.loc 1 2508 55 is_stmt 0 view .LVU1104
 3138 0076 019D     		ldr	r5, [sp, #4]
 3139              	.LVL340:
2508:Src/vl6180x_api.c **** 
 3140              		.loc 1 2508 55 view .LVU1105
 3141 0078 41F27072 		movw	r2, #6000
 3142 007c 02FB05F2 		mul	r2, r2, r5
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 113


2508:Src/vl6180x_api.c **** 
 3143              		.loc 1 2508 20 view .LVU1106
 3144 0080 B2FBF3F3 		udiv	r3, r2, r3
 3145              	.LVL341:
2510:Src/vl6180x_api.c **** 		pRangeData->rtnAmbRate = m_rtnAmbientRate;
 3146              		.loc 1 2510 3 is_stmt 1 view .LVU1107
2510:Src/vl6180x_api.c **** 		pRangeData->rtnAmbRate = m_rtnAmbientRate;
 3147              		.loc 1 2510 23 is_stmt 0 view .LVU1108
 3148 0084 2161     		str	r1, [r4, #16]
2511:Src/vl6180x_api.c **** 
 3149              		.loc 1 2511 3 is_stmt 1 view .LVU1109
2511:Src/vl6180x_api.c **** 
 3150              		.loc 1 2511 26 is_stmt 0 view .LVU1110
 3151 0086 E360     		str	r3, [r4, #12]
2514:Src/vl6180x_api.c **** 	return status;
 3152              		.loc 1 2514 10 is_stmt 1 view .LVU1111
2515:Src/vl6180x_api.c **** }
 3153              		.loc 1 2515 2 view .LVU1112
2515:Src/vl6180x_api.c **** }
 3154              		.loc 1 2515 9 is_stmt 0 view .LVU1113
 3155 0088 D1E7     		b	.L220
 3156              		.cfi_endproc
 3157              	.LFE69:
 3159              		.section	.text.VL6180x_GetCachedWord,"ax",%progbits
 3160              		.align	1
 3161              		.global	VL6180x_GetCachedWord
 3162              		.syntax unified
 3163              		.thumb
 3164              		.thumb_func
 3165              		.fpu fpv4-sp-d16
 3167              	VL6180x_GetCachedWord:
 3168              	.LVL342:
 3169              	.LFB24:
 819:Src/vl6180x_api.c **** 	int status;
 3170              		.loc 1 819 1 is_stmt 1 view -0
 3171              		.cfi_startproc
 3172              		@ args = 0, pretend = 0, frame = 0
 3173              		@ frame_needed = 0, uses_anonymous_args = 0
 819:Src/vl6180x_api.c **** 	int status;
 3174              		.loc 1 819 1 is_stmt 0 view .LVU1115
 3175 0000 08B5     		push	{r3, lr}
 3176              	.LCFI48:
 3177              		.cfi_def_cfa_offset 8
 3178              		.cfi_offset 3, -8
 3179              		.cfi_offset 14, -4
 820:Src/vl6180x_api.c **** 	uint32_t Value;
 3180              		.loc 1 820 2 is_stmt 1 view .LVU1116
 821:Src/vl6180x_api.c **** 	if (VL6180xDevDataGet(dev, CacheFilled) != 0 &&
 3181              		.loc 1 821 2 view .LVU1117
 822:Src/vl6180x_api.c **** 		index >= VL6180x_FIRST_CACHED_INDEX  &&
 3182              		.loc 1 822 2 view .LVU1118
 822:Src/vl6180x_api.c **** 		index >= VL6180x_FIRST_CACHED_INDEX  &&
 3183              		.loc 1 822 6 is_stmt 0 view .LVU1119
 3184 0002 90F88030 		ldrb	r3, [r0, #128]	@ zero_extendqisi2
 822:Src/vl6180x_api.c **** 		index >= VL6180x_FIRST_CACHED_INDEX  &&
 3185              		.loc 1 822 5 view .LVU1120
 3186 0006 83B1     		cbz	r3, .L230
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 114


 822:Src/vl6180x_api.c **** 		index >= VL6180x_FIRST_CACHED_INDEX  &&
 3187              		.loc 1 822 47 discriminator 1 view .LVU1121
 3188 0008 4C29     		cmp	r1, #76
 3189 000a 0ED9     		bls	.L230
 823:Src/vl6180x_api.c **** 		index <= (VL6180x_LAST_CACHED_INDEX - 1)) {
 3190              		.loc 1 823 40 view .LVU1122
 3191 000c 8329     		cmp	r1, #131
 3192 000e 0CD8     		bhi	.L230
 3193              	.LBB3:
 825:Src/vl6180x_api.c **** 		Value = ((uint32_t)pBytes[0] << 8) | (uint32_t)pBytes[1];
 3194              		.loc 1 825 3 is_stmt 1 view .LVU1123
 825:Src/vl6180x_api.c **** 		Value = ((uint32_t)pBytes[0] << 8) | (uint32_t)pBytes[1];
 3195              		.loc 1 825 22 is_stmt 0 view .LVU1124
 3196 0010 A1F14D03 		sub	r3, r1, #77
 825:Src/vl6180x_api.c **** 		Value = ((uint32_t)pBytes[0] << 8) | (uint32_t)pBytes[1];
 3197              		.loc 1 825 12 view .LVU1125
 3198 0014 3331     		adds	r1, r1, #51
 3199              	.LVL343:
 825:Src/vl6180x_api.c **** 		Value = ((uint32_t)pBytes[0] << 8) | (uint32_t)pBytes[1];
 3200              		.loc 1 825 12 view .LVU1126
 3201 0016 0144     		add	r1, r1, r0
 3202              	.LVL344:
 826:Src/vl6180x_api.c **** 		*pValue = Value;
 3203              		.loc 1 826 3 is_stmt 1 view .LVU1127
 826:Src/vl6180x_api.c **** 		*pValue = Value;
 3204              		.loc 1 826 28 is_stmt 0 view .LVU1128
 3205 0018 1844     		add	r0, r0, r3
 3206              	.LVL345:
 826:Src/vl6180x_api.c **** 		*pValue = Value;
 3207              		.loc 1 826 28 view .LVU1129
 3208 001a 90F88100 		ldrb	r0, [r0, #129]	@ zero_extendqisi2
 826:Src/vl6180x_api.c **** 		*pValue = Value;
 3209              		.loc 1 826 56 view .LVU1130
 3210 001e 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 826:Src/vl6180x_api.c **** 		*pValue = Value;
 3211              		.loc 1 826 9 view .LVU1131
 3212 0020 43EA0023 		orr	r3, r3, r0, lsl #8
 3213              	.LVL346:
 827:Src/vl6180x_api.c **** 		status = 0;
 3214              		.loc 1 827 3 is_stmt 1 view .LVU1132
 827:Src/vl6180x_api.c **** 		status = 0;
 3215              		.loc 1 827 11 is_stmt 0 view .LVU1133
 3216 0024 1380     		strh	r3, [r2]	@ movhi
 828:Src/vl6180x_api.c **** 	} else {
 3217              		.loc 1 828 3 is_stmt 1 view .LVU1134
 3218              	.LVL347:
 828:Src/vl6180x_api.c **** 	} else {
 3219              		.loc 1 828 10 is_stmt 0 view .LVU1135
 3220 0026 0020     		movs	r0, #0
 3221              	.LBE3:
 824:Src/vl6180x_api.c **** 		uint8_t *pBytes = &VL6180xDevDataGet(dev, CachedRegs[index - VL6180x_FIRST_CACHED_INDEX]);
 3222              		.loc 1 824 45 view .LVU1136
 3223 0028 01E0     		b	.L229
 3224              	.LVL348:
 3225              	.L230:
 830:Src/vl6180x_api.c **** 	}
 3226              		.loc 1 830 3 is_stmt 1 view .LVU1137
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 115


 830:Src/vl6180x_api.c **** 	}
 3227              		.loc 1 830 13 is_stmt 0 view .LVU1138
 3228 002a FFF7FEFF 		bl	VL6180x_RdWord
 3229              	.LVL349:
 832:Src/vl6180x_api.c **** }
 3230              		.loc 1 832 2 is_stmt 1 view .LVU1139
 3231              	.L229:
 833:Src/vl6180x_api.c **** 
 3232              		.loc 1 833 1 is_stmt 0 view .LVU1140
 3233 002e 08BD     		pop	{r3, pc}
 3234              		.cfi_endproc
 3235              	.LFE24:
 3237              		.section	.text.VL6180x_GetCachedByte,"ax",%progbits
 3238              		.align	1
 3239              		.global	VL6180x_GetCachedByte
 3240              		.syntax unified
 3241              		.thumb
 3242              		.thumb_func
 3243              		.fpu fpv4-sp-d16
 3245              	VL6180x_GetCachedByte:
 3246              	.LVL350:
 3247              	.LFB25:
 836:Src/vl6180x_api.c **** 	int status;
 3248              		.loc 1 836 1 is_stmt 1 view -0
 3249              		.cfi_startproc
 3250              		@ args = 0, pretend = 0, frame = 0
 3251              		@ frame_needed = 0, uses_anonymous_args = 0
 836:Src/vl6180x_api.c **** 	int status;
 3252              		.loc 1 836 1 is_stmt 0 view .LVU1142
 3253 0000 08B5     		push	{r3, lr}
 3254              	.LCFI49:
 3255              		.cfi_def_cfa_offset 8
 3256              		.cfi_offset 3, -8
 3257              		.cfi_offset 14, -4
 837:Src/vl6180x_api.c **** 	uint8_t Value;
 3258              		.loc 1 837 2 is_stmt 1 view .LVU1143
 838:Src/vl6180x_api.c **** 	if (VL6180xDevDataGet(dev, CacheFilled) != 0 &&
 3259              		.loc 1 838 2 view .LVU1144
 839:Src/vl6180x_api.c **** 		index >= VL6180x_FIRST_CACHED_INDEX &&
 3260              		.loc 1 839 2 view .LVU1145
 839:Src/vl6180x_api.c **** 		index >= VL6180x_FIRST_CACHED_INDEX &&
 3261              		.loc 1 839 6 is_stmt 0 view .LVU1146
 3262 0002 90F88030 		ldrb	r3, [r0, #128]	@ zero_extendqisi2
 839:Src/vl6180x_api.c **** 		index >= VL6180x_FIRST_CACHED_INDEX &&
 3263              		.loc 1 839 5 view .LVU1147
 3264 0006 53B1     		cbz	r3, .L234
 839:Src/vl6180x_api.c **** 		index >= VL6180x_FIRST_CACHED_INDEX &&
 3265              		.loc 1 839 47 discriminator 1 view .LVU1148
 3266 0008 4C29     		cmp	r1, #76
 3267 000a 08D9     		bls	.L234
 840:Src/vl6180x_api.c **** 		index <= VL6180x_LAST_CACHED_INDEX) {
 3268              		.loc 1 840 39 view .LVU1149
 3269 000c 8429     		cmp	r1, #132
 3270 000e 06D8     		bhi	.L234
 842:Src/vl6180x_api.c **** 		*pValue = Value;
 3271              		.loc 1 842 3 is_stmt 1 view .LVU1150
 842:Src/vl6180x_api.c **** 		*pValue = Value;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 116


 3272              		.loc 1 842 11 is_stmt 0 view .LVU1151
 3273 0010 4D39     		subs	r1, r1, #77
 3274              	.LVL351:
 842:Src/vl6180x_api.c **** 		*pValue = Value;
 3275              		.loc 1 842 9 view .LVU1152
 3276 0012 0144     		add	r1, r1, r0
 3277 0014 91F88130 		ldrb	r3, [r1, #129]	@ zero_extendqisi2
 3278              	.LVL352:
 843:Src/vl6180x_api.c **** 		status = 0;
 3279              		.loc 1 843 3 is_stmt 1 view .LVU1153
 843:Src/vl6180x_api.c **** 		status = 0;
 3280              		.loc 1 843 11 is_stmt 0 view .LVU1154
 3281 0018 1370     		strb	r3, [r2]
 844:Src/vl6180x_api.c **** 	} else {
 3282              		.loc 1 844 3 is_stmt 1 view .LVU1155
 3283              	.LVL353:
 844:Src/vl6180x_api.c **** 	} else {
 3284              		.loc 1 844 10 is_stmt 0 view .LVU1156
 3285 001a 0020     		movs	r0, #0
 3286              	.LVL354:
 844:Src/vl6180x_api.c **** 	} else {
 3287              		.loc 1 844 10 view .LVU1157
 3288 001c 01E0     		b	.L233
 3289              	.LVL355:
 3290              	.L234:
 846:Src/vl6180x_api.c **** 	}
 3291              		.loc 1 846 3 is_stmt 1 view .LVU1158
 846:Src/vl6180x_api.c **** 	}
 3292              		.loc 1 846 13 is_stmt 0 view .LVU1159
 3293 001e FFF7FEFF 		bl	VL6180x_RdByte
 3294              	.LVL356:
 848:Src/vl6180x_api.c **** }
 3295              		.loc 1 848 2 is_stmt 1 view .LVU1160
 3296              	.L233:
 849:Src/vl6180x_api.c **** 
 3297              		.loc 1 849 1 is_stmt 0 view .LVU1161
 3298 0022 08BD     		pop	{r3, pc}
 3299              		.cfi_endproc
 3300              	.LFE25:
 3302              		.section	.text._filter_GetResult,"ax",%progbits
 3303              		.align	1
 3304              		.syntax unified
 3305              		.thumb
 3306              		.thumb_func
 3307              		.fpu fpv4-sp-d16
 3309              	_filter_GetResult:
 3310              	.LVL357:
 3311              	.LFB68:
2410:Src/vl6180x_api.c **** 	uint32_t m_rawRange_mm = 0;
 3312              		.loc 1 2410 1 is_stmt 1 view -0
 3313              		.cfi_startproc
 3314              		@ args = 0, pretend = 0, frame = 8
 3315              		@ frame_needed = 0, uses_anonymous_args = 0
2410:Src/vl6180x_api.c **** 	uint32_t m_rawRange_mm = 0;
 3316              		.loc 1 2410 1 is_stmt 0 view .LVU1163
 3317 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 3318              	.LCFI50:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 117


 3319              		.cfi_def_cfa_offset 20
 3320              		.cfi_offset 4, -20
 3321              		.cfi_offset 5, -16
 3322              		.cfi_offset 6, -12
 3323              		.cfi_offset 7, -8
 3324              		.cfi_offset 14, -4
 3325 0002 85B0     		sub	sp, sp, #20
 3326              	.LCFI51:
 3327              		.cfi_def_cfa_offset 40
 3328 0004 0746     		mov	r7, r0
 3329 0006 0C46     		mov	r4, r1
2411:Src/vl6180x_api.c **** 	int32_t  FilteredRange;
 3330              		.loc 1 2411 2 is_stmt 1 view .LVU1164
 3331              	.LVL358:
2412:Src/vl6180x_api.c **** 	const uint8_t scaler = _GetUpscale(dev);
 3332              		.loc 1 2412 2 view .LVU1165
2413:Src/vl6180x_api.c **** 	uint8_t u8;
 3333              		.loc 1 2413 2 view .LVU1166
2413:Src/vl6180x_api.c **** 	uint8_t u8;
 3334              		.loc 1 2413 16 is_stmt 0 view .LVU1167
 3335 0008 057E     		ldrb	r5, [r0, #24]	@ zero_extendqisi2
 3336              	.LVL359:
2414:Src/vl6180x_api.c **** 	int status;
 3337              		.loc 1 2414 2 is_stmt 1 view .LVU1168
2415:Src/vl6180x_api.c **** 
 3338              		.loc 1 2415 2 view .LVU1169
2417:Src/vl6180x_api.c **** 		status = VL6180x_GetCachedByte(dev, RESULT_RANGE_RAW, &u8);
 3339              		.loc 1 2417 2 view .LVU1170
2418:Src/vl6180x_api.c **** 		if (status) {
 3340              		.loc 1 2418 3 view .LVU1171
2418:Src/vl6180x_api.c **** 		if (status) {
 3341              		.loc 1 2418 12 is_stmt 0 view .LVU1172
 3342 000a 0DF10F02 		add	r2, sp, #15
 3343 000e 6421     		movs	r1, #100
 3344              	.LVL360:
2418:Src/vl6180x_api.c **** 		if (status) {
 3345              		.loc 1 2418 12 view .LVU1173
 3346 0010 FFF7FEFF 		bl	VL6180x_GetCachedByte
 3347              	.LVL361:
2419:Src/vl6180x_api.c **** 		    VL6180x_ErrLog("RESULT_RANGE_RAW rd fail");
 3348              		.loc 1 2419 3 is_stmt 1 view .LVU1174
2419:Src/vl6180x_api.c **** 		    VL6180x_ErrLog("RESULT_RANGE_RAW rd fail");
 3349              		.loc 1 2419 6 is_stmt 0 view .LVU1175
 3350 0014 0646     		mov	r6, r0
 3351 0016 10B1     		cbz	r0, .L241
 3352              	.LVL362:
 3353              	.L237:
2435:Src/vl6180x_api.c **** 
 3354              		.loc 1 2435 1 view .LVU1176
 3355 0018 3046     		mov	r0, r6
 3356 001a 05B0     		add	sp, sp, #20
 3357              	.LCFI52:
 3358              		.cfi_remember_state
 3359              		.cfi_def_cfa_offset 20
 3360              		@ sp needed
 3361 001c F0BD     		pop	{r4, r5, r6, r7, pc}
 3362              	.LVL363:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 118


 3363              	.L241:
 3364              	.LCFI53:
 3365              		.cfi_restore_state
2423:Src/vl6180x_api.c **** 
 3366              		.loc 1 2423 3 is_stmt 1 view .LVU1177
2423:Src/vl6180x_api.c **** 
 3367              		.loc 1 2423 17 is_stmt 0 view .LVU1178
 3368 001e 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 3369              	.LVL364:
2425:Src/vl6180x_api.c **** 		if (FilteredRange < 0) {
 3370              		.loc 1 2425 3 is_stmt 1 view .LVU1179
2425:Src/vl6180x_api.c **** 		if (FilteredRange < 0) {
 3371              		.loc 1 2425 19 is_stmt 0 view .LVU1180
 3372 0022 05FB03F5 		mul	r5, r5, r3
 3373              	.LVL365:
2425:Src/vl6180x_api.c **** 		if (FilteredRange < 0) {
 3374              		.loc 1 2425 19 view .LVU1181
 3375 0026 2389     		ldrh	r3, [r4, #8]
 3376              	.LVL366:
2425:Src/vl6180x_api.c **** 		if (FilteredRange < 0) {
 3377              		.loc 1 2425 19 view .LVU1182
 3378 0028 0193     		str	r3, [sp, #4]
 3379 002a E368     		ldr	r3, [r4, #12]
 3380 002c 0093     		str	r3, [sp]
 3381 002e 2369     		ldr	r3, [r4, #16]
 3382 0030 2A46     		mov	r2, r5
 3383 0032 2188     		ldrh	r1, [r4]
 3384 0034 3846     		mov	r0, r7
 3385              	.LVL367:
2425:Src/vl6180x_api.c **** 		if (FilteredRange < 0) {
 3386              		.loc 1 2425 19 view .LVU1183
 3387 0036 FFF7FEFF 		bl	_filter_Start
 3388              	.LVL368:
2426:Src/vl6180x_api.c **** 		    status = -1;
 3389              		.loc 1 2426 3 is_stmt 1 view .LVU1184
2426:Src/vl6180x_api.c **** 		    status = -1;
 3390              		.loc 1 2426 6 is_stmt 0 view .LVU1185
 3391 003a 0028     		cmp	r0, #0
2426:Src/vl6180x_api.c **** 		    status = -1;
 3392              		.loc 1 2426 6 view .LVU1186
 3393 003c 04DB     		blt	.L239
2430:Src/vl6180x_api.c **** 		pRangeData->FilteredData.rawRange_mm = m_rawRange_mm * scaler;
 3394              		.loc 1 2430 3 is_stmt 1 view .LVU1187
2430:Src/vl6180x_api.c **** 		pRangeData->FilteredData.rawRange_mm = m_rawRange_mm * scaler;
 3395              		.loc 1 2430 37 is_stmt 0 view .LVU1188
 3396 003e 2084     		strh	r0, [r4, #32]	@ movhi
2431:Src/vl6180x_api.c **** 		pRangeData->FilteredData.filterError= _FilterData(filterError);
 3397              		.loc 1 2431 3 is_stmt 1 view .LVU1189
2431:Src/vl6180x_api.c **** 		pRangeData->FilteredData.filterError= _FilterData(filterError);
 3398              		.loc 1 2431 40 is_stmt 0 view .LVU1190
 3399 0040 6584     		strh	r5, [r4, #34]	@ movhi
2432:Src/vl6180x_api.c **** 	} while (0);
 3400              		.loc 1 2432 3 is_stmt 1 view .LVU1191
2432:Src/vl6180x_api.c **** 	} while (0);
 3401              		.loc 1 2432 41 is_stmt 0 view .LVU1192
 3402 0042 FB6F     		ldr	r3, [r7, #124]
2432:Src/vl6180x_api.c **** 	} while (0);
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 119


 3403              		.loc 1 2432 39 view .LVU1193
 3404 0044 6362     		str	r3, [r4, #36]
 3405 0046 E7E7     		b	.L237
 3406              	.L239:
2427:Src/vl6180x_api.c **** 		    break;
 3407              		.loc 1 2427 14 view .LVU1194
 3408 0048 4FF0FF36 		mov	r6, #-1
 3409              	.LVL369:
2433:Src/vl6180x_api.c **** 	return status;
 3410              		.loc 1 2433 10 is_stmt 1 view .LVU1195
2434:Src/vl6180x_api.c **** }
 3411              		.loc 1 2434 2 view .LVU1196
2434:Src/vl6180x_api.c **** }
 3412              		.loc 1 2434 9 is_stmt 0 view .LVU1197
 3413 004c E4E7     		b	.L237
 3414              		.cfi_endproc
 3415              	.LFE68:
 3417              		.section	.text._CachedRegs_Fetch,"ax",%progbits
 3418              		.align	1
 3419              		.global	_CachedRegs_Fetch
 3420              		.syntax unified
 3421              		.thumb
 3422              		.thumb_func
 3423              		.fpu fpv4-sp-d16
 3425              	_CachedRegs_Fetch:
 3426              	.LVL370:
 3427              	.LFB26:
 853:Src/vl6180x_api.c **** 	int status;
 3428              		.loc 1 853 1 is_stmt 1 view -0
 3429              		.cfi_startproc
 3430              		@ args = 0, pretend = 0, frame = 0
 3431              		@ frame_needed = 0, uses_anonymous_args = 0
 853:Src/vl6180x_api.c **** 	int status;
 3432              		.loc 1 853 1 is_stmt 0 view .LVU1199
 3433 0000 08B5     		push	{r3, lr}
 3434              	.LCFI54:
 3435              		.cfi_def_cfa_offset 8
 3436              		.cfi_offset 3, -8
 3437              		.cfi_offset 14, -4
 854:Src/vl6180x_api.c **** 	uint8_t *Buffer;
 3438              		.loc 1 854 2 is_stmt 1 view .LVU1200
 855:Src/vl6180x_api.c **** 	if (VL6180xDevDataGet(dev, CacheFilled) == 0) {
 3439              		.loc 1 855 2 view .LVU1201
 856:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, CacheFilled, 1);
 3440              		.loc 1 856 2 view .LVU1202
 856:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, CacheFilled, 1);
 3441              		.loc 1 856 6 is_stmt 0 view .LVU1203
 3442 0002 90F88030 		ldrb	r3, [r0, #128]	@ zero_extendqisi2
 856:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, CacheFilled, 1);
 3443              		.loc 1 856 5 view .LVU1204
 3444 0006 0BB1     		cbz	r3, .L246
 861:Src/vl6180x_api.c **** 	}
 3445              		.loc 1 861 10 view .LVU1205
 3446 0008 0020     		movs	r0, #0
 3447              	.LVL371:
 863:Src/vl6180x_api.c **** }
 3448              		.loc 1 863 2 is_stmt 1 view .LVU1206
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 120


 3449              	.L242:
 864:Src/vl6180x_api.c **** 
 3450              		.loc 1 864 1 is_stmt 0 view .LVU1207
 3451 000a 08BD     		pop	{r3, pc}
 3452              	.LVL372:
 3453              	.L246:
 857:Src/vl6180x_api.c **** 		Buffer = &VL6180xDevDataGet(dev, CachedRegs[0]);
 3454              		.loc 1 857 3 is_stmt 1 view .LVU1208
 3455 000c 0123     		movs	r3, #1
 3456 000e 80F88030 		strb	r3, [r0, #128]
 858:Src/vl6180x_api.c **** 		status = VL6180x_RdMulti(dev, VL6180x_FIRST_CACHED_INDEX, Buffer, VL6180x_CACHED_REG_CNT);
 3457              		.loc 1 858 3 view .LVU1209
 3458              	.LVL373:
 859:Src/vl6180x_api.c **** 	} else {
 3459              		.loc 1 859 3 view .LVU1210
 859:Src/vl6180x_api.c **** 	} else {
 3460              		.loc 1 859 12 is_stmt 0 view .LVU1211
 3461 0012 3823     		movs	r3, #56
 3462 0014 00F18102 		add	r2, r0, #129
 3463              	.LVL374:
 859:Src/vl6180x_api.c **** 	} else {
 3464              		.loc 1 859 12 view .LVU1212
 3465 0018 4D21     		movs	r1, #77
 3466 001a FFF7FEFF 		bl	VL6180x_RdMulti
 3467              	.LVL375:
 859:Src/vl6180x_api.c **** 	} else {
 3468              		.loc 1 859 12 view .LVU1213
 3469 001e F4E7     		b	.L242
 3470              		.cfi_endproc
 3471              	.LFE26:
 3473              		.section	.text._CachedRegs_Flush,"ax",%progbits
 3474              		.align	1
 3475              		.global	_CachedRegs_Flush
 3476              		.syntax unified
 3477              		.thumb
 3478              		.thumb_func
 3479              		.fpu fpv4-sp-d16
 3481              	_CachedRegs_Flush:
 3482              	.LVL376:
 3483              	.LFB27:
 867:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, CacheFilled, 0);
 3484              		.loc 1 867 1 is_stmt 1 view -0
 3485              		.cfi_startproc
 3486              		@ args = 0, pretend = 0, frame = 0
 3487              		@ frame_needed = 0, uses_anonymous_args = 0
 3488              		@ link register save eliminated.
 868:Src/vl6180x_api.c **** }
 3489              		.loc 1 868 2 view .LVU1215
 3490 0000 0023     		movs	r3, #0
 3491 0002 80F88030 		strb	r3, [r0, #128]
 869:Src/vl6180x_api.c **** 
 3492              		.loc 1 869 1 is_stmt 0 view .LVU1216
 3493 0006 7047     		bx	lr
 3494              		.cfi_endproc
 3495              	.LFE27:
 3497              		.section	.text.VL6180x_FilterSetState,"ax",%progbits
 3498              		.align	1
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 121


 3499              		.global	VL6180x_FilterSetState
 3500              		.syntax unified
 3501              		.thumb
 3502              		.thumb_func
 3503              		.fpu fpv4-sp-d16
 3505              	VL6180x_FilterSetState:
 3506              	.LVL377:
 3507              	.LFB30:
 972:Src/vl6180x_api.c **** 	int status;
 3508              		.loc 1 972 1 is_stmt 1 view -0
 3509              		.cfi_startproc
 3510              		@ args = 0, pretend = 0, frame = 0
 3511              		@ frame_needed = 0, uses_anonymous_args = 0
 3512              		@ link register save eliminated.
 973:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", state);
 3513              		.loc 1 973 2 view .LVU1218
 974:Src/vl6180x_api.c **** 	#if VL6180x_WRAP_AROUND_FILTER_SUPPORT
 3514              		.loc 1 974 2 view .LVU1219
 976:Src/vl6180x_api.c **** 	status = 0;
 3515              		.loc 1 976 2 view .LVU1220
 3516 0000 4176     		strb	r1, [r0, #25]
 977:Src/vl6180x_api.c **** 	#else
 3517              		.loc 1 977 2 view .LVU1221
 3518              	.LVL378:
 981:Src/vl6180x_api.c **** 	return status;
 3519              		.loc 1 981 2 view .LVU1222
 982:Src/vl6180x_api.c **** }
 3520              		.loc 1 982 2 view .LVU1223
 983:Src/vl6180x_api.c **** 
 3521              		.loc 1 983 1 is_stmt 0 view .LVU1224
 3522 0002 0020     		movs	r0, #0
 3523              	.LVL379:
 983:Src/vl6180x_api.c **** 
 3524              		.loc 1 983 1 view .LVU1225
 3525 0004 7047     		bx	lr
 3526              		.cfi_endproc
 3527              	.LFE30:
 3529              		.section	.text.VL6180x_FilterGetState,"ax",%progbits
 3530              		.align	1
 3531              		.global	VL6180x_FilterGetState
 3532              		.syntax unified
 3533              		.thumb
 3534              		.thumb_func
 3535              		.fpu fpv4-sp-d16
 3537              	VL6180x_FilterGetState:
 3538              	.LVL380:
 3539              	.LFB31:
 986:Src/vl6180x_api.c **** 	int status;
 3540              		.loc 1 986 1 is_stmt 1 view -0
 3541              		.cfi_startproc
 3542              		@ args = 0, pretend = 0, frame = 0
 3543              		@ frame_needed = 0, uses_anonymous_args = 0
 3544              		@ link register save eliminated.
 987:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 3545              		.loc 1 987 2 view .LVU1227
 988:Src/vl6180x_api.c **** 	#if VL6180x_WRAP_AROUND_FILTER_SUPPORT
 3546              		.loc 1 988 2 view .LVU1228
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 122


 990:Src/vl6180x_api.c **** 	#else
 3547              		.loc 1 990 2 view .LVU1229
 994:Src/vl6180x_api.c **** 	return status;
 3548              		.loc 1 994 2 view .LVU1230
 995:Src/vl6180x_api.c **** }
 3549              		.loc 1 995 2 view .LVU1231
 996:Src/vl6180x_api.c **** 
 3550              		.loc 1 996 1 is_stmt 0 view .LVU1232
 3551 0000 407E     		ldrb	r0, [r0, #25]	@ zero_extendqisi2
 3552              	.LVL381:
 996:Src/vl6180x_api.c **** 
 3553              		.loc 1 996 1 view .LVU1233
 3554 0002 7047     		bx	lr
 3555              		.cfi_endproc
 3556              	.LFE31:
 3558              		.section	.text.VL6180x_RangeGetResult,"ax",%progbits
 3559              		.align	1
 3560              		.global	VL6180x_RangeGetResult
 3561              		.syntax unified
 3562              		.thumb
 3563              		.thumb_func
 3564              		.fpu fpv4-sp-d16
 3566              	VL6180x_RangeGetResult:
 3567              	.LVL382:
 3568              	.LFB32:
 999:Src/vl6180x_api.c **** 	int status;
 3569              		.loc 1 999 1 is_stmt 1 view -0
 3570              		.cfi_startproc
 3571              		@ args = 0, pretend = 0, frame = 8
 3572              		@ frame_needed = 0, uses_anonymous_args = 0
 999:Src/vl6180x_api.c **** 	int status;
 3573              		.loc 1 999 1 is_stmt 0 view .LVU1235
 3574 0000 30B5     		push	{r4, r5, lr}
 3575              	.LCFI55:
 3576              		.cfi_def_cfa_offset 12
 3577              		.cfi_offset 4, -12
 3578              		.cfi_offset 5, -8
 3579              		.cfi_offset 14, -4
 3580 0002 83B0     		sub	sp, sp, #12
 3581              	.LCFI56:
 3582              		.cfi_def_cfa_offset 24
 3583 0004 0546     		mov	r5, r0
 3584 0006 0C46     		mov	r4, r1
1000:Src/vl6180x_api.c **** 	uint8_t RawRange;
 3585              		.loc 1 1000 2 is_stmt 1 view .LVU1236
1001:Src/vl6180x_api.c **** 	int32_t Upscale;
 3586              		.loc 1 1001 2 view .LVU1237
1002:Src/vl6180x_api.c **** 
 3587              		.loc 1 1002 2 view .LVU1238
1004:Src/vl6180x_api.c **** 
 3588              		.loc 1 1004 2 view .LVU1239
1006:Src/vl6180x_api.c **** 	if (!status) {
 3589              		.loc 1 1006 2 view .LVU1240
1006:Src/vl6180x_api.c **** 	if (!status) {
 3590              		.loc 1 1006 11 is_stmt 0 view .LVU1241
 3591 0008 0DF10702 		add	r2, sp, #7
 3592 000c 6221     		movs	r1, #98
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 123


 3593              	.LVL383:
1006:Src/vl6180x_api.c **** 	if (!status) {
 3594              		.loc 1 1006 11 view .LVU1242
 3595 000e FFF7FEFF 		bl	VL6180x_GetCachedByte
 3596              	.LVL384:
1007:Src/vl6180x_api.c **** 		Upscale = _GetUpscale(dev);
 3597              		.loc 1 1007 2 is_stmt 1 view .LVU1243
1007:Src/vl6180x_api.c **** 		Upscale = _GetUpscale(dev);
 3598              		.loc 1 1007 5 is_stmt 0 view .LVU1244
 3599 0012 28B9     		cbnz	r0, .L250
1008:Src/vl6180x_api.c **** 		*pRange_mm = Upscale * (int32_t)RawRange;
 3600              		.loc 1 1008 3 is_stmt 1 view .LVU1245
1008:Src/vl6180x_api.c **** 		*pRange_mm = Upscale * (int32_t)RawRange;
 3601              		.loc 1 1008 13 is_stmt 0 view .LVU1246
 3602 0014 2B7E     		ldrb	r3, [r5, #24]	@ zero_extendqisi2
 3603              	.LVL385:
1009:Src/vl6180x_api.c **** 	}
 3604              		.loc 1 1009 3 is_stmt 1 view .LVU1247
1009:Src/vl6180x_api.c **** 	}
 3605              		.loc 1 1009 26 is_stmt 0 view .LVU1248
 3606 0016 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
1009:Src/vl6180x_api.c **** 	}
 3607              		.loc 1 1009 24 view .LVU1249
 3608 001a 03FB02F3 		mul	r3, r3, r2
 3609              	.LVL386:
1009:Src/vl6180x_api.c **** 	}
 3610              		.loc 1 1009 14 view .LVU1250
 3611 001e 2360     		str	r3, [r4]
 3612              	.LVL387:
1011:Src/vl6180x_api.c **** 	return status;
 3613              		.loc 1 1011 2 is_stmt 1 view .LVU1251
1012:Src/vl6180x_api.c **** }
 3614              		.loc 1 1012 2 view .LVU1252
 3615              	.L250:
1013:Src/vl6180x_api.c **** 
 3616              		.loc 1 1013 1 is_stmt 0 view .LVU1253
 3617 0020 03B0     		add	sp, sp, #12
 3618              	.LCFI57:
 3619              		.cfi_def_cfa_offset 12
 3620              		@ sp needed
 3621 0022 30BD     		pop	{r4, r5, pc}
1013:Src/vl6180x_api.c **** 
 3622              		.loc 1 1013 1 view .LVU1254
 3623              		.cfi_endproc
 3624              	.LFE32:
 3626              		.section	.text.VL6180x_RangeSetRawThresholds,"ax",%progbits
 3627              		.align	1
 3628              		.global	VL6180x_RangeSetRawThresholds
 3629              		.syntax unified
 3630              		.thumb
 3631              		.thumb_func
 3632              		.fpu fpv4-sp-d16
 3634              	VL6180x_RangeSetRawThresholds:
 3635              	.LVL388:
 3636              	.LFB33:
1016:Src/vl6180x_api.c **** 	int status;
 3637              		.loc 1 1016 1 is_stmt 1 view -0
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 124


 3638              		.cfi_startproc
 3639              		@ args = 0, pretend = 0, frame = 0
 3640              		@ frame_needed = 0, uses_anonymous_args = 0
1016:Src/vl6180x_api.c **** 	int status;
 3641              		.loc 1 1016 1 is_stmt 0 view .LVU1256
 3642 0000 38B5     		push	{r3, r4, r5, lr}
 3643              	.LCFI58:
 3644              		.cfi_def_cfa_offset 16
 3645              		.cfi_offset 3, -16
 3646              		.cfi_offset 4, -12
 3647              		.cfi_offset 5, -8
 3648              		.cfi_offset 14, -4
 3649 0002 0446     		mov	r4, r0
 3650 0004 0D46     		mov	r5, r1
1017:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d %d", (int) low, (int)high);
 3651              		.loc 1 1017 2 is_stmt 1 view .LVU1257
1018:Src/vl6180x_api.c **** 	/* TODO we can optimize here grouping high/low in a word but that's cpu endianness dependent */
 3652              		.loc 1 1018 2 view .LVU1258
1020:Src/vl6180x_api.c **** 	if (!status) {
 3653              		.loc 1 1020 2 view .LVU1259
1020:Src/vl6180x_api.c **** 	if (!status) {
 3654              		.loc 1 1020 11 is_stmt 0 view .LVU1260
 3655 0006 1921     		movs	r1, #25
 3656              	.LVL389:
1020:Src/vl6180x_api.c **** 	if (!status) {
 3657              		.loc 1 1020 11 view .LVU1261
 3658 0008 FFF7FEFF 		bl	VL6180x_WrByte
 3659              	.LVL390:
1021:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSRANGE_THRESH_LOW, low);
 3660              		.loc 1 1021 2 is_stmt 1 view .LVU1262
1021:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSRANGE_THRESH_LOW, low);
 3661              		.loc 1 1021 5 is_stmt 0 view .LVU1263
 3662 000c 00B1     		cbz	r0, .L256
 3663              	.L253:
1027:Src/vl6180x_api.c **** 
 3664              		.loc 1 1027 1 view .LVU1264
 3665 000e 38BD     		pop	{r3, r4, r5, pc}
 3666              	.LVL391:
 3667              	.L256:
1022:Src/vl6180x_api.c **** 	}
 3668              		.loc 1 1022 3 is_stmt 1 view .LVU1265
1022:Src/vl6180x_api.c **** 	}
 3669              		.loc 1 1022 12 is_stmt 0 view .LVU1266
 3670 0010 2A46     		mov	r2, r5
 3671 0012 1A21     		movs	r1, #26
 3672 0014 2046     		mov	r0, r4
 3673 0016 FFF7FEFF 		bl	VL6180x_WrByte
 3674              	.LVL392:
1025:Src/vl6180x_api.c **** 	return status;
 3675              		.loc 1 1025 2 is_stmt 1 view .LVU1267
1026:Src/vl6180x_api.c **** }
 3676              		.loc 1 1026 2 view .LVU1268
1026:Src/vl6180x_api.c **** }
 3677              		.loc 1 1026 9 is_stmt 0 view .LVU1269
 3678 001a F8E7     		b	.L253
 3679              		.cfi_endproc
 3680              	.LFE33:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 125


 3682              		.section	.text.VL6180x_RangeSetThresholds,"ax",%progbits
 3683              		.align	1
 3684              		.global	VL6180x_RangeSetThresholds
 3685              		.syntax unified
 3686              		.thumb
 3687              		.thumb_func
 3688              		.fpu fpv4-sp-d16
 3690              	VL6180x_RangeSetThresholds:
 3691              	.LVL393:
 3692              	.LFB34:
1030:Src/vl6180x_api.c **** 	int status;
 3693              		.loc 1 1030 1 is_stmt 1 view -0
 3694              		.cfi_startproc
 3695              		@ args = 0, pretend = 0, frame = 0
 3696              		@ frame_needed = 0, uses_anonymous_args = 0
1030:Src/vl6180x_api.c **** 	int status;
 3697              		.loc 1 1030 1 is_stmt 0 view .LVU1271
 3698 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 3699              	.LCFI59:
 3700              		.cfi_def_cfa_offset 32
 3701              		.cfi_offset 3, -32
 3702              		.cfi_offset 4, -28
 3703              		.cfi_offset 5, -24
 3704              		.cfi_offset 6, -20
 3705              		.cfi_offset 7, -16
 3706              		.cfi_offset 8, -12
 3707              		.cfi_offset 9, -8
 3708              		.cfi_offset 14, -4
 3709 0004 9846     		mov	r8, r3
1031:Src/vl6180x_api.c **** 	int scale;
 3710              		.loc 1 1031 2 is_stmt 1 view .LVU1272
1032:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d %d", (int) low, (int)high);
 3711              		.loc 1 1032 2 view .LVU1273
1033:Src/vl6180x_api.c **** 	scale = _GetUpscale(dev, UpscaleFactor);
 3712              		.loc 1 1033 2 view .LVU1274
1034:Src/vl6180x_api.c **** 	if (low > scale * 255 || high > scale * 255) {
 3713              		.loc 1 1034 2 view .LVU1275
1034:Src/vl6180x_api.c **** 	if (low > scale * 255 || high > scale * 255) {
 3714              		.loc 1 1034 10 is_stmt 0 view .LVU1276
 3715 0006 057E     		ldrb	r5, [r0, #24]	@ zero_extendqisi2
 3716              	.LVL394:
1035:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
 3717              		.loc 1 1035 2 is_stmt 1 view .LVU1277
1035:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
 3718              		.loc 1 1035 18 is_stmt 0 view .LVU1278
 3719 0008 C5EB0523 		rsb	r3, r5, r5, lsl #8
 3720              	.LVL395:
1035:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
 3721              		.loc 1 1035 5 view .LVU1279
 3722 000c 9942     		cmp	r1, r3
 3723 000e 25DC     		bgt	.L260
 3724 0010 0746     		mov	r7, r0
 3725 0012 0C46     		mov	r4, r1
 3726 0014 1646     		mov	r6, r2
1035:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
 3727              		.loc 1 1035 24 discriminator 1 view .LVU1280
 3728 0016 9342     		cmp	r3, r2
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 126


 3729 0018 23DB     		blt	.L261
1038:Src/vl6180x_api.c **** 			if (UseSafeParamHold) {
 3730              		.loc 1 1038 3 is_stmt 1 view .LVU1281
1039:Src/vl6180x_api.c **** 				status = VL6180x_SetGroupParamHold(dev, 1);
 3731              		.loc 1 1039 4 view .LVU1282
1039:Src/vl6180x_api.c **** 				status = VL6180x_SetGroupParamHold(dev, 1);
 3732              		.loc 1 1039 7 is_stmt 0 view .LVU1283
 3733 001a B8F1000F 		cmp	r8, #0
 3734 001e 04D0     		beq	.L259
1040:Src/vl6180x_api.c **** 				if (status)
 3735              		.loc 1 1040 5 is_stmt 1 view .LVU1284
1040:Src/vl6180x_api.c **** 				if (status)
 3736              		.loc 1 1040 14 is_stmt 0 view .LVU1285
 3737 0020 0121     		movs	r1, #1
 3738              	.LVL396:
1040:Src/vl6180x_api.c **** 				if (status)
 3739              		.loc 1 1040 14 view .LVU1286
 3740 0022 FFF7FEFF 		bl	VL6180x_SetGroupParamHold
 3741              	.LVL397:
1041:Src/vl6180x_api.c **** 					break;
 3742              		.loc 1 1041 5 is_stmt 1 view .LVU1287
1041:Src/vl6180x_api.c **** 					break;
 3743              		.loc 1 1041 8 is_stmt 0 view .LVU1288
 3744 0026 8146     		mov	r9, r0
 3745 0028 60B9     		cbnz	r0, .L257
 3746              	.LVL398:
 3747              	.L259:
1044:Src/vl6180x_api.c **** 		    if (status) {
 3748              		.loc 1 1044 7 is_stmt 1 view .LVU1289
1044:Src/vl6180x_api.c **** 		    if (status) {
 3749              		.loc 1 1044 65 is_stmt 0 view .LVU1290
 3750 002a 94FBF5F1 		sdiv	r1, r4, r5
1044:Src/vl6180x_api.c **** 		    if (status) {
 3751              		.loc 1 1044 90 view .LVU1291
 3752 002e 96FBF5F2 		sdiv	r2, r6, r5
1044:Src/vl6180x_api.c **** 		    if (status) {
 3753              		.loc 1 1044 16 view .LVU1292
 3754 0032 D2B2     		uxtb	r2, r2
 3755 0034 C9B2     		uxtb	r1, r1
 3756 0036 3846     		mov	r0, r7
 3757 0038 FFF7FEFF 		bl	VL6180x_RangeSetRawThresholds
 3758              	.LVL399:
 3759 003c 8146     		mov	r9, r0
 3760              	.LVL400:
1045:Src/vl6180x_api.c **** 				VL6180x_ErrLog("VL6180x_RangeSetRawThresholds fail");
 3761              		.loc 1 1045 7 is_stmt 1 view .LVU1293
1046:Src/vl6180x_api.c **** 		    }
 3762              		.loc 1 1046 5 view .LVU1294
1048:Src/vl6180x_api.c **** 				int HoldStatus;
 3763              		.loc 1 1048 7 view .LVU1295
1048:Src/vl6180x_api.c **** 				int HoldStatus;
 3764              		.loc 1 1048 10 is_stmt 0 view .LVU1296
 3765 003e B8F1000F 		cmp	r8, #0
 3766 0042 02D1     		bne	.L264
 3767              	.LVL401:
 3768              	.L257:
1060:Src/vl6180x_api.c **** 
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 127


 3769              		.loc 1 1060 1 view .LVU1297
 3770 0044 4846     		mov	r0, r9
 3771 0046 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 3772              	.LVL402:
 3773              	.L264:
 3774              	.LBB4:
1049:Src/vl6180x_api.c **** 				/* tryt to unset param hold vene if previous fail */
 3775              		.loc 1 1049 5 is_stmt 1 view .LVU1298
1051:Src/vl6180x_api.c **** 				if (!status)
 3776              		.loc 1 1051 5 view .LVU1299
1051:Src/vl6180x_api.c **** 				if (!status)
 3777              		.loc 1 1051 18 is_stmt 0 view .LVU1300
 3778 004a 0021     		movs	r1, #0
 3779 004c 3846     		mov	r0, r7
 3780              	.LVL403:
1051:Src/vl6180x_api.c **** 				if (!status)
 3781              		.loc 1 1051 18 view .LVU1301
 3782 004e FFF7FEFF 		bl	VL6180x_SetGroupParamHold
 3783              	.LVL404:
1052:Src/vl6180x_api.c **** 					status = HoldStatus;
 3784              		.loc 1 1052 5 is_stmt 1 view .LVU1302
1052:Src/vl6180x_api.c **** 					status = HoldStatus;
 3785              		.loc 1 1052 8 is_stmt 0 view .LVU1303
 3786 0052 B9F1000F 		cmp	r9, #0
 3787 0056 F5D1     		bne	.L257
1053:Src/vl6180x_api.c **** 		    }
 3788              		.loc 1 1053 13 view .LVU1304
 3789 0058 8146     		mov	r9, r0
 3790              	.LVL405:
1053:Src/vl6180x_api.c **** 		    }
 3791              		.loc 1 1053 13 view .LVU1305
 3792              	.LBE4:
1055:Src/vl6180x_api.c **** 	}
 3793              		.loc 1 1055 11 is_stmt 1 view .LVU1306
1058:Src/vl6180x_api.c **** 	return status;
 3794              		.loc 1 1058 2 view .LVU1307
1059:Src/vl6180x_api.c **** }
 3795              		.loc 1 1059 2 view .LVU1308
1059:Src/vl6180x_api.c **** }
 3796              		.loc 1 1059 9 is_stmt 0 view .LVU1309
 3797 005a F3E7     		b	.L257
 3798              	.LVL406:
 3799              	.L260:
1036:Src/vl6180x_api.c **** 	} else {
 3800              		.loc 1 1036 10 view .LVU1310
 3801 005c 6FF00109 		mvn	r9, #1
 3802 0060 F0E7     		b	.L257
 3803              	.L261:
1036:Src/vl6180x_api.c **** 	} else {
 3804              		.loc 1 1036 10 view .LVU1311
 3805 0062 6FF00109 		mvn	r9, #1
 3806 0066 EDE7     		b	.L257
 3807              		.cfi_endproc
 3808              	.LFE34:
 3810              		.section	.text.VL6180x_RangeGetThresholds,"ax",%progbits
 3811              		.align	1
 3812              		.global	VL6180x_RangeGetThresholds
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 128


 3813              		.syntax unified
 3814              		.thumb
 3815              		.thumb_func
 3816              		.fpu fpv4-sp-d16
 3818              	VL6180x_RangeGetThresholds:
 3819              	.LVL407:
 3820              	.LFB35:
1064:Src/vl6180x_api.c **** 	int status = 0;
 3821              		.loc 1 1064 1 is_stmt 1 view -0
 3822              		.cfi_startproc
 3823              		@ args = 0, pretend = 0, frame = 8
 3824              		@ frame_needed = 0, uses_anonymous_args = 0
1064:Src/vl6180x_api.c **** 	int status = 0;
 3825              		.loc 1 1064 1 is_stmt 0 view .LVU1313
 3826 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 3827              	.LCFI60:
 3828              		.cfi_def_cfa_offset 20
 3829              		.cfi_offset 4, -20
 3830              		.cfi_offset 5, -16
 3831              		.cfi_offset 6, -12
 3832              		.cfi_offset 7, -8
 3833              		.cfi_offset 14, -4
 3834 0002 83B0     		sub	sp, sp, #12
 3835              	.LCFI61:
 3836              		.cfi_def_cfa_offset 32
 3837 0004 0446     		mov	r4, r0
 3838 0006 0D46     		mov	r5, r1
1065:Src/vl6180x_api.c **** 	uint8_t RawLow, RawHigh;
 3839              		.loc 1 1065 2 is_stmt 1 view .LVU1314
 3840              	.LVL408:
1066:Src/vl6180x_api.c **** 	int scale;
 3841              		.loc 1 1066 2 view .LVU1315
1067:Src/vl6180x_api.c **** 
 3842              		.loc 1 1067 2 view .LVU1316
1069:Src/vl6180x_api.c **** 
 3843              		.loc 1 1069 2 view .LVU1317
1071:Src/vl6180x_api.c **** 	do {
 3844              		.loc 1 1071 2 view .LVU1318
1071:Src/vl6180x_api.c **** 	do {
 3845              		.loc 1 1071 10 is_stmt 0 view .LVU1319
 3846 0008 067E     		ldrb	r6, [r0, #24]	@ zero_extendqisi2
 3847              	.LVL409:
1072:Src/vl6180x_api.c **** 		if (high != NULL) {
 3848              		.loc 1 1072 2 is_stmt 1 view .LVU1320
1073:Src/vl6180x_api.c **** 			status = VL6180x_RdByte(dev, SYSRANGE_THRESH_HIGH, &RawHigh);
 3849              		.loc 1 1073 3 view .LVU1321
1073:Src/vl6180x_api.c **** 			status = VL6180x_RdByte(dev, SYSRANGE_THRESH_HIGH, &RawHigh);
 3850              		.loc 1 1073 6 is_stmt 0 view .LVU1322
 3851 000a 62B1     		cbz	r2, .L268
 3852 000c 1746     		mov	r7, r2
1074:Src/vl6180x_api.c **** 			if (status) {
 3853              		.loc 1 1074 4 is_stmt 1 view .LVU1323
1074:Src/vl6180x_api.c **** 			if (status) {
 3854              		.loc 1 1074 13 is_stmt 0 view .LVU1324
 3855 000e 0DF10602 		add	r2, sp, #6
 3856              	.LVL410:
1074:Src/vl6180x_api.c **** 			if (status) {
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 129


 3857              		.loc 1 1074 13 view .LVU1325
 3858 0012 1921     		movs	r1, #25
 3859              	.LVL411:
1074:Src/vl6180x_api.c **** 			if (status) {
 3860              		.loc 1 1074 13 view .LVU1326
 3861 0014 FFF7FEFF 		bl	VL6180x_RdByte
 3862              	.LVL412:
1075:Src/vl6180x_api.c **** 				VL6180x_ErrLog("rd SYSRANGE_THRESH_HIGH fail");
 3863              		.loc 1 1075 4 is_stmt 1 view .LVU1327
1075:Src/vl6180x_api.c **** 				VL6180x_ErrLog("rd SYSRANGE_THRESH_HIGH fail");
 3864              		.loc 1 1075 7 is_stmt 0 view .LVU1328
 3865 0018 98B9     		cbnz	r0, .L265
1079:Src/vl6180x_api.c **** 		}
 3866              		.loc 1 1079 4 is_stmt 1 view .LVU1329
1079:Src/vl6180x_api.c **** 		}
 3867              		.loc 1 1079 10 is_stmt 0 view .LVU1330
 3868 001a 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 3869 001e 13FB06F3 		smulbb	r3, r3, r6
 3870 0022 3B80     		strh	r3, [r7]	@ movhi
 3871 0024 00E0     		b	.L266
 3872              	.LVL413:
 3873              	.L268:
1065:Src/vl6180x_api.c **** 	uint8_t RawLow, RawHigh;
 3874              		.loc 1 1065 6 view .LVU1331
 3875 0026 0020     		movs	r0, #0
 3876              	.LVL414:
 3877              	.L266:
1081:Src/vl6180x_api.c **** 		    status = VL6180x_RdByte(dev, SYSRANGE_THRESH_LOW, &RawLow);
 3878              		.loc 1 1081 3 is_stmt 1 view .LVU1332
1081:Src/vl6180x_api.c **** 		    status = VL6180x_RdByte(dev, SYSRANGE_THRESH_LOW, &RawLow);
 3879              		.loc 1 1081 6 is_stmt 0 view .LVU1333
 3880 0028 5DB1     		cbz	r5, .L265
1082:Src/vl6180x_api.c **** 			if (status) {
 3881              		.loc 1 1082 7 is_stmt 1 view .LVU1334
1082:Src/vl6180x_api.c **** 			if (status) {
 3882              		.loc 1 1082 16 is_stmt 0 view .LVU1335
 3883 002a 0DF10702 		add	r2, sp, #7
 3884 002e 1A21     		movs	r1, #26
 3885 0030 2046     		mov	r0, r4
 3886              	.LVL415:
1082:Src/vl6180x_api.c **** 			if (status) {
 3887              		.loc 1 1082 16 view .LVU1336
 3888 0032 FFF7FEFF 		bl	VL6180x_RdByte
 3889              	.LVL416:
1083:Src/vl6180x_api.c **** 				VL6180x_ErrLog("rd SYSRANGE_THRESH_LOW fail");
 3890              		.loc 1 1083 4 is_stmt 1 view .LVU1337
1083:Src/vl6180x_api.c **** 				VL6180x_ErrLog("rd SYSRANGE_THRESH_LOW fail");
 3891              		.loc 1 1083 7 is_stmt 0 view .LVU1338
 3892 0036 20B9     		cbnz	r0, .L265
1087:Src/vl6180x_api.c **** 		}
 3893              		.loc 1 1087 7 is_stmt 1 view .LVU1339
1087:Src/vl6180x_api.c **** 		}
 3894              		.loc 1 1087 12 is_stmt 0 view .LVU1340
 3895 0038 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 3896 003c 13FB06F6 		smulbb	r6, r3, r6
 3897              	.LVL417:
1087:Src/vl6180x_api.c **** 		}
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 130


 3898              		.loc 1 1087 12 view .LVU1341
 3899 0040 2E80     		strh	r6, [r5]	@ movhi
1089:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d %d", (int)*low , (int)*high);
 3900              		.loc 1 1089 10 is_stmt 1 view .LVU1342
1090:Src/vl6180x_api.c **** 	return status;
 3901              		.loc 1 1090 2 view .LVU1343
1091:Src/vl6180x_api.c **** }
 3902              		.loc 1 1091 2 view .LVU1344
 3903              	.L265:
1092:Src/vl6180x_api.c **** 
 3904              		.loc 1 1092 1 is_stmt 0 view .LVU1345
 3905 0042 03B0     		add	sp, sp, #12
 3906              	.LCFI62:
 3907              		.cfi_def_cfa_offset 20
 3908              		@ sp needed
 3909 0044 F0BD     		pop	{r4, r5, r6, r7, pc}
1092:Src/vl6180x_api.c **** 
 3910              		.loc 1 1092 1 view .LVU1346
 3911              		.cfi_endproc
 3912              	.LFE35:
 3914              		.section	.text.VL6180x_RangeGetInterruptStatus,"ax",%progbits
 3915              		.align	1
 3916              		.global	VL6180x_RangeGetInterruptStatus
 3917              		.syntax unified
 3918              		.thumb
 3919              		.thumb_func
 3920              		.fpu fpv4-sp-d16
 3922              	VL6180x_RangeGetInterruptStatus:
 3923              	.LVL418:
 3924              	.LFB36:
1096:Src/vl6180x_api.c **** 	int status;
 3925              		.loc 1 1096 1 is_stmt 1 view -0
 3926              		.cfi_startproc
 3927              		@ args = 0, pretend = 0, frame = 8
 3928              		@ frame_needed = 0, uses_anonymous_args = 0
1096:Src/vl6180x_api.c **** 	int status;
 3929              		.loc 1 1096 1 is_stmt 0 view .LVU1348
 3930 0000 10B5     		push	{r4, lr}
 3931              	.LCFI63:
 3932              		.cfi_def_cfa_offset 8
 3933              		.cfi_offset 4, -8
 3934              		.cfi_offset 14, -4
 3935 0002 82B0     		sub	sp, sp, #8
 3936              	.LCFI64:
 3937              		.cfi_def_cfa_offset 16
 3938 0004 0C46     		mov	r4, r1
1097:Src/vl6180x_api.c **** 	uint8_t IntStatus;
 3939              		.loc 1 1097 2 is_stmt 1 view .LVU1349
1098:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%p", pIntStatus);
 3940              		.loc 1 1098 2 view .LVU1350
1099:Src/vl6180x_api.c **** 	/* FIXME we are grouping "error" with over status the user must check implicitly for it
 3941              		.loc 1 1099 2 view .LVU1351
1102:Src/vl6180x_api.c **** 	*pIntStatus = IntStatus & 0xC7;
 3942              		.loc 1 1102 2 view .LVU1352
1102:Src/vl6180x_api.c **** 	*pIntStatus = IntStatus & 0xC7;
 3943              		.loc 1 1102 11 is_stmt 0 view .LVU1353
 3944 0006 0DF10702 		add	r2, sp, #7
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 131


 3945 000a 4F21     		movs	r1, #79
 3946              	.LVL419:
1102:Src/vl6180x_api.c **** 	*pIntStatus = IntStatus & 0xC7;
 3947              		.loc 1 1102 11 view .LVU1354
 3948 000c FFF7FEFF 		bl	VL6180x_GetCachedByte
 3949              	.LVL420:
1103:Src/vl6180x_api.c **** 
 3950              		.loc 1 1103 2 is_stmt 1 view .LVU1355
1103:Src/vl6180x_api.c **** 
 3951              		.loc 1 1103 26 is_stmt 0 view .LVU1356
 3952 0010 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 3953 0014 03F0C703 		and	r3, r3, #199
1103:Src/vl6180x_api.c **** 
 3954              		.loc 1 1103 14 view .LVU1357
 3955 0018 2370     		strb	r3, [r4]
1105:Src/vl6180x_api.c **** 	return status;
 3956              		.loc 1 1105 2 is_stmt 1 view .LVU1358
1106:Src/vl6180x_api.c **** }
 3957              		.loc 1 1106 2 view .LVU1359
1107:Src/vl6180x_api.c **** 
 3958              		.loc 1 1107 1 is_stmt 0 view .LVU1360
 3959 001a 02B0     		add	sp, sp, #8
 3960              	.LCFI65:
 3961              		.cfi_def_cfa_offset 8
 3962              		@ sp needed
 3963 001c 10BD     		pop	{r4, pc}
1107:Src/vl6180x_api.c **** 
 3964              		.loc 1 1107 1 view .LVU1361
 3965              		.cfi_endproc
 3966              	.LFE36:
 3968              		.section	.text.VL6180x_GetInterruptStatus,"ax",%progbits
 3969              		.align	1
 3970              		.global	VL6180x_GetInterruptStatus
 3971              		.syntax unified
 3972              		.thumb
 3973              		.thumb_func
 3974              		.fpu fpv4-sp-d16
 3976              	VL6180x_GetInterruptStatus:
 3977              	.LVL421:
 3978              	.LFB37:
1111:Src/vl6180x_api.c **** 	int status;
 3979              		.loc 1 1111 1 is_stmt 1 view -0
 3980              		.cfi_startproc
 3981              		@ args = 0, pretend = 0, frame = 0
 3982              		@ frame_needed = 0, uses_anonymous_args = 0
1111:Src/vl6180x_api.c **** 	int status;
 3983              		.loc 1 1111 1 is_stmt 0 view .LVU1363
 3984 0000 08B5     		push	{r3, lr}
 3985              	.LCFI66:
 3986              		.cfi_def_cfa_offset 8
 3987              		.cfi_offset 3, -8
 3988              		.cfi_offset 14, -4
 3989 0002 0A46     		mov	r2, r1
1112:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%p" , IntStatus);
 3990              		.loc 1 1112 2 is_stmt 1 view .LVU1364
1113:Src/vl6180x_api.c **** 	status = VL6180x_RdByte(dev, RESULT_INTERRUPT_STATUS_GPIO, IntStatus);
 3991              		.loc 1 1113 2 view .LVU1365
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 132


1114:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", (int)*IntStatus);
 3992              		.loc 1 1114 2 view .LVU1366
1114:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", (int)*IntStatus);
 3993              		.loc 1 1114 11 is_stmt 0 view .LVU1367
 3994 0004 4F21     		movs	r1, #79
 3995              	.LVL422:
1114:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", (int)*IntStatus);
 3996              		.loc 1 1114 11 view .LVU1368
 3997 0006 FFF7FEFF 		bl	VL6180x_RdByte
 3998              	.LVL423:
1115:Src/vl6180x_api.c **** 	return status;
 3999              		.loc 1 1115 2 is_stmt 1 view .LVU1369
1116:Src/vl6180x_api.c **** }
 4000              		.loc 1 1116 2 view .LVU1370
1117:Src/vl6180x_api.c **** 
 4001              		.loc 1 1117 1 is_stmt 0 view .LVU1371
 4002 000a 08BD     		pop	{r3, pc}
 4003              		.cfi_endproc
 4004              	.LFE37:
 4006              		.section	.text.VL6180x_ClearInterrupt,"ax",%progbits
 4007              		.align	1
 4008              		.global	VL6180x_ClearInterrupt
 4009              		.syntax unified
 4010              		.thumb
 4011              		.thumb_func
 4012              		.fpu fpv4-sp-d16
 4014              	VL6180x_ClearInterrupt:
 4015              	.LVL424:
 4016              	.LFB38:
1120:Src/vl6180x_api.c **** 	int status;
 4017              		.loc 1 1120 1 is_stmt 1 view -0
 4018              		.cfi_startproc
 4019              		@ args = 0, pretend = 0, frame = 0
 4020              		@ frame_needed = 0, uses_anonymous_args = 0
1121:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", (int)IntClear);
 4021              		.loc 1 1121 2 view .LVU1373
1122:Src/vl6180x_api.c **** 	if (IntClear <= 7) {
 4022              		.loc 1 1122 2 view .LVU1374
1123:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSTEM_INTERRUPT_CLEAR, IntClear);
 4023              		.loc 1 1123 2 view .LVU1375
1123:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSTEM_INTERRUPT_CLEAR, IntClear);
 4024              		.loc 1 1123 5 is_stmt 0 view .LVU1376
 4025 0000 0729     		cmp	r1, #7
 4026 0002 05D8     		bhi	.L276
1120:Src/vl6180x_api.c **** 	int status;
 4027              		.loc 1 1120 1 view .LVU1377
 4028 0004 08B5     		push	{r3, lr}
 4029              	.LCFI67:
 4030              		.cfi_def_cfa_offset 8
 4031              		.cfi_offset 3, -8
 4032              		.cfi_offset 14, -4
 4033 0006 0A46     		mov	r2, r1
1124:Src/vl6180x_api.c **** 	} else {
 4034              		.loc 1 1124 3 is_stmt 1 view .LVU1378
1124:Src/vl6180x_api.c **** 	} else {
 4035              		.loc 1 1124 12 is_stmt 0 view .LVU1379
 4036 0008 1521     		movs	r1, #21
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 133


 4037              	.LVL425:
1124:Src/vl6180x_api.c **** 	} else {
 4038              		.loc 1 1124 12 view .LVU1380
 4039 000a FFF7FEFF 		bl	VL6180x_WrByte
 4040              	.LVL426:
1130:Src/vl6180x_api.c **** 
 4041              		.loc 1 1130 1 view .LVU1381
 4042 000e 08BD     		pop	{r3, pc}
 4043              	.LVL427:
 4044              	.L276:
 4045              	.LCFI68:
 4046              		.cfi_def_cfa_offset 0
 4047              		.cfi_restore 3
 4048              		.cfi_restore 14
1126:Src/vl6180x_api.c **** 	}
 4049              		.loc 1 1126 10 view .LVU1382
 4050 0010 6FF00100 		mvn	r0, #1
 4051              	.LVL428:
1128:Src/vl6180x_api.c **** 	return status;
 4052              		.loc 1 1128 2 is_stmt 1 view .LVU1383
1129:Src/vl6180x_api.c **** }
 4053              		.loc 1 1129 2 view .LVU1384
1130:Src/vl6180x_api.c **** 
 4054              		.loc 1 1130 1 is_stmt 0 view .LVU1385
 4055 0014 7047     		bx	lr
 4056              		.cfi_endproc
 4057              	.LFE38:
 4059              		.section	.text.VL6180x_AlsPollMeasurement,"ax",%progbits
 4060              		.align	1
 4061              		.global	VL6180x_AlsPollMeasurement
 4062              		.syntax unified
 4063              		.thumb
 4064              		.thumb_func
 4065              		.fpu fpv4-sp-d16
 4067              	VL6180x_AlsPollMeasurement:
 4068              	.LVL429:
 4069              	.LFB13:
 535:Src/vl6180x_api.c **** 	int status;
 4070              		.loc 1 535 1 is_stmt 1 view -0
 4071              		.cfi_startproc
 4072              		@ args = 0, pretend = 0, frame = 8
 4073              		@ frame_needed = 0, uses_anonymous_args = 0
 535:Src/vl6180x_api.c **** 	int status;
 4074              		.loc 1 535 1 is_stmt 0 view .LVU1387
 4075 0000 70B5     		push	{r4, r5, r6, lr}
 4076              	.LCFI69:
 4077              		.cfi_def_cfa_offset 16
 4078              		.cfi_offset 4, -16
 4079              		.cfi_offset 5, -12
 4080              		.cfi_offset 6, -8
 4081              		.cfi_offset 14, -4
 4082 0002 82B0     		sub	sp, sp, #8
 4083              	.LCFI70:
 4084              		.cfi_def_cfa_offset 24
 4085 0004 0446     		mov	r4, r0
 4086 0006 0E46     		mov	r6, r1
 536:Src/vl6180x_api.c **** 	int ClrStatus;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 134


 4087              		.loc 1 536 2 is_stmt 1 view .LVU1388
 537:Src/vl6180x_api.c **** 	uint8_t IntStatus;
 4088              		.loc 1 537 2 view .LVU1389
 538:Src/vl6180x_api.c **** 
 4089              		.loc 1 538 2 view .LVU1390
 540:Src/vl6180x_api.c **** 	#if VL6180X_SAFE_POLLING_ENTER
 4090              		.loc 1 540 2 view .LVU1391
 550:Src/vl6180x_api.c **** 	if (status) {
 4091              		.loc 1 550 2 view .LVU1392
 550:Src/vl6180x_api.c **** 	if (status) {
 4092              		.loc 1 550 11 is_stmt 0 view .LVU1393
 4093 0008 0121     		movs	r1, #1
 4094              	.LVL430:
 550:Src/vl6180x_api.c **** 	if (status) {
 4095              		.loc 1 550 11 view .LVU1394
 4096 000a FFF7FEFF 		bl	VL6180x_AlsSetSystemMode
 4097              	.LVL431:
 551:Src/vl6180x_api.c **** 		VL6180x_ErrLog("VL6180x_AlsSetSystemMode fail");
 4098              		.loc 1 551 2 is_stmt 1 view .LVU1395
 551:Src/vl6180x_api.c **** 		VL6180x_ErrLog("VL6180x_AlsSetSystemMode fail");
 4099              		.loc 1 551 5 is_stmt 0 view .LVU1396
 4100 000e 0546     		mov	r5, r0
 4101 0010 90B9     		cbnz	r0, .L281
 4102              	.L284:
 557:Src/vl6180x_api.c **** 		status = VL6180x_AlsGetInterruptStatus(dev, &IntStatus);
 4103              		.loc 1 557 2 is_stmt 1 view .LVU1397
 558:Src/vl6180x_api.c **** 		if (status) {
 4104              		.loc 1 558 3 view .LVU1398
 558:Src/vl6180x_api.c **** 		if (status) {
 4105              		.loc 1 558 12 is_stmt 0 view .LVU1399
 4106 0012 0DF10701 		add	r1, sp, #7
 4107 0016 2046     		mov	r0, r4
 4108              	.LVL432:
 558:Src/vl6180x_api.c **** 		if (status) {
 4109              		.loc 1 558 12 view .LVU1400
 4110 0018 FFF7FEFF 		bl	VL6180x_AlsGetInterruptStatus
 4111              	.LVL433:
 559:Src/vl6180x_api.c **** 			break;
 4112              		.loc 1 559 3 is_stmt 1 view .LVU1401
 559:Src/vl6180x_api.c **** 			break;
 4113              		.loc 1 559 6 is_stmt 0 view .LVU1402
 4114 001c 0546     		mov	r5, r0
 4115 001e 18B9     		cbnz	r0, .L283
 562:Src/vl6180x_api.c **** 			break; /* break on new data (status is 0)  */
 4116              		.loc 1 562 3 is_stmt 1 view .LVU1403
 562:Src/vl6180x_api.c **** 			break; /* break on new data (status is 0)  */
 4117              		.loc 1 562 17 is_stmt 0 view .LVU1404
 4118 0020 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 562:Src/vl6180x_api.c **** 			break; /* break on new data (status is 0)  */
 4119              		.loc 1 562 6 view .LVU1405
 4120 0024 042B     		cmp	r3, #4
 4121 0026 F4D1     		bne	.L284
 4122              	.L283:
 567:Src/vl6180x_api.c **** 
 4123              		.loc 1 567 3 is_stmt 1 view .LVU1406
 569:Src/vl6180x_api.c **** 		status = VL6180x_AlsGetMeasurement(dev, pAlsData);
 4124              		.loc 1 569 2 view .LVU1407
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 135


 569:Src/vl6180x_api.c **** 		status = VL6180x_AlsGetMeasurement(dev, pAlsData);
 4125              		.loc 1 569 5 is_stmt 0 view .LVU1408
 4126 0028 4DB1     		cbz	r5, .L288
 4127              	.L285:
 573:Src/vl6180x_api.c **** 	if (ClrStatus) {
 4128              		.loc 1 573 2 is_stmt 1 view .LVU1409
 573:Src/vl6180x_api.c **** 	if (ClrStatus) {
 4129              		.loc 1 573 14 is_stmt 0 view .LVU1410
 4130 002a 0221     		movs	r1, #2
 4131 002c 2046     		mov	r0, r4
 4132              	.LVL434:
 573:Src/vl6180x_api.c **** 	if (ClrStatus) {
 4133              		.loc 1 573 14 view .LVU1411
 4134 002e FFF7FEFF 		bl	VL6180x_ClearInterrupt
 4135              	.LVL435:
 574:Src/vl6180x_api.c **** 		VL6180x_ErrLog("VL6180x_AlsClearInterrupt fail");
 4136              		.loc 1 574 2 is_stmt 1 view .LVU1412
 574:Src/vl6180x_api.c **** 		VL6180x_ErrLog("VL6180x_AlsClearInterrupt fail");
 4137              		.loc 1 574 5 is_stmt 0 view .LVU1413
 4138 0032 08B1     		cbz	r0, .L281
 575:Src/vl6180x_api.c **** 		if (!status) {
 4139              		.loc 1 575 3 is_stmt 1 view .LVU1414
 576:Src/vl6180x_api.c **** 		    status = ClrStatus; /* leave previous if already on error */
 4140              		.loc 1 576 3 view .LVU1415
 576:Src/vl6180x_api.c **** 		    status = ClrStatus; /* leave previous if already on error */
 4141              		.loc 1 576 6 is_stmt 0 view .LVU1416
 4142 0034 05B9     		cbnz	r5, .L281
 577:Src/vl6180x_api.c **** 		}
 4143              		.loc 1 577 14 view .LVU1417
 4144 0036 0546     		mov	r5, r0
 4145              	.LVL436:
 4146              	.L282:
 581:Src/vl6180x_api.c **** 
 4147              		.loc 1 581 2 is_stmt 1 view .LVU1418
 583:Src/vl6180x_api.c **** }
 4148              		.loc 1 583 2 view .LVU1419
 4149              	.L281:
 584:Src/vl6180x_api.c **** 
 4150              		.loc 1 584 1 is_stmt 0 view .LVU1420
 4151 0038 2846     		mov	r0, r5
 4152 003a 02B0     		add	sp, sp, #8
 4153              	.LCFI71:
 4154              		.cfi_remember_state
 4155              		.cfi_def_cfa_offset 16
 4156              		@ sp needed
 4157 003c 70BD     		pop	{r4, r5, r6, pc}
 4158              	.LVL437:
 4159              	.L288:
 4160              	.LCFI72:
 4161              		.cfi_restore_state
 570:Src/vl6180x_api.c **** 	}
 4162              		.loc 1 570 3 is_stmt 1 view .LVU1421
 570:Src/vl6180x_api.c **** 	}
 4163              		.loc 1 570 12 is_stmt 0 view .LVU1422
 4164 003e 3146     		mov	r1, r6
 4165 0040 2046     		mov	r0, r4
 4166              	.LVL438:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 136


 570:Src/vl6180x_api.c **** 	}
 4167              		.loc 1 570 12 view .LVU1423
 4168 0042 FFF7FEFF 		bl	VL6180x_AlsGetMeasurement
 4169              	.LVL439:
 4170 0046 0546     		mov	r5, r0
 4171              	.LVL440:
 570:Src/vl6180x_api.c **** 	}
 4172              		.loc 1 570 12 view .LVU1424
 4173 0048 EFE7     		b	.L285
 4174              		.cfi_endproc
 4175              	.LFE13:
 4177              		.section	.text.VL6180x_UpscaleGetScaling,"ax",%progbits
 4178              		.align	1
 4179              		.global	VL6180x_UpscaleGetScaling
 4180              		.syntax unified
 4181              		.thumb
 4182              		.thumb_func
 4183              		.fpu fpv4-sp-d16
 4185              	VL6180x_UpscaleGetScaling:
 4186              	.LVL441:
 4187              	.LFB43:
1321:Src/vl6180x_api.c **** 	int status;
 4188              		.loc 1 1321 1 is_stmt 1 view -0
 4189              		.cfi_startproc
 4190              		@ args = 0, pretend = 0, frame = 0
 4191              		@ frame_needed = 0, uses_anonymous_args = 0
 4192              		@ link register save eliminated.
1322:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 4193              		.loc 1 1322 2 view .LVU1426
1323:Src/vl6180x_api.c **** 	status = _GetUpscale(dev);
 4194              		.loc 1 1323 2 view .LVU1427
1324:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 4195              		.loc 1 1324 2 view .LVU1428
1325:Src/vl6180x_api.c **** 
 4196              		.loc 1 1325 2 view .LVU1429
1327:Src/vl6180x_api.c **** }
 4197              		.loc 1 1327 2 view .LVU1430
1328:Src/vl6180x_api.c **** 
 4198              		.loc 1 1328 1 is_stmt 0 view .LVU1431
 4199 0000 007E     		ldrb	r0, [r0, #24]	@ zero_extendqisi2
 4200              	.LVL442:
1328:Src/vl6180x_api.c **** 
 4201              		.loc 1 1328 1 view .LVU1432
 4202 0002 7047     		bx	lr
 4203              		.cfi_endproc
 4204              	.LFE43:
 4206              		.section	.text.VL6180x_SetGPIOxPolarity,"ax",%progbits
 4207              		.align	1
 4208              		.global	VL6180x_SetGPIOxPolarity
 4209              		.syntax unified
 4210              		.thumb
 4211              		.thumb_func
 4212              		.fpu fpv4-sp-d16
 4214              	VL6180x_SetGPIOxPolarity:
 4215              	.LVL443:
 4216              	.LFB45:
1362:Src/vl6180x_api.c **** 	int status;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 137


 4217              		.loc 1 1362 1 is_stmt 1 view -0
 4218              		.cfi_startproc
 4219              		@ args = 0, pretend = 0, frame = 0
 4220              		@ frame_needed = 0, uses_anonymous_args = 0
1363:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d %d", (int) pin, (int)active_high);
 4221              		.loc 1 1363 2 view .LVU1434
1364:Src/vl6180x_api.c **** 
 4222              		.loc 1 1364 2 view .LVU1435
1366:Src/vl6180x_api.c **** 		uint16_t RegIndex;
 4223              		.loc 1 1366 2 view .LVU1436
1366:Src/vl6180x_api.c **** 		uint16_t RegIndex;
 4224              		.loc 1 1366 5 is_stmt 0 view .LVU1437
 4225 0000 0129     		cmp	r1, #1
 4226 0002 0CD8     		bhi	.L294
1362:Src/vl6180x_api.c **** 	int status;
 4227              		.loc 1 1362 1 view .LVU1438
 4228 0004 08B5     		push	{r3, lr}
 4229              	.LCFI73:
 4230              		.cfi_def_cfa_offset 8
 4231              		.cfi_offset 3, -8
 4232              		.cfi_offset 14, -4
 4233              	.LBB5:
1367:Src/vl6180x_api.c **** 		uint8_t  DataSet;
 4234              		.loc 1 1367 3 is_stmt 1 view .LVU1439
1368:Src/vl6180x_api.c **** 		if (pin == 0)
 4235              		.loc 1 1368 3 view .LVU1440
1369:Src/vl6180x_api.c **** 			RegIndex = SYSTEM_MODE_GPIO0;
 4236              		.loc 1 1369 3 view .LVU1441
1369:Src/vl6180x_api.c **** 			RegIndex = SYSTEM_MODE_GPIO0;
 4237              		.loc 1 1369 6 is_stmt 0 view .LVU1442
 4238 0006 31B9     		cbnz	r1, .L295
1370:Src/vl6180x_api.c **** 		else
 4239              		.loc 1 1370 13 view .LVU1443
 4240 0008 1021     		movs	r1, #16
 4241              	.LVL444:
 4242              	.L292:
1374:Src/vl6180x_api.c **** 		   DataSet = GPIOx_POLARITY_SELECT_MASK;
 4243              		.loc 1 1374 3 is_stmt 1 view .LVU1444
1374:Src/vl6180x_api.c **** 		   DataSet = GPIOx_POLARITY_SELECT_MASK;
 4244              		.loc 1 1374 6 is_stmt 0 view .LVU1445
 4245 000a 32B1     		cbz	r2, .L296
1375:Src/vl6180x_api.c **** 		else
 4246              		.loc 1 1375 14 view .LVU1446
 4247 000c 2023     		movs	r3, #32
 4248              	.L293:
 4249              	.LVL445:
1379:Src/vl6180x_api.c **** 	} else {
 4250              		.loc 1 1379 3 is_stmt 1 view .LVU1447
1379:Src/vl6180x_api.c **** 	} else {
 4251              		.loc 1 1379 12 is_stmt 0 view .LVU1448
 4252 000e DF22     		movs	r2, #223
 4253              	.LVL446:
1379:Src/vl6180x_api.c **** 	} else {
 4254              		.loc 1 1379 12 view .LVU1449
 4255 0010 FFF7FEFF 		bl	VL6180x_UpdateByte
 4256              	.LVL447:
1379:Src/vl6180x_api.c **** 	} else {
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 138


 4257              		.loc 1 1379 12 view .LVU1450
 4258              	.LBE5:
1388:Src/vl6180x_api.c **** 
 4259              		.loc 1 1388 1 view .LVU1451
 4260 0014 08BD     		pop	{r3, pc}
 4261              	.LVL448:
 4262              	.L295:
 4263              	.LBB6:
1372:Src/vl6180x_api.c **** 
 4264              		.loc 1 1372 13 view .LVU1452
 4265 0016 1121     		movs	r1, #17
 4266              	.LVL449:
1372:Src/vl6180x_api.c **** 
 4267              		.loc 1 1372 13 view .LVU1453
 4268 0018 F7E7     		b	.L292
 4269              	.LVL450:
 4270              	.L296:
1377:Src/vl6180x_api.c **** 
 4271              		.loc 1 1377 14 view .LVU1454
 4272 001a 0023     		movs	r3, #0
 4273 001c F7E7     		b	.L293
 4274              	.LVL451:
 4275              	.L294:
 4276              	.LCFI74:
 4277              		.cfi_def_cfa_offset 0
 4278              		.cfi_restore 3
 4279              		.cfi_restore 14
1377:Src/vl6180x_api.c **** 
 4280              		.loc 1 1377 14 view .LVU1455
 4281              	.LBE6:
1382:Src/vl6180x_api.c **** 	}
 4282              		.loc 1 1382 10 view .LVU1456
 4283 001e 6FF00100 		mvn	r0, #1
 4284              	.LVL452:
1385:Src/vl6180x_api.c **** 
 4285              		.loc 1 1385 2 is_stmt 1 view .LVU1457
1387:Src/vl6180x_api.c **** }
 4286              		.loc 1 1387 2 view .LVU1458
1388:Src/vl6180x_api.c **** 
 4287              		.loc 1 1388 1 is_stmt 0 view .LVU1459
 4288 0022 7047     		bx	lr
 4289              		.cfi_endproc
 4290              	.LFE45:
 4292              		.section	.text.VL6180x_SetGPIOxFunctionality,"ax",%progbits
 4293              		.align	1
 4294              		.global	VL6180x_SetGPIOxFunctionality
 4295              		.syntax unified
 4296              		.thumb
 4297              		.thumb_func
 4298              		.fpu fpv4-sp-d16
 4300              	VL6180x_SetGPIOxFunctionality:
 4301              	.LVL453:
 4302              	.LFB46:
1391:Src/vl6180x_api.c **** 	int status;
 4303              		.loc 1 1391 1 is_stmt 1 view -0
 4304              		.cfi_startproc
 4305              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 139


 4306              		@ frame_needed = 0, uses_anonymous_args = 0
1392:Src/vl6180x_api.c **** 
 4307              		.loc 1 1392 2 view .LVU1461
1394:Src/vl6180x_api.c **** 
 4308              		.loc 1 1394 2 view .LVU1462
1396:Src/vl6180x_api.c **** 		uint16_t RegIndex;
 4309              		.loc 1 1396 2 view .LVU1463
1396:Src/vl6180x_api.c **** 		uint16_t RegIndex;
 4310              		.loc 1 1396 5 is_stmt 0 view .LVU1464
 4311 0000 0129     		cmp	r1, #1
 4312 0002 0ED8     		bhi	.L305
1396:Src/vl6180x_api.c **** 		uint16_t RegIndex;
 4313              		.loc 1 1396 35 discriminator 1 view .LVU1465
 4314 0004 082A     		cmp	r2, #8
 4315 0006 00D0     		beq	.L303
1396:Src/vl6180x_api.c **** 		uint16_t RegIndex;
 4316              		.loc 1 1396 38 discriminator 2 view .LVU1466
 4317 0008 72B9     		cbnz	r2, .L306
 4318              	.L303:
1391:Src/vl6180x_api.c **** 	int status;
 4319              		.loc 1 1391 1 view .LVU1467
 4320 000a 08B5     		push	{r3, lr}
 4321              	.LCFI75:
 4322              		.cfi_def_cfa_offset 8
 4323              		.cfi_offset 3, -8
 4324              		.cfi_offset 14, -4
 4325              	.LBB7:
1397:Src/vl6180x_api.c **** 
 4326              		.loc 1 1397 3 is_stmt 1 view .LVU1468
1399:Src/vl6180x_api.c **** 			RegIndex = SYSTEM_MODE_GPIO0;
 4327              		.loc 1 1399 3 view .LVU1469
1399:Src/vl6180x_api.c **** 			RegIndex = SYSTEM_MODE_GPIO0;
 4328              		.loc 1 1399 6 is_stmt 0 view .LVU1470
 4329 000c 39B9     		cbnz	r1, .L307
1400:Src/vl6180x_api.c **** 		else
 4330              		.loc 1 1400 13 view .LVU1471
 4331 000e 1021     		movs	r1, #16
 4332              	.LVL454:
 4333              	.L304:
1404:Src/vl6180x_api.c **** 									functionality << GPIOx_FUNCTIONALITY_SELECT_SHIFT);
 4334              		.loc 1 1404 3 is_stmt 1 view .LVU1472
1404:Src/vl6180x_api.c **** 									functionality << GPIOx_FUNCTIONALITY_SELECT_SHIFT);
 4335              		.loc 1 1404 12 is_stmt 0 view .LVU1473
 4336 0010 5200     		lsls	r2, r2, #1
 4337              	.LVL455:
1404:Src/vl6180x_api.c **** 									functionality << GPIOx_FUNCTIONALITY_SELECT_SHIFT);
 4338              		.loc 1 1404 12 view .LVU1474
 4339 0012 02F0FE03 		and	r3, r2, #254
 4340 0016 E122     		movs	r2, #225
 4341 0018 FFF7FEFF 		bl	VL6180x_UpdateByte
 4342              	.LVL456:
1406:Src/vl6180x_api.c **** 			VL6180x_ErrLog("Update SYSTEM_MODE_GPIO%d fail", (int)pin);
 4343              		.loc 1 1406 3 is_stmt 1 view .LVU1475
1407:Src/vl6180x_api.c **** 		}
 4344              		.loc 1 1407 4 view .LVU1476
 4345              	.LBE7:
1416:Src/vl6180x_api.c **** 
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 140


 4346              		.loc 1 1416 1 is_stmt 0 view .LVU1477
 4347 001c 08BD     		pop	{r3, pc}
 4348              	.LVL457:
 4349              	.L307:
 4350              	.LBB8:
1402:Src/vl6180x_api.c **** 
 4351              		.loc 1 1402 13 view .LVU1478
 4352 001e 1121     		movs	r1, #17
 4353              	.LVL458:
1402:Src/vl6180x_api.c **** 
 4354              		.loc 1 1402 13 view .LVU1479
 4355 0020 F6E7     		b	.L304
 4356              	.LVL459:
 4357              	.L305:
 4358              	.LCFI76:
 4359              		.cfi_def_cfa_offset 0
 4360              		.cfi_restore 3
 4361              		.cfi_restore 14
1402:Src/vl6180x_api.c **** 
 4362              		.loc 1 1402 13 view .LVU1480
 4363              	.LBE8:
1411:Src/vl6180x_api.c **** 	}
 4364              		.loc 1 1411 10 view .LVU1481
 4365 0022 6FF00100 		mvn	r0, #1
 4366              	.LVL460:
1411:Src/vl6180x_api.c **** 	}
 4367              		.loc 1 1411 10 view .LVU1482
 4368 0026 7047     		bx	lr
 4369              	.LVL461:
 4370              	.L306:
1411:Src/vl6180x_api.c **** 	}
 4371              		.loc 1 1411 10 view .LVU1483
 4372 0028 6FF00100 		mvn	r0, #1
 4373              	.LVL462:
1414:Src/vl6180x_api.c **** 	return status;
 4374              		.loc 1 1414 2 is_stmt 1 view .LVU1484
1415:Src/vl6180x_api.c **** }
 4375              		.loc 1 1415 2 view .LVU1485
1416:Src/vl6180x_api.c **** 
 4376              		.loc 1 1416 1 is_stmt 0 view .LVU1486
 4377 002c 7047     		bx	lr
 4378              		.cfi_endproc
 4379              	.LFE46:
 4381              		.section	.text.VL6180x_SetupGPIOx,"ax",%progbits
 4382              		.align	1
 4383              		.global	VL6180x_SetupGPIOx
 4384              		.syntax unified
 4385              		.thumb
 4386              		.thumb_func
 4387              		.fpu fpv4-sp-d16
 4389              	VL6180x_SetupGPIOx:
 4390              	.LVL463:
 4391              	.LFB47:
1420:Src/vl6180x_api.c **** 	int status;
 4392              		.loc 1 1420 1 is_stmt 1 view -0
 4393              		.cfi_startproc
 4394              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 141


 4395              		@ frame_needed = 0, uses_anonymous_args = 0
1421:Src/vl6180x_api.c **** 
 4396              		.loc 1 1421 2 view .LVU1488
1423:Src/vl6180x_api.c **** 
 4397              		.loc 1 1423 2 view .LVU1489
1425:Src/vl6180x_api.c **** 		uint16_t RegIndex;
 4398              		.loc 1 1425 2 view .LVU1490
1425:Src/vl6180x_api.c **** 		uint16_t RegIndex;
 4399              		.loc 1 1425 5 is_stmt 0 view .LVU1491
 4400 0000 0129     		cmp	r1, #1
 4401 0002 10D8     		bhi	.L316
1425:Src/vl6180x_api.c **** 		uint16_t RegIndex;
 4402              		.loc 1 1425 34 discriminator 1 view .LVU1492
 4403 0004 082A     		cmp	r2, #8
 4404 0006 00D0     		beq	.L313
1425:Src/vl6180x_api.c **** 		uint16_t RegIndex;
 4405              		.loc 1 1425 37 discriminator 2 view .LVU1493
 4406 0008 82B9     		cbnz	r2, .L317
 4407              	.L313:
1420:Src/vl6180x_api.c **** 	int status;
 4408              		.loc 1 1420 1 view .LVU1494
 4409 000a 08B5     		push	{r3, lr}
 4410              	.LCFI77:
 4411              		.cfi_def_cfa_offset 8
 4412              		.cfi_offset 3, -8
 4413              		.cfi_offset 14, -4
 4414              	.LBB9:
1426:Src/vl6180x_api.c **** 		uint8_t value = 0;
 4415              		.loc 1 1426 3 is_stmt 1 view .LVU1495
1427:Src/vl6180x_api.c **** 
 4416              		.loc 1 1427 3 view .LVU1496
 4417              	.LVL464:
1429:Src/vl6180x_api.c **** 		   RegIndex = SYSTEM_MODE_GPIO0;
 4418              		.loc 1 1429 3 view .LVU1497
1429:Src/vl6180x_api.c **** 		   RegIndex = SYSTEM_MODE_GPIO0;
 4419              		.loc 1 1429 6 is_stmt 0 view .LVU1498
 4420 000c 49B9     		cbnz	r1, .L318
1430:Src/vl6180x_api.c **** 		else
 4421              		.loc 1 1430 15 view .LVU1499
 4422 000e 1021     		movs	r1, #16
 4423              	.LVL465:
 4424              	.L314:
1434:Src/vl6180x_api.c **** 		   value |= GPIOx_POLARITY_SELECT_MASK;
 4425              		.loc 1 1434 3 is_stmt 1 view .LVU1500
1434:Src/vl6180x_api.c **** 		   value |= GPIOx_POLARITY_SELECT_MASK;
 4426              		.loc 1 1434 6 is_stmt 0 view .LVU1501
 4427 0010 03B1     		cbz	r3, .L315
1435:Src/vl6180x_api.c **** 
 4428              		.loc 1 1435 12 view .LVU1502
 4429 0012 2023     		movs	r3, #32
 4430              	.LVL466:
 4431              	.L315:
1437:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, RegIndex, value);
 4432              		.loc 1 1437 3 is_stmt 1 view .LVU1503
1437:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, RegIndex, value);
 4433              		.loc 1 1437 9 is_stmt 0 view .LVU1504
 4434 0014 43EA4202 		orr	r2, r3, r2, lsl #1
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 142


 4435              	.LVL467:
1438:Src/vl6180x_api.c **** 		if (status) {
 4436              		.loc 1 1438 3 is_stmt 1 view .LVU1505
1438:Src/vl6180x_api.c **** 		if (status) {
 4437              		.loc 1 1438 12 is_stmt 0 view .LVU1506
 4438 0018 02F0FE02 		and	r2, r2, #254
 4439              	.LVL468:
1438:Src/vl6180x_api.c **** 		if (status) {
 4440              		.loc 1 1438 12 view .LVU1507
 4441 001c FFF7FEFF 		bl	VL6180x_WrByte
 4442              	.LVL469:
1439:Src/vl6180x_api.c **** 		   VL6180x_ErrLog("SYSTEM_MODE_GPIO%d wr fail", (int)pin-SYSTEM_MODE_GPIO0);
 4443              		.loc 1 1439 3 is_stmt 1 view .LVU1508
1440:Src/vl6180x_api.c **** 		}
 4444              		.loc 1 1440 6 view .LVU1509
 4445              	.LBE9:
1449:Src/vl6180x_api.c **** 
 4446              		.loc 1 1449 1 is_stmt 0 view .LVU1510
 4447 0020 08BD     		pop	{r3, pc}
 4448              	.LVL470:
 4449              	.L318:
 4450              	.LBB10:
1432:Src/vl6180x_api.c **** 
 4451              		.loc 1 1432 15 view .LVU1511
 4452 0022 1121     		movs	r1, #17
 4453              	.LVL471:
1432:Src/vl6180x_api.c **** 
 4454              		.loc 1 1432 15 view .LVU1512
 4455 0024 F4E7     		b	.L314
 4456              	.LVL472:
 4457              	.L316:
 4458              	.LCFI78:
 4459              		.cfi_def_cfa_offset 0
 4460              		.cfi_restore 3
 4461              		.cfi_restore 14
1432:Src/vl6180x_api.c **** 
 4462              		.loc 1 1432 15 view .LVU1513
 4463              	.LBE10:
1444:Src/vl6180x_api.c **** 	}
 4464              		.loc 1 1444 10 view .LVU1514
 4465 0026 6FF00100 		mvn	r0, #1
 4466              	.LVL473:
1444:Src/vl6180x_api.c **** 	}
 4467              		.loc 1 1444 10 view .LVU1515
 4468 002a 7047     		bx	lr
 4469              	.LVL474:
 4470              	.L317:
1444:Src/vl6180x_api.c **** 	}
 4471              		.loc 1 1444 10 view .LVU1516
 4472 002c 6FF00100 		mvn	r0, #1
 4473              	.LVL475:
1447:Src/vl6180x_api.c **** 	return status;
 4474              		.loc 1 1447 2 is_stmt 1 view .LVU1517
1448:Src/vl6180x_api.c **** }
 4475              		.loc 1 1448 2 view .LVU1518
1449:Src/vl6180x_api.c **** 
 4476              		.loc 1 1449 1 is_stmt 0 view .LVU1519
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 143


 4477 0030 7047     		bx	lr
 4478              		.cfi_endproc
 4479              	.LFE47:
 4481              		.section	.text.VL6180x_DisableGPIOxOut,"ax",%progbits
 4482              		.align	1
 4483              		.global	VL6180x_DisableGPIOxOut
 4484              		.syntax unified
 4485              		.thumb
 4486              		.thumb_func
 4487              		.fpu fpv4-sp-d16
 4489              	VL6180x_DisableGPIOxOut:
 4490              	.LVL476:
 4491              	.LFB48:
1453:Src/vl6180x_api.c **** 	int status;
 4492              		.loc 1 1453 1 is_stmt 1 view -0
 4493              		.cfi_startproc
 4494              		@ args = 0, pretend = 0, frame = 0
 4495              		@ frame_needed = 0, uses_anonymous_args = 0
1453:Src/vl6180x_api.c **** 	int status;
 4496              		.loc 1 1453 1 is_stmt 0 view .LVU1521
 4497 0000 08B5     		push	{r3, lr}
 4498              	.LCFI79:
 4499              		.cfi_def_cfa_offset 8
 4500              		.cfi_offset 3, -8
 4501              		.cfi_offset 14, -4
1454:Src/vl6180x_api.c **** 
 4502              		.loc 1 1454 2 is_stmt 1 view .LVU1522
1456:Src/vl6180x_api.c **** 
 4503              		.loc 1 1456 2 view .LVU1523
1458:Src/vl6180x_api.c **** 
 4504              		.loc 1 1458 2 view .LVU1524
1458:Src/vl6180x_api.c **** 
 4505              		.loc 1 1458 11 is_stmt 0 view .LVU1525
 4506 0002 0022     		movs	r2, #0
 4507 0004 FFF7FEFF 		bl	VL6180x_SetGPIOxFunctionality
 4508              	.LVL477:
1460:Src/vl6180x_api.c **** 	return status;
 4509              		.loc 1 1460 2 is_stmt 1 view .LVU1526
1461:Src/vl6180x_api.c **** }
 4510              		.loc 1 1461 2 view .LVU1527
1462:Src/vl6180x_api.c **** 
 4511              		.loc 1 1462 1 is_stmt 0 view .LVU1528
 4512 0008 08BD     		pop	{r3, pc}
 4513              		.cfi_endproc
 4514              	.LFE48:
 4516              		.section	.text.VL6180x_SetupGPIO1,"ax",%progbits
 4517              		.align	1
 4518              		.global	VL6180x_SetupGPIO1
 4519              		.syntax unified
 4520              		.thumb
 4521              		.thumb_func
 4522              		.fpu fpv4-sp-d16
 4524              	VL6180x_SetupGPIO1:
 4525              	.LVL478:
 4526              	.LFB49:
1466:Src/vl6180x_api.c **** 	int status;
 4527              		.loc 1 1466 1 is_stmt 1 view -0
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 144


 4528              		.cfi_startproc
 4529              		@ args = 0, pretend = 0, frame = 0
 4530              		@ frame_needed = 0, uses_anonymous_args = 0
1466:Src/vl6180x_api.c **** 	int status;
 4531              		.loc 1 1466 1 is_stmt 0 view .LVU1530
 4532 0000 08B5     		push	{r3, lr}
 4533              	.LCFI80:
 4534              		.cfi_def_cfa_offset 8
 4535              		.cfi_offset 3, -8
 4536              		.cfi_offset 14, -4
 4537 0002 1346     		mov	r3, r2
1467:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d %d", (int)IntFunction, (int)ActiveHigh);
 4538              		.loc 1 1467 2 is_stmt 1 view .LVU1531
1468:Src/vl6180x_api.c **** 	status = VL6180x_SetupGPIOx(dev, 1, IntFunction, ActiveHigh);
 4539              		.loc 1 1468 2 view .LVU1532
1469:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 4540              		.loc 1 1469 2 view .LVU1533
1469:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 4541              		.loc 1 1469 11 is_stmt 0 view .LVU1534
 4542 0004 0A46     		mov	r2, r1
 4543              	.LVL479:
1469:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 4544              		.loc 1 1469 11 view .LVU1535
 4545 0006 0121     		movs	r1, #1
 4546              	.LVL480:
1469:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 4547              		.loc 1 1469 11 view .LVU1536
 4548 0008 FFF7FEFF 		bl	VL6180x_SetupGPIOx
 4549              	.LVL481:
1470:Src/vl6180x_api.c **** 	return status;
 4550              		.loc 1 1470 2 is_stmt 1 view .LVU1537
1471:Src/vl6180x_api.c **** }
 4551              		.loc 1 1471 2 view .LVU1538
1472:Src/vl6180x_api.c **** 
 4552              		.loc 1 1472 1 is_stmt 0 view .LVU1539
 4553 000c 08BD     		pop	{r3, pc}
 4554              		.cfi_endproc
 4555              	.LFE49:
 4557              		.section	.text.VL6180x_RangeConfigInterrupt,"ax",%progbits
 4558              		.align	1
 4559              		.global	VL6180x_RangeConfigInterrupt
 4560              		.syntax unified
 4561              		.thumb
 4562              		.thumb_func
 4563              		.fpu fpv4-sp-d16
 4565              	VL6180x_RangeConfigInterrupt:
 4566              	.LVL482:
 4567              	.LFB50:
1475:Src/vl6180x_api.c **** 	int status;
 4568              		.loc 1 1475 1 is_stmt 1 view -0
 4569              		.cfi_startproc
 4570              		@ args = 0, pretend = 0, frame = 0
 4571              		@ frame_needed = 0, uses_anonymous_args = 0
1476:Src/vl6180x_api.c **** 
 4572              		.loc 1 1476 2 view .LVU1541
1478:Src/vl6180x_api.c **** 		status = VL6180x_UpdateByte(dev, SYSTEM_INTERRUPT_CONFIG_GPIO,
 4573              		.loc 1 1478 2 view .LVU1542
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 145


1478:Src/vl6180x_api.c **** 		status = VL6180x_UpdateByte(dev, SYSTEM_INTERRUPT_CONFIG_GPIO,
 4574              		.loc 1 1478 5 is_stmt 0 view .LVU1543
 4575 0000 0429     		cmp	r1, #4
 4576 0002 06D8     		bhi	.L329
1475:Src/vl6180x_api.c **** 	int status;
 4577              		.loc 1 1475 1 view .LVU1544
 4578 0004 08B5     		push	{r3, lr}
 4579              	.LCFI81:
 4580              		.cfi_def_cfa_offset 8
 4581              		.cfi_offset 3, -8
 4582              		.cfi_offset 14, -4
 4583 0006 0B46     		mov	r3, r1
1479:Src/vl6180x_api.c **** 									(uint8_t)(~CONFIG_GPIO_RANGE_MASK),
 4584              		.loc 1 1479 3 is_stmt 1 view .LVU1545
1479:Src/vl6180x_api.c **** 									(uint8_t)(~CONFIG_GPIO_RANGE_MASK),
 4585              		.loc 1 1479 12 is_stmt 0 view .LVU1546
 4586 0008 F822     		movs	r2, #248
 4587 000a 1421     		movs	r1, #20
 4588              	.LVL483:
1479:Src/vl6180x_api.c **** 									(uint8_t)(~CONFIG_GPIO_RANGE_MASK),
 4589              		.loc 1 1479 12 view .LVU1547
 4590 000c FFF7FEFF 		bl	VL6180x_UpdateByte
 4591              	.LVL484:
1488:Src/vl6180x_api.c **** 
 4592              		.loc 1 1488 1 view .LVU1548
 4593 0010 08BD     		pop	{r3, pc}
 4594              	.LVL485:
 4595              	.L329:
 4596              	.LCFI82:
 4597              		.cfi_def_cfa_offset 0
 4598              		.cfi_restore 3
 4599              		.cfi_restore 14
1484:Src/vl6180x_api.c **** 	}
 4600              		.loc 1 1484 10 view .LVU1549
 4601 0012 6FF00100 		mvn	r0, #1
 4602              	.LVL486:
1486:Src/vl6180x_api.c **** 	return status;
 4603              		.loc 1 1486 2 is_stmt 1 view .LVU1550
1487:Src/vl6180x_api.c **** }
 4604              		.loc 1 1487 2 view .LVU1551
1488:Src/vl6180x_api.c **** 
 4605              		.loc 1 1488 1 is_stmt 0 view .LVU1552
 4606 0016 7047     		bx	lr
 4607              		.cfi_endproc
 4608              	.LFE50:
 4610              		.section	.text.VL6180x_RangeSetEceState,"ax",%progbits
 4611              		.align	1
 4612              		.global	VL6180x_RangeSetEceState
 4613              		.syntax unified
 4614              		.thumb
 4615              		.thumb_func
 4616              		.fpu fpv4-sp-d16
 4618              	VL6180x_RangeSetEceState:
 4619              	.LVL487:
 4620              	.LFB52:
1523:Src/vl6180x_api.c **** 	int status;
 4621              		.loc 1 1523 1 is_stmt 1 view -0
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 146


 4622              		.cfi_startproc
 4623              		@ args = 0, pretend = 0, frame = 0
 4624              		@ frame_needed = 0, uses_anonymous_args = 0
1523:Src/vl6180x_api.c **** 	int status;
 4625              		.loc 1 1523 1 is_stmt 0 view .LVU1554
 4626 0000 08B5     		push	{r3, lr}
 4627              	.LCFI83:
 4628              		.cfi_def_cfa_offset 8
 4629              		.cfi_offset 3, -8
 4630              		.cfi_offset 14, -4
1524:Src/vl6180x_api.c **** 	uint8_t or_mask;
 4631              		.loc 1 1524 2 is_stmt 1 view .LVU1555
1525:Src/vl6180x_api.c **** 
 4632              		.loc 1 1525 2 view .LVU1556
1527:Src/vl6180x_api.c **** 	if (enable)
 4633              		.loc 1 1527 2 view .LVU1557
1528:Src/vl6180x_api.c **** 		or_mask = RANGE_CHECK_ECE_ENABLE_MASK;
 4634              		.loc 1 1528 2 view .LVU1558
1528:Src/vl6180x_api.c **** 		or_mask = RANGE_CHECK_ECE_ENABLE_MASK;
 4635              		.loc 1 1528 5 is_stmt 0 view .LVU1559
 4636 0002 29B1     		cbz	r1, .L336
1529:Src/vl6180x_api.c **** 	else
 4637              		.loc 1 1529 11 view .LVU1560
 4638 0004 0123     		movs	r3, #1
 4639              	.L335:
 4640              	.LVL488:
1533:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 4641              		.loc 1 1533 2 is_stmt 1 view .LVU1561
1533:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 4642              		.loc 1 1533 11 is_stmt 0 view .LVU1562
 4643 0006 FE22     		movs	r2, #254
 4644 0008 2D21     		movs	r1, #45
 4645              	.LVL489:
1533:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 4646              		.loc 1 1533 11 view .LVU1563
 4647 000a FFF7FEFF 		bl	VL6180x_UpdateByte
 4648              	.LVL490:
1534:Src/vl6180x_api.c **** 	return status;
 4649              		.loc 1 1534 2 is_stmt 1 view .LVU1564
1535:Src/vl6180x_api.c **** }
 4650              		.loc 1 1535 2 view .LVU1565
1536:Src/vl6180x_api.c **** 
 4651              		.loc 1 1536 1 is_stmt 0 view .LVU1566
 4652 000e 08BD     		pop	{r3, pc}
 4653              	.LVL491:
 4654              	.L336:
1531:Src/vl6180x_api.c **** 
 4655              		.loc 1 1531 11 view .LVU1567
 4656 0010 0023     		movs	r3, #0
 4657 0012 F8E7     		b	.L335
 4658              		.cfi_endproc
 4659              	.LFE52:
 4661              		.section	.text.VL6180x_UpscaleSetScaling,"ax",%progbits
 4662              		.align	1
 4663              		.global	VL6180x_UpscaleSetScaling
 4664              		.syntax unified
 4665              		.thumb
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 147


 4666              		.thumb_func
 4667              		.fpu fpv4-sp-d16
 4669              	VL6180x_UpscaleSetScaling:
 4670              	.LVL492:
 4671              	.LFB42:
1257:Src/vl6180x_api.c **** 	int status;
 4672              		.loc 1 1257 1 is_stmt 1 view -0
 4673              		.cfi_startproc
 4674              		@ args = 0, pretend = 0, frame = 0
 4675              		@ frame_needed = 0, uses_anonymous_args = 0
1257:Src/vl6180x_api.c **** 	int status;
 4676              		.loc 1 1257 1 is_stmt 0 view .LVU1569
 4677 0000 38B5     		push	{r3, r4, r5, lr}
 4678              	.LCFI84:
 4679              		.cfi_def_cfa_offset 16
 4680              		.cfi_offset 3, -16
 4681              		.cfi_offset 4, -12
 4682              		.cfi_offset 5, -8
 4683              		.cfi_offset 14, -4
1258:Src/vl6180x_api.c **** 	uint16_t Scaler;
 4684              		.loc 1 1258 2 is_stmt 1 view .LVU1570
1259:Src/vl6180x_api.c **** 	uint16_t ValidHeight;
 4685              		.loc 1 1259 2 view .LVU1571
1260:Src/vl6180x_api.c **** 	int8_t  Offset;
 4686              		.loc 1 1260 2 view .LVU1572
1261:Src/vl6180x_api.c **** 
 4687              		.loc 1 1261 2 view .LVU1573
1263:Src/vl6180x_api.c **** 
 4688              		.loc 1 1263 2 view .LVU1574
1274:Src/vl6180x_api.c **** 
 4689              		.loc 1 1274 2 view .LVU1575
1274:Src/vl6180x_api.c **** 
 4690              		.loc 1 1274 30 is_stmt 0 view .LVU1576
 4691 0002 4B1E     		subs	r3, r1, #1
 4692 0004 DBB2     		uxtb	r3, r3
1274:Src/vl6180x_api.c **** 
 4693              		.loc 1 1274 5 view .LVU1577
 4694 0006 022B     		cmp	r3, #2
 4695 0008 38D8     		bhi	.L344
 4696 000a 0446     		mov	r4, r0
 4697 000c 0D46     		mov	r5, r1
1276:Src/vl6180x_api.c **** 		status = VL6180x_WrWord(dev, RANGE_SCALER, Scaler);
 4698              		.loc 1 1276 3 is_stmt 1 view .LVU1578
1276:Src/vl6180x_api.c **** 		status = VL6180x_WrWord(dev, RANGE_SCALER, Scaler);
 4699              		.loc 1 1276 33 is_stmt 0 view .LVU1579
 4700 000e 4B1E     		subs	r3, r1, #1
 4701              	.LVL493:
1277:Src/vl6180x_api.c **** 		_SetUpscale(dev, scaling);
 4702              		.loc 1 1277 3 is_stmt 1 view .LVU1580
1277:Src/vl6180x_api.c **** 		_SetUpscale(dev, scaling);
 4703              		.loc 1 1277 12 is_stmt 0 view .LVU1581
 4704 0010 1C4A     		ldr	r2, .L350
 4705 0012 32F81320 		ldrh	r2, [r2, r3, lsl #1]
 4706 0016 9621     		movs	r1, #150
 4707              	.LVL494:
1277:Src/vl6180x_api.c **** 		_SetUpscale(dev, scaling);
 4708              		.loc 1 1277 12 view .LVU1582
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 148


 4709 0018 FFF7FEFF 		bl	VL6180x_WrWord
 4710              	.LVL495:
1278:Src/vl6180x_api.c **** 
 4711              		.loc 1 1278 3 is_stmt 1 view .LVU1583
 4712 001c 2576     		strb	r5, [r4, #24]
1281:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSRANGE_PART_TO_PART_RANGE_OFFSET, Offset);
 4713              		.loc 1 1281 3 view .LVU1584
1281:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSRANGE_PART_TO_PART_RANGE_OFFSET, Offset);
 4714              		.loc 1 1281 12 is_stmt 0 view .LVU1585
 4715 001e 94F9CD20 		ldrsb	r2, [r4, #205]
1281:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSRANGE_PART_TO_PART_RANGE_OFFSET, Offset);
 4716              		.loc 1 1281 55 view .LVU1586
 4717 0022 92FBF5F2 		sdiv	r2, r2, r5
 4718              	.LVL496:
1282:Src/vl6180x_api.c **** 
 4719              		.loc 1 1282 3 is_stmt 1 view .LVU1587
1282:Src/vl6180x_api.c **** 
 4720              		.loc 1 1282 12 is_stmt 0 view .LVU1588
 4721 0026 D2B2     		uxtb	r2, r2
1282:Src/vl6180x_api.c **** 
 4722              		.loc 1 1282 12 view .LVU1589
 4723 0028 2421     		movs	r1, #36
 4724 002a 2046     		mov	r0, r4
 4725 002c FFF7FEFF 		bl	VL6180x_WrByte
 4726              	.LVL497:
1285:Src/vl6180x_api.c **** 			status = VL6180x_WrByte(dev, SYSRANGE_CROSSTALK_VALID_HEIGHT,
 4727              		.loc 1 1285 3 is_stmt 1 view .LVU1590
1285:Src/vl6180x_api.c **** 			status = VL6180x_WrByte(dev, SYSRANGE_CROSSTALK_VALID_HEIGHT,
 4728              		.loc 1 1285 6 is_stmt 0 view .LVU1591
 4729 0030 A0B1     		cbz	r0, .L348
 4730              	.L340:
1290:Src/vl6180x_api.c **** 			if(  VL6180xDevDataGet(dev, RangeIgnore.Enabled) !=0 ){
 4731              		.loc 1 1290 3 is_stmt 1 view .LVU1592
1290:Src/vl6180x_api.c **** 			if(  VL6180xDevDataGet(dev, RangeIgnore.Enabled) !=0 ){
 4732              		.loc 1 1290 5 is_stmt 0 view .LVU1593
 4733 0032 68B9     		cbnz	r0, .L341
1291:Src/vl6180x_api.c **** 				ValidHeight = VL6180xDevDataGet(dev, RangeIgnore.ValidHeight);
 4734              		.loc 1 1291 4 is_stmt 1 view .LVU1594
1291:Src/vl6180x_api.c **** 				ValidHeight = VL6180xDevDataGet(dev, RangeIgnore.ValidHeight);
 4735              		.loc 1 1291 9 is_stmt 0 view .LVU1595
 4736 0034 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
1291:Src/vl6180x_api.c **** 				ValidHeight = VL6180xDevDataGet(dev, RangeIgnore.ValidHeight);
 4737              		.loc 1 1291 6 view .LVU1596
 4738 0036 5BB1     		cbz	r3, .L341
1292:Src/vl6180x_api.c **** 				ValidHeight  /= _GetUpscale(dev);
 4739              		.loc 1 1292 5 is_stmt 1 view .LVU1597
1292:Src/vl6180x_api.c **** 				ValidHeight  /= _GetUpscale(dev);
 4740              		.loc 1 1292 17 is_stmt 0 view .LVU1598
 4741 0038 A289     		ldrh	r2, [r4, #12]
 4742              	.LVL498:
1293:Src/vl6180x_api.c **** 				if( ValidHeight > 255 )
 4743              		.loc 1 1293 5 is_stmt 1 view .LVU1599
1293:Src/vl6180x_api.c **** 				if( ValidHeight > 255 )
 4744              		.loc 1 1293 21 is_stmt 0 view .LVU1600
 4745 003a 237E     		ldrb	r3, [r4, #24]	@ zero_extendqisi2
1293:Src/vl6180x_api.c **** 				if( ValidHeight > 255 )
 4746              		.loc 1 1293 18 view .LVU1601
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 149


 4747 003c 92FBF3F2 		sdiv	r2, r2, r3
 4748              	.LVL499:
1294:Src/vl6180x_api.c **** 					ValidHeight = 255;
 4749              		.loc 1 1294 5 is_stmt 1 view .LVU1602
1294:Src/vl6180x_api.c **** 					ValidHeight = 255;
 4750              		.loc 1 1294 7 is_stmt 0 view .LVU1603
 4751 0040 FF2A     		cmp	r2, #255
 4752 0042 00D9     		bls	.L342
1295:Src/vl6180x_api.c **** 
 4753              		.loc 1 1295 18 view .LVU1604
 4754 0044 FF22     		movs	r2, #255
 4755              	.LVL500:
 4756              	.L342:
1297:Src/vl6180x_api.c **** 							ValidHeight );
 4757              		.loc 1 1297 5 is_stmt 1 view .LVU1605
1297:Src/vl6180x_api.c **** 							ValidHeight );
 4758              		.loc 1 1297 14 is_stmt 0 view .LVU1606
 4759 0046 D2B2     		uxtb	r2, r2
 4760              	.LVL501:
1297:Src/vl6180x_api.c **** 							ValidHeight );
 4761              		.loc 1 1297 14 view .LVU1607
 4762 0048 2521     		movs	r1, #37
 4763 004a 2046     		mov	r0, r4
 4764              	.LVL502:
1297:Src/vl6180x_api.c **** 							ValidHeight );
 4765              		.loc 1 1297 14 view .LVU1608
 4766 004c FFF7FEFF 		bl	VL6180x_WrByte
 4767              	.LVL503:
 4768              	.L341:
1303:Src/vl6180x_api.c **** 			status = VL6180x_RangeSetEceState(dev, scaling == 1); /* enable ece only at 1x scaling */
 4769              		.loc 1 1303 3 is_stmt 1 view .LVU1609
1303:Src/vl6180x_api.c **** 			status = VL6180x_RangeSetEceState(dev, scaling == 1); /* enable ece only at 1x scaling */
 4770              		.loc 1 1303 6 is_stmt 0 view .LVU1610
 4771 0050 60B1     		cbz	r0, .L349
 4772              	.L343:
1306:Src/vl6180x_api.c **** 			status = NOT_GUARANTEED ;
 4773              		.loc 1 1306 3 is_stmt 1 view .LVU1611
1306:Src/vl6180x_api.c **** 			status = NOT_GUARANTEED ;
 4774              		.loc 1 1306 6 is_stmt 0 view .LVU1612
 4775 0052 10B9     		cbnz	r0, .L338
1306:Src/vl6180x_api.c **** 			status = NOT_GUARANTEED ;
 4776              		.loc 1 1306 46 discriminator 1 view .LVU1613
 4777 0054 012D     		cmp	r5, #1
 4778 0056 00D0     		beq	.L338
1307:Src/vl6180x_api.c **** 		}
 4779              		.loc 1 1307 11 view .LVU1614
 4780 0058 0320     		movs	r0, #3
 4781              	.LVL504:
1315:Src/vl6180x_api.c **** 	return status;
 4782              		.loc 1 1315 2 is_stmt 1 view .LVU1615
1316:Src/vl6180x_api.c **** }
 4783              		.loc 1 1316 2 view .LVU1616
 4784              	.L338:
1317:Src/vl6180x_api.c **** 
 4785              		.loc 1 1317 1 is_stmt 0 view .LVU1617
 4786 005a 38BD     		pop	{r3, r4, r5, pc}
 4787              	.LVL505:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 150


 4788              	.L348:
1286:Src/vl6180x_api.c **** 									DEF_CROSS_TALK_VALID_HEIGHT_VALUE /  scaling);
 4789              		.loc 1 1286 4 is_stmt 1 view .LVU1618
1286:Src/vl6180x_api.c **** 									DEF_CROSS_TALK_VALID_HEIGHT_VALUE /  scaling);
 4790              		.loc 1 1286 13 is_stmt 0 view .LVU1619
 4791 005c 1422     		movs	r2, #20
 4792 005e 92FBF5F2 		sdiv	r2, r2, r5
 4793 0062 2121     		movs	r1, #33
 4794 0064 2046     		mov	r0, r4
 4795              	.LVL506:
1286:Src/vl6180x_api.c **** 									DEF_CROSS_TALK_VALID_HEIGHT_VALUE /  scaling);
 4796              		.loc 1 1286 13 view .LVU1620
 4797 0066 FFF7FEFF 		bl	VL6180x_WrByte
 4798              	.LVL507:
1286:Src/vl6180x_api.c **** 									DEF_CROSS_TALK_VALID_HEIGHT_VALUE /  scaling);
 4799              		.loc 1 1286 13 view .LVU1621
 4800 006a E2E7     		b	.L340
 4801              	.L349:
1304:Src/vl6180x_api.c **** 		}
 4802              		.loc 1 1304 4 is_stmt 1 view .LVU1622
1304:Src/vl6180x_api.c **** 		}
 4803              		.loc 1 1304 13 is_stmt 0 view .LVU1623
 4804 006c 012D     		cmp	r5, #1
 4805 006e 14BF     		ite	ne
 4806 0070 0021     		movne	r1, #0
 4807 0072 0121     		moveq	r1, #1
 4808 0074 2046     		mov	r0, r4
 4809              	.LVL508:
1304:Src/vl6180x_api.c **** 		}
 4810              		.loc 1 1304 13 view .LVU1624
 4811 0076 FFF7FEFF 		bl	VL6180x_RangeSetEceState
 4812              	.LVL509:
1304:Src/vl6180x_api.c **** 		}
 4813              		.loc 1 1304 13 view .LVU1625
 4814 007a EAE7     		b	.L343
 4815              	.LVL510:
 4816              	.L344:
1311:Src/vl6180x_api.c **** 	}
 4817              		.loc 1 1311 10 view .LVU1626
 4818 007c 6FF00100 		mvn	r0, #1
 4819              	.LVL511:
1311:Src/vl6180x_api.c **** 	}
 4820              		.loc 1 1311 10 view .LVU1627
 4821 0080 EBE7     		b	.L338
 4822              	.L351:
 4823 0082 00BF     		.align	2
 4824              	.L350:
 4825 0084 00000000 		.word	.LANCHOR3
 4826              		.cfi_endproc
 4827              	.LFE42:
 4829              		.section	.text.VL6180x_RangeSetInterMeasPeriod,"ax",%progbits
 4830              		.align	1
 4831              		.global	VL6180x_RangeSetInterMeasPeriod
 4832              		.syntax unified
 4833              		.thumb
 4834              		.thumb_func
 4835              		.fpu fpv4-sp-d16
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 151


 4837              	VL6180x_RangeSetInterMeasPeriod:
 4838              	.LVL512:
 4839              	.LFB54:
1559:Src/vl6180x_api.c **** 	uint8_t SetTime;
 4840              		.loc 1 1559 1 is_stmt 1 view -0
 4841              		.cfi_startproc
 4842              		@ args = 0, pretend = 0, frame = 0
 4843              		@ frame_needed = 0, uses_anonymous_args = 0
1560:Src/vl6180x_api.c **** 	int status;
 4844              		.loc 1 1560 2 view .LVU1629
1561:Src/vl6180x_api.c **** 
 4845              		.loc 1 1561 2 view .LVU1630
1563:Src/vl6180x_api.c **** 	do {
 4846              		.loc 1 1563 2 view .LVU1631
1564:Src/vl6180x_api.c **** 		if (InterMeasTime_msec > 2550) {
 4847              		.loc 1 1564 2 view .LVU1632
1565:Src/vl6180x_api.c **** 			status = INVALID_PARAMS;
 4848              		.loc 1 1565 3 view .LVU1633
1565:Src/vl6180x_api.c **** 			status = INVALID_PARAMS;
 4849              		.loc 1 1565 6 is_stmt 0 view .LVU1634
 4850 0000 40F6F613 		movw	r3, #2550
 4851 0004 9942     		cmp	r1, r3
 4852 0006 12D8     		bhi	.L355
1559:Src/vl6180x_api.c **** 	uint8_t SetTime;
 4853              		.loc 1 1559 1 view .LVU1635
 4854 0008 10B5     		push	{r4, lr}
 4855              	.LCFI85:
 4856              		.cfi_def_cfa_offset 8
 4857              		.cfi_offset 4, -8
 4858              		.cfi_offset 14, -4
1571:Src/vl6180x_api.c **** 			InterMeasTime_msec = 10;
 4859              		.loc 1 1571 3 is_stmt 1 view .LVU1636
1571:Src/vl6180x_api.c **** 			InterMeasTime_msec = 10;
 4860              		.loc 1 1571 6 is_stmt 0 view .LVU1637
 4861 000a 0929     		cmp	r1, #9
 4862 000c 00D8     		bhi	.L354
1572:Src/vl6180x_api.c **** 		}
 4863              		.loc 1 1572 23 view .LVU1638
 4864 000e 0A21     		movs	r1, #10
 4865              	.LVL513:
 4866              	.L354:
1574:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSRANGE_INTERMEASUREMENT_PERIOD, SetTime);
 4867              		.loc 1 1574 3 is_stmt 1 view .LVU1639
1574:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSRANGE_INTERMEASUREMENT_PERIOD, SetTime);
 4868              		.loc 1 1574 42 is_stmt 0 view .LVU1640
 4869 0010 084A     		ldr	r2, .L362
 4870 0012 A2FB0132 		umull	r3, r2, r2, r1
 4871 0016 D408     		lsrs	r4, r2, #3
 4872              	.LVL514:
1575:Src/vl6180x_api.c **** 		if (status) {
 4873              		.loc 1 1575 3 is_stmt 1 view .LVU1641
1575:Src/vl6180x_api.c **** 		if (status) {
 4874              		.loc 1 1575 12 is_stmt 0 view .LVU1642
 4875 0018 C2F3C702 		ubfx	r2, r2, #3, #8
 4876              	.LVL515:
1575:Src/vl6180x_api.c **** 		if (status) {
 4877              		.loc 1 1575 12 view .LVU1643
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 152


 4878 001c 1B21     		movs	r1, #27
 4879              	.LVL516:
1575:Src/vl6180x_api.c **** 		if (status) {
 4880              		.loc 1 1575 12 view .LVU1644
 4881 001e FFF7FEFF 		bl	VL6180x_WrByte
 4882              	.LVL517:
1576:Src/vl6180x_api.c **** 			VL6180x_ErrLog("SYSRANGE_INTERMEASUREMENT_PERIOD wr fail");
 4883              		.loc 1 1576 3 is_stmt 1 view .LVU1645
1576:Src/vl6180x_api.c **** 			VL6180x_ErrLog("SYSRANGE_INTERMEASUREMENT_PERIOD wr fail");
 4884              		.loc 1 1576 6 is_stmt 0 view .LVU1646
 4885 0022 18B9     		cbnz	r0, .L352
1578:Src/vl6180x_api.c **** 			status = MIN_CLIPED;  /* on success change status to clip if it did */
 4886              		.loc 1 1578 10 is_stmt 1 view .LVU1647
1578:Src/vl6180x_api.c **** 			status = MIN_CLIPED;  /* on success change status to clip if it did */
 4887              		.loc 1 1578 13 is_stmt 0 view .LVU1648
 4888 0024 E3B2     		uxtb	r3, r4
 4889 0026 9C42     		cmp	r4, r3
 4890 0028 00D0     		beq	.L352
1579:Src/vl6180x_api.c **** 		}
 4891              		.loc 1 1579 11 view .LVU1649
 4892 002a 0220     		movs	r0, #2
 4893              	.LVL518:
1581:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 4894              		.loc 1 1581 10 is_stmt 1 view .LVU1650
1582:Src/vl6180x_api.c **** 	return status;
 4895              		.loc 1 1582 2 view .LVU1651
1583:Src/vl6180x_api.c **** }
 4896              		.loc 1 1583 2 view .LVU1652
 4897              	.L352:
1584:Src/vl6180x_api.c **** 
 4898              		.loc 1 1584 1 is_stmt 0 view .LVU1653
 4899 002c 10BD     		pop	{r4, pc}
 4900              	.LVL519:
 4901              	.L355:
 4902              	.LCFI86:
 4903              		.cfi_def_cfa_offset 0
 4904              		.cfi_restore 4
 4905              		.cfi_restore 14
1566:Src/vl6180x_api.c **** 			break;
 4906              		.loc 1 1566 11 view .LVU1654
 4907 002e 6FF00100 		mvn	r0, #1
 4908              	.LVL520:
1584:Src/vl6180x_api.c **** 
 4909              		.loc 1 1584 1 view .LVU1655
 4910 0032 7047     		bx	lr
 4911              	.L363:
 4912              		.align	2
 4913              	.L362:
 4914 0034 CDCCCCCC 		.word	-858993459
 4915              		.cfi_endproc
 4916              	.LFE54:
 4918              		.section	.text.VL6180x_RangeGetDeviceReady,"ax",%progbits
 4919              		.align	1
 4920              		.global	VL6180x_RangeGetDeviceReady
 4921              		.syntax unified
 4922              		.thumb
 4923              		.thumb_func
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 153


 4924              		.fpu fpv4-sp-d16
 4926              	VL6180x_RangeGetDeviceReady:
 4927              	.LVL521:
 4928              	.LFB55:
1588:Src/vl6180x_api.c **** 	int status;
 4929              		.loc 1 1588 1 is_stmt 1 view -0
 4930              		.cfi_startproc
 4931              		@ args = 0, pretend = 0, frame = 8
 4932              		@ frame_needed = 0, uses_anonymous_args = 0
1588:Src/vl6180x_api.c **** 	int status;
 4933              		.loc 1 1588 1 is_stmt 0 view .LVU1657
 4934 0000 10B5     		push	{r4, lr}
 4935              	.LCFI87:
 4936              		.cfi_def_cfa_offset 8
 4937              		.cfi_offset 4, -8
 4938              		.cfi_offset 14, -4
 4939 0002 82B0     		sub	sp, sp, #8
 4940              	.LCFI88:
 4941              		.cfi_def_cfa_offset 16
 4942 0004 0C46     		mov	r4, r1
1589:Src/vl6180x_api.c **** 	uint8_t u8;
 4943              		.loc 1 1589 2 is_stmt 1 view .LVU1658
1590:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%p", (int)Ready);
 4944              		.loc 1 1590 2 view .LVU1659
1591:Src/vl6180x_api.c **** 	status = VL6180x_RdByte(dev, RESULT_RANGE_STATUS, &u8);
 4945              		.loc 1 1591 2 view .LVU1660
1592:Src/vl6180x_api.c **** 	if (!status)
 4946              		.loc 1 1592 2 view .LVU1661
1592:Src/vl6180x_api.c **** 	if (!status)
 4947              		.loc 1 1592 11 is_stmt 0 view .LVU1662
 4948 0006 0DF10702 		add	r2, sp, #7
 4949 000a 4D21     		movs	r1, #77
 4950              	.LVL522:
1592:Src/vl6180x_api.c **** 	if (!status)
 4951              		.loc 1 1592 11 view .LVU1663
 4952 000c FFF7FEFF 		bl	VL6180x_RdByte
 4953              	.LVL523:
1593:Src/vl6180x_api.c **** 		*Ready = u8&RANGE_DEVICE_READY_MASK;
 4954              		.loc 1 1593 2 is_stmt 1 view .LVU1664
1593:Src/vl6180x_api.c **** 		*Ready = u8&RANGE_DEVICE_READY_MASK;
 4955              		.loc 1 1593 5 is_stmt 0 view .LVU1665
 4956 0010 20B9     		cbnz	r0, .L364
1594:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", *Ready);
 4957              		.loc 1 1594 3 is_stmt 1 view .LVU1666
1594:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", *Ready);
 4958              		.loc 1 1594 14 is_stmt 0 view .LVU1667
 4959 0012 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 4960 0016 03F00103 		and	r3, r3, #1
1594:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d", *Ready);
 4961              		.loc 1 1594 10 view .LVU1668
 4962 001a 2360     		str	r3, [r4]
1595:Src/vl6180x_api.c **** 	return status;
 4963              		.loc 1 1595 2 is_stmt 1 view .LVU1669
1596:Src/vl6180x_api.c **** }
 4964              		.loc 1 1596 2 view .LVU1670
 4965              	.L364:
1597:Src/vl6180x_api.c **** 
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 154


 4966              		.loc 1 1597 1 is_stmt 0 view .LVU1671
 4967 001c 02B0     		add	sp, sp, #8
 4968              	.LCFI89:
 4969              		.cfi_def_cfa_offset 8
 4970              		@ sp needed
 4971 001e 10BD     		pop	{r4, pc}
1597:Src/vl6180x_api.c **** 
 4972              		.loc 1 1597 1 view .LVU1672
 4973              		.cfi_endproc
 4974              	.LFE55:
 4976              		.section	.text.VL6180x_RangeWaitDeviceReady,"ax",%progbits
 4977              		.align	1
 4978              		.global	VL6180x_RangeWaitDeviceReady
 4979              		.syntax unified
 4980              		.thumb
 4981              		.thumb_func
 4982              		.fpu fpv4-sp-d16
 4984              	VL6180x_RangeWaitDeviceReady:
 4985              	.LVL524:
 4986              	.LFB56:
1601:Src/vl6180x_api.c **** 	int status = 0; /* if user specify an invalid <=0 loop count we'll return error */
 4987              		.loc 1 1601 1 is_stmt 1 view -0
 4988              		.cfi_startproc
 4989              		@ args = 0, pretend = 0, frame = 8
 4990              		@ frame_needed = 0, uses_anonymous_args = 0
1601:Src/vl6180x_api.c **** 	int status = 0; /* if user specify an invalid <=0 loop count we'll return error */
 4991              		.loc 1 1601 1 is_stmt 0 view .LVU1674
 4992 0000 70B5     		push	{r4, r5, r6, lr}
 4993              	.LCFI90:
 4994              		.cfi_def_cfa_offset 16
 4995              		.cfi_offset 4, -16
 4996              		.cfi_offset 5, -12
 4997              		.cfi_offset 6, -8
 4998              		.cfi_offset 14, -4
 4999 0002 82B0     		sub	sp, sp, #8
 5000              	.LCFI91:
 5001              		.cfi_def_cfa_offset 24
1602:Src/vl6180x_api.c **** 	int  n;
 5002              		.loc 1 1602 2 is_stmt 1 view .LVU1675
 5003              	.LVL525:
1603:Src/vl6180x_api.c **** 	uint8_t u8;
 5004              		.loc 1 1603 2 view .LVU1676
1604:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", (int)MaxLoop);
 5005              		.loc 1 1604 2 view .LVU1677
1605:Src/vl6180x_api.c **** 	if (MaxLoop < 1) {
 5006              		.loc 1 1605 2 view .LVU1678
1606:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
 5007              		.loc 1 1606 2 view .LVU1679
1606:Src/vl6180x_api.c **** 		status = INVALID_PARAMS;
 5008              		.loc 1 1606 5 is_stmt 0 view .LVU1680
 5009 0004 0D1E     		subs	r5, r1, #0
 5010 0006 1DDD     		ble	.L372
 5011 0008 0646     		mov	r6, r0
1609:Src/vl6180x_api.c **** 			status = VL6180x_RdByte(dev, RESULT_RANGE_STATUS, &u8);
 5012              		.loc 1 1609 10 view .LVU1681
 5013 000a 0024     		movs	r4, #0
1602:Src/vl6180x_api.c **** 	int  n;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 155


 5014              		.loc 1 1602 6 view .LVU1682
 5015 000c 2246     		mov	r2, r4
 5016 000e 00E0     		b	.L369
 5017              	.LVL526:
 5018              	.L375:
1609:Src/vl6180x_api.c **** 			status = VL6180x_RdByte(dev, RESULT_RANGE_STATUS, &u8);
 5019              		.loc 1 1609 29 is_stmt 1 discriminator 2 view .LVU1683
1609:Src/vl6180x_api.c **** 			status = VL6180x_RdByte(dev, RESULT_RANGE_STATUS, &u8);
 5020              		.loc 1 1609 30 is_stmt 0 discriminator 2 view .LVU1684
 5021 0010 0134     		adds	r4, r4, #1
 5022              	.LVL527:
 5023              	.L369:
1609:Src/vl6180x_api.c **** 			status = VL6180x_RdByte(dev, RESULT_RANGE_STATUS, &u8);
 5024              		.loc 1 1609 15 is_stmt 1 discriminator 1 view .LVU1685
1609:Src/vl6180x_api.c **** 			status = VL6180x_RdByte(dev, RESULT_RANGE_STATUS, &u8);
 5025              		.loc 1 1609 3 is_stmt 0 discriminator 1 view .LVU1686
 5026 0012 AC42     		cmp	r4, r5
 5027 0014 0FDA     		bge	.L370
1610:Src/vl6180x_api.c **** 			if (status)
 5028              		.loc 1 1610 4 is_stmt 1 view .LVU1687
1610:Src/vl6180x_api.c **** 			if (status)
 5029              		.loc 1 1610 13 is_stmt 0 view .LVU1688
 5030 0016 0DF10702 		add	r2, sp, #7
 5031              	.LVL528:
1610:Src/vl6180x_api.c **** 			if (status)
 5032              		.loc 1 1610 13 view .LVU1689
 5033 001a 4D21     		movs	r1, #77
 5034 001c 3046     		mov	r0, r6
 5035 001e FFF7FEFF 		bl	VL6180x_RdByte
 5036              	.LVL529:
1611:Src/vl6180x_api.c **** 				break;
 5037              		.loc 1 1611 4 is_stmt 1 view .LVU1690
1611:Src/vl6180x_api.c **** 				break;
 5038              		.loc 1 1611 7 is_stmt 0 view .LVU1691
 5039 0022 0246     		mov	r2, r0
 5040 0024 38B9     		cbnz	r0, .L370
1613:Src/vl6180x_api.c **** 			if (u8)
 5041              		.loc 1 1613 4 is_stmt 1 view .LVU1692
1613:Src/vl6180x_api.c **** 			if (u8)
 5042              		.loc 1 1613 12 is_stmt 0 view .LVU1693
 5043 0026 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 5044 002a 03F00103 		and	r3, r3, #1
1613:Src/vl6180x_api.c **** 			if (u8)
 5045              		.loc 1 1613 7 view .LVU1694
 5046 002e 8DF80730 		strb	r3, [sp, #7]
1614:Src/vl6180x_api.c **** 				break;
 5047              		.loc 1 1614 4 is_stmt 1 view .LVU1695
1614:Src/vl6180x_api.c **** 				break;
 5048              		.loc 1 1614 7 is_stmt 0 view .LVU1696
 5049 0032 002B     		cmp	r3, #0
 5050 0034 ECD0     		beq	.L375
 5051              	.LVL530:
 5052              	.L370:
1618:Src/vl6180x_api.c **** 			status = TIME_OUT;
 5053              		.loc 1 1618 3 is_stmt 1 view .LVU1697
1618:Src/vl6180x_api.c **** 			status = TIME_OUT;
 5054              		.loc 1 1618 6 is_stmt 0 view .LVU1698
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 156


 5055 0036 12B9     		cbnz	r2, .L367
1618:Src/vl6180x_api.c **** 			status = TIME_OUT;
 5056              		.loc 1 1618 18 discriminator 1 view .LVU1699
 5057 0038 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
1618:Src/vl6180x_api.c **** 			status = TIME_OUT;
 5058              		.loc 1 1618 15 discriminator 1 view .LVU1700
 5059 003c 2BB1     		cbz	r3, .L376
 5060              	.LVL531:
 5061              	.L367:
1624:Src/vl6180x_api.c **** 
 5062              		.loc 1 1624 1 view .LVU1701
 5063 003e 1046     		mov	r0, r2
 5064 0040 02B0     		add	sp, sp, #8
 5065              	.LCFI92:
 5066              		.cfi_remember_state
 5067              		.cfi_def_cfa_offset 16
 5068              		@ sp needed
 5069 0042 70BD     		pop	{r4, r5, r6, pc}
 5070              	.LVL532:
 5071              	.L372:
 5072              	.LCFI93:
 5073              		.cfi_restore_state
1607:Src/vl6180x_api.c **** 	} else {
 5074              		.loc 1 1607 10 view .LVU1702
 5075 0044 6FF00102 		mvn	r2, #1
 5076 0048 F9E7     		b	.L367
 5077              	.LVL533:
 5078              	.L376:
1619:Src/vl6180x_api.c **** 		}
 5079              		.loc 1 1619 11 view .LVU1703
 5080 004a 6FF00402 		mvn	r2, #4
 5081              	.LVL534:
1622:Src/vl6180x_api.c **** 	return status;
 5082              		.loc 1 1622 2 is_stmt 1 view .LVU1704
1623:Src/vl6180x_api.c **** }
 5083              		.loc 1 1623 2 view .LVU1705
1623:Src/vl6180x_api.c **** }
 5084              		.loc 1 1623 9 is_stmt 0 view .LVU1706
 5085 004e F6E7     		b	.L367
 5086              		.cfi_endproc
 5087              	.LFE56:
 5089              		.section	.text.VL6180x_RangeSetSystemMode,"ax",%progbits
 5090              		.align	1
 5091              		.global	VL6180x_RangeSetSystemMode
 5092              		.syntax unified
 5093              		.thumb
 5094              		.thumb_func
 5095              		.fpu fpv4-sp-d16
 5097              	VL6180x_RangeSetSystemMode:
 5098              	.LVL535:
 5099              	.LFB57:
1627:Src/vl6180x_api.c **** 	int status;
 5100              		.loc 1 1627 1 is_stmt 1 view -0
 5101              		.cfi_startproc
 5102              		@ args = 0, pretend = 0, frame = 0
 5103              		@ frame_needed = 0, uses_anonymous_args = 0
1628:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", (int)mode);
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 157


 5104              		.loc 1 1628 2 view .LVU1708
1629:Src/vl6180x_api.c **** 	/* FIXME we are not checking device is ready via @a VL6180x_RangeWaitDeviceReady
 5105              		.loc 1 1629 2 view .LVU1709
1634:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSRANGE_START, mode);
 5106              		.loc 1 1634 2 view .LVU1710
1634:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSRANGE_START, mode);
 5107              		.loc 1 1634 5 is_stmt 0 view .LVU1711
 5108 0000 0329     		cmp	r1, #3
 5109 0002 05D8     		bhi	.L379
1627:Src/vl6180x_api.c **** 	int status;
 5110              		.loc 1 1627 1 view .LVU1712
 5111 0004 08B5     		push	{r3, lr}
 5112              	.LCFI94:
 5113              		.cfi_def_cfa_offset 8
 5114              		.cfi_offset 3, -8
 5115              		.cfi_offset 14, -4
 5116 0006 0A46     		mov	r2, r1
1635:Src/vl6180x_api.c **** 		if (status) {
 5117              		.loc 1 1635 3 is_stmt 1 view .LVU1713
1635:Src/vl6180x_api.c **** 		if (status) {
 5118              		.loc 1 1635 12 is_stmt 0 view .LVU1714
 5119 0008 1821     		movs	r1, #24
 5120              	.LVL536:
1635:Src/vl6180x_api.c **** 		if (status) {
 5121              		.loc 1 1635 12 view .LVU1715
 5122 000a FFF7FEFF 		bl	VL6180x_WrByte
 5123              	.LVL537:
1636:Src/vl6180x_api.c **** 		    VL6180x_ErrLog("SYSRANGE_START wr fail");
 5124              		.loc 1 1636 3 is_stmt 1 view .LVU1716
1637:Src/vl6180x_api.c **** 		}
 5125              		.loc 1 1637 7 view .LVU1717
1644:Src/vl6180x_api.c **** 
 5126              		.loc 1 1644 1 is_stmt 0 view .LVU1718
 5127 000e 08BD     		pop	{r3, pc}
 5128              	.LVL538:
 5129              	.L379:
 5130              	.LCFI95:
 5131              		.cfi_def_cfa_offset 0
 5132              		.cfi_restore 3
 5133              		.cfi_restore 14
1640:Src/vl6180x_api.c **** 	}
 5134              		.loc 1 1640 10 view .LVU1719
 5135 0010 6FF00100 		mvn	r0, #1
 5136              	.LVL539:
1642:Src/vl6180x_api.c **** 	return status;
 5137              		.loc 1 1642 2 is_stmt 1 view .LVU1720
1643:Src/vl6180x_api.c **** }
 5138              		.loc 1 1643 2 view .LVU1721
1644:Src/vl6180x_api.c **** 
 5139              		.loc 1 1644 1 is_stmt 0 view .LVU1722
 5140 0014 7047     		bx	lr
 5141              		.cfi_endproc
 5142              	.LFE57:
 5144              		.section	.text.VL6180x_RangeStartContinuousMode,"ax",%progbits
 5145              		.align	1
 5146              		.global	VL6180x_RangeStartContinuousMode
 5147              		.syntax unified
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 158


 5148              		.thumb
 5149              		.thumb_func
 5150              		.fpu fpv4-sp-d16
 5152              	VL6180x_RangeStartContinuousMode:
 5153              	.LVL540:
 5154              	.LFB58:
1648:Src/vl6180x_api.c **** 	int status;
 5155              		.loc 1 1648 1 is_stmt 1 view -0
 5156              		.cfi_startproc
 5157              		@ args = 0, pretend = 0, frame = 0
 5158              		@ frame_needed = 0, uses_anonymous_args = 0
1648:Src/vl6180x_api.c **** 	int status;
 5159              		.loc 1 1648 1 is_stmt 0 view .LVU1724
 5160 0000 08B5     		push	{r3, lr}
 5161              	.LCFI96:
 5162              		.cfi_def_cfa_offset 8
 5163              		.cfi_offset 3, -8
 5164              		.cfi_offset 14, -4
1649:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 5165              		.loc 1 1649 2 is_stmt 1 view .LVU1725
1650:Src/vl6180x_api.c **** 	status = VL6180x_RangeSetSystemMode(dev, MODE_START_STOP | MODE_CONTINUOUS);
 5166              		.loc 1 1650 2 view .LVU1726
1651:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 5167              		.loc 1 1651 2 view .LVU1727
1651:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 5168              		.loc 1 1651 11 is_stmt 0 view .LVU1728
 5169 0002 0321     		movs	r1, #3
 5170 0004 FFF7FEFF 		bl	VL6180x_RangeSetSystemMode
 5171              	.LVL541:
1652:Src/vl6180x_api.c **** 	return status;
 5172              		.loc 1 1652 2 is_stmt 1 view .LVU1729
1653:Src/vl6180x_api.c **** }
 5173              		.loc 1 1653 2 view .LVU1730
1654:Src/vl6180x_api.c **** 
 5174              		.loc 1 1654 1 is_stmt 0 view .LVU1731
 5175 0008 08BD     		pop	{r3, pc}
 5176              		.cfi_endproc
 5177              	.LFE58:
 5179              		.section	.text.VL6180x_RangeStartSingleShot,"ax",%progbits
 5180              		.align	1
 5181              		.global	VL6180x_RangeStartSingleShot
 5182              		.syntax unified
 5183              		.thumb
 5184              		.thumb_func
 5185              		.fpu fpv4-sp-d16
 5187              	VL6180x_RangeStartSingleShot:
 5188              	.LVL542:
 5189              	.LFB59:
1657:Src/vl6180x_api.c **** 	int status;
 5190              		.loc 1 1657 1 is_stmt 1 view -0
 5191              		.cfi_startproc
 5192              		@ args = 0, pretend = 0, frame = 0
 5193              		@ frame_needed = 0, uses_anonymous_args = 0
1657:Src/vl6180x_api.c **** 	int status;
 5194              		.loc 1 1657 1 is_stmt 0 view .LVU1733
 5195 0000 08B5     		push	{r3, lr}
 5196              	.LCFI97:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 159


 5197              		.cfi_def_cfa_offset 8
 5198              		.cfi_offset 3, -8
 5199              		.cfi_offset 14, -4
1658:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 5200              		.loc 1 1658 2 is_stmt 1 view .LVU1734
1659:Src/vl6180x_api.c **** 	status = VL6180x_RangeSetSystemMode(dev, MODE_START_STOP | MODE_SINGLESHOT);
 5201              		.loc 1 1659 2 view .LVU1735
1660:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 5202              		.loc 1 1660 2 view .LVU1736
1660:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 5203              		.loc 1 1660 11 is_stmt 0 view .LVU1737
 5204 0002 0121     		movs	r1, #1
 5205 0004 FFF7FEFF 		bl	VL6180x_RangeSetSystemMode
 5206              	.LVL543:
1661:Src/vl6180x_api.c **** 	return status;
 5207              		.loc 1 1661 2 is_stmt 1 view .LVU1738
1662:Src/vl6180x_api.c **** }
 5208              		.loc 1 1662 2 view .LVU1739
1663:Src/vl6180x_api.c **** 
 5209              		.loc 1 1663 1 is_stmt 0 view .LVU1740
 5210 0008 08BD     		pop	{r3, pc}
 5211              		.cfi_endproc
 5212              	.LFE59:
 5214              		.section	.text.VL6180x_DMaxGetState,"ax",%progbits
 5215              		.align	1
 5216              		.global	VL6180x_DMaxGetState
 5217              		.syntax unified
 5218              		.thumb
 5219              		.thumb_func
 5220              		.fpu fpv4-sp-d16
 5222              	VL6180x_DMaxGetState:
 5223              	.LVL544:
 5224              	.LFB71:
2517:Src/vl6180x_api.c **** #endif /* VL6180x_HAVE_RATE_DATA */
2518:Src/vl6180x_api.c **** 
2519:Src/vl6180x_api.c **** 
2520:Src/vl6180x_api.c **** int VL6180x_DMaxSetState(VL6180xDev_t dev, int state)
2521:Src/vl6180x_api.c **** {
2522:Src/vl6180x_api.c **** 	int status;
2523:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", state);
2524:Src/vl6180x_api.c **** #if VL6180x_HAVE_DMAX_RANGING
2525:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, DMaxEnable, state);
2526:Src/vl6180x_api.c **** 	if (state) {
2527:Src/vl6180x_api.c **** 		status = _DMax_InitData(dev);
2528:Src/vl6180x_api.c **** 	} else {
2529:Src/vl6180x_api.c **** 		status = 0;
2530:Src/vl6180x_api.c **** 	}
2531:Src/vl6180x_api.c **** #else
2532:Src/vl6180x_api.c **** 	status =  NOT_SUPPORTED;
2533:Src/vl6180x_api.c **** #endif
2534:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
2535:Src/vl6180x_api.c **** 	return status;
2536:Src/vl6180x_api.c **** }
2537:Src/vl6180x_api.c **** 
2538:Src/vl6180x_api.c **** int VL6180x_DMaxGetState(VL6180xDev_t dev)
2539:Src/vl6180x_api.c **** {
 5225              		.loc 1 2539 1 is_stmt 1 view -0
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 160


 5226              		.cfi_startproc
 5227              		@ args = 0, pretend = 0, frame = 0
 5228              		@ frame_needed = 0, uses_anonymous_args = 0
 5229              		@ link register save eliminated.
2540:Src/vl6180x_api.c **** 	int status;
 5230              		.loc 1 2540 2 view .LVU1742
2541:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 5231              		.loc 1 2541 2 view .LVU1743
2542:Src/vl6180x_api.c **** #if VL6180x_HAVE_DMAX_RANGING
2543:Src/vl6180x_api.c **** 	status = VL6180xDevDataGet(dev, DMaxEnable);
 5232              		.loc 1 2543 2 view .LVU1744
2544:Src/vl6180x_api.c **** #else
2545:Src/vl6180x_api.c **** 	status = 0;
2546:Src/vl6180x_api.c **** #endif
2547:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 5233              		.loc 1 2547 2 view .LVU1745
2548:Src/vl6180x_api.c **** 	return status;
 5234              		.loc 1 2548 2 view .LVU1746
2549:Src/vl6180x_api.c **** }
 5235              		.loc 1 2549 1 is_stmt 0 view .LVU1747
 5236 0000 90F8CC00 		ldrb	r0, [r0, #204]	@ zero_extendqisi2
 5237              	.LVL545:
 5238              		.loc 1 2549 1 view .LVU1748
 5239 0004 7047     		bx	lr
 5240              		.cfi_endproc
 5241              	.LFE71:
 5243              		.section	.text.VL6180x_SqrtUint32,"ax",%progbits
 5244              		.align	1
 5245              		.global	VL6180x_SqrtUint32
 5246              		.syntax unified
 5247              		.thumb
 5248              		.thumb_func
 5249              		.fpu fpv4-sp-d16
 5251              	VL6180x_SqrtUint32:
 5252              	.LVL546:
 5253              	.LFB72:
2550:Src/vl6180x_api.c **** 
2551:Src/vl6180x_api.c **** 
2552:Src/vl6180x_api.c **** #if VL6180x_HAVE_DMAX_RANGING
2553:Src/vl6180x_api.c **** 
2554:Src/vl6180x_api.c **** #define _DMaxData(field) VL6180xDevDataGet(dev, DMaxData.field)
2555:Src/vl6180x_api.c **** /*
2556:Src/vl6180x_api.c ****  * Convert fix point  x.7 to KCpount per sec
2557:Src/vl6180x_api.c ****  */
2558:Src/vl6180x_api.c **** 
2559:Src/vl6180x_api.c **** #ifndef VL6180x_PLATFORM_PROVIDE_SQRT
2560:Src/vl6180x_api.c **** 
2561:Src/vl6180x_api.c **** /*
2562:Src/vl6180x_api.c ****  * 32 bit integer square root with not so bad precision (integer result) and is quite fast
2563:Src/vl6180x_api.c ****  * see http://en.wikipedia.org/wiki/Methods_of_computing_square_roots
2564:Src/vl6180x_api.c ****  */
2565:Src/vl6180x_api.c **** uint32_t VL6180x_SqrtUint32(uint32_t num)
2566:Src/vl6180x_api.c **** {
 5254              		.loc 1 2566 1 is_stmt 1 view -0
 5255              		.cfi_startproc
 5256              		@ args = 0, pretend = 0, frame = 0
 5257              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 161


 5258              		@ link register save eliminated.
 5259              		.loc 1 2566 1 is_stmt 0 view .LVU1750
 5260 0000 0246     		mov	r2, r0
2567:Src/vl6180x_api.c **** 	uint32_t res = 0;
 5261              		.loc 1 2567 2 is_stmt 1 view .LVU1751
 5262              	.LVL547:
2568:Src/vl6180x_api.c **** 	uint32_t bit = 1 << 30; /* The second-to-top bit is set: 1 << 30 for 32 bits */
 5263              		.loc 1 2568 2 view .LVU1752
2569:Src/vl6180x_api.c **** 
2570:Src/vl6180x_api.c **** 	/* "bit" starts at the highest power of four <= the argument. */
2571:Src/vl6180x_api.c **** 	while (bit > num)
 5264              		.loc 1 2571 2 view .LVU1753
2568:Src/vl6180x_api.c **** 	uint32_t bit = 1 << 30; /* The second-to-top bit is set: 1 << 30 for 32 bits */
 5265              		.loc 1 2568 11 is_stmt 0 view .LVU1754
 5266 0002 4FF08043 		mov	r3, #1073741824
 5267              	.LVL548:
 5268              	.L390:
 5269              		.loc 1 2571 8 is_stmt 1 view .LVU1755
 5270 0006 9342     		cmp	r3, r2
 5271 0008 01D9     		bls	.L396
2572:Src/vl6180x_api.c **** 		bit >>= 2;
 5272              		.loc 1 2572 3 view .LVU1756
 5273              		.loc 1 2572 7 is_stmt 0 view .LVU1757
 5274 000a 9B08     		lsrs	r3, r3, #2
 5275              	.LVL549:
 5276              		.loc 1 2572 7 view .LVU1758
 5277 000c FBE7     		b	.L390
 5278              	.L396:
2567:Src/vl6180x_api.c **** 	uint32_t bit = 1 << 30; /* The second-to-top bit is set: 1 << 30 for 32 bits */
 5279              		.loc 1 2567 11 view .LVU1759
 5280 000e 0020     		movs	r0, #0
 5281              	.LVL550:
2567:Src/vl6180x_api.c **** 	uint32_t bit = 1 << 30; /* The second-to-top bit is set: 1 << 30 for 32 bits */
 5282              		.loc 1 2567 11 view .LVU1760
 5283 0010 01E0     		b	.L392
 5284              	.LVL551:
 5285              	.L393:
2573:Src/vl6180x_api.c **** 
2574:Src/vl6180x_api.c **** 	while (bit != 0) {
2575:Src/vl6180x_api.c **** 		if (num >= res + bit) {
2576:Src/vl6180x_api.c **** 		    num -= res + bit;
2577:Src/vl6180x_api.c **** 		    res = (res >> 1) + bit;
2578:Src/vl6180x_api.c **** 		} else
2579:Src/vl6180x_api.c **** 		    res >>= 1;
 5286              		.loc 1 2579 7 is_stmt 1 view .LVU1761
 5287              		.loc 1 2579 11 is_stmt 0 view .LVU1762
 5288 0012 4008     		lsrs	r0, r0, #1
 5289              	.LVL552:
 5290              	.L394:
2580:Src/vl6180x_api.c **** 		bit >>= 2;
 5291              		.loc 1 2580 3 is_stmt 1 view .LVU1763
 5292              		.loc 1 2580 7 is_stmt 0 view .LVU1764
 5293 0014 9B08     		lsrs	r3, r3, #2
 5294              	.LVL553:
 5295              	.L392:
2574:Src/vl6180x_api.c **** 		if (num >= res + bit) {
 5296              		.loc 1 2574 8 is_stmt 1 view .LVU1765
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 162


 5297 0016 33B1     		cbz	r3, .L397
2575:Src/vl6180x_api.c **** 		    num -= res + bit;
 5298              		.loc 1 2575 3 view .LVU1766
2575:Src/vl6180x_api.c **** 		    num -= res + bit;
 5299              		.loc 1 2575 18 is_stmt 0 view .LVU1767
 5300 0018 C118     		adds	r1, r0, r3
2575:Src/vl6180x_api.c **** 		    num -= res + bit;
 5301              		.loc 1 2575 6 view .LVU1768
 5302 001a 9142     		cmp	r1, r2
 5303 001c F9D8     		bhi	.L393
2576:Src/vl6180x_api.c **** 		    res = (res >> 1) + bit;
 5304              		.loc 1 2576 7 is_stmt 1 view .LVU1769
2576:Src/vl6180x_api.c **** 		    res = (res >> 1) + bit;
 5305              		.loc 1 2576 11 is_stmt 0 view .LVU1770
 5306 001e 521A     		subs	r2, r2, r1
 5307              	.LVL554:
2577:Src/vl6180x_api.c **** 		} else
 5308              		.loc 1 2577 7 is_stmt 1 view .LVU1771
2577:Src/vl6180x_api.c **** 		} else
 5309              		.loc 1 2577 11 is_stmt 0 view .LVU1772
 5310 0020 03EB5000 		add	r0, r3, r0, lsr #1
 5311              	.LVL555:
2577:Src/vl6180x_api.c **** 		} else
 5312              		.loc 1 2577 11 view .LVU1773
 5313 0024 F6E7     		b	.L394
 5314              	.L397:
2581:Src/vl6180x_api.c **** 	}
2582:Src/vl6180x_api.c **** 	return res;
2583:Src/vl6180x_api.c **** }
 5315              		.loc 1 2583 1 view .LVU1774
 5316 0026 7047     		bx	lr
 5317              		.cfi_endproc
 5318              	.LFE72:
 5320              		.section	.text._DMax_RawValueAtRateKCps,"ax",%progbits
 5321              		.align	1
 5322              		.syntax unified
 5323              		.thumb
 5324              		.thumb_func
 5325              		.fpu fpv4-sp-d16
 5327              	_DMax_RawValueAtRateKCps:
 5328              	.LVL556:
 5329              	.LFB74:
2584:Src/vl6180x_api.c **** #endif
2585:Src/vl6180x_api.c **** 
2586:Src/vl6180x_api.c **** 
2587:Src/vl6180x_api.c **** /* DMax one time init */
2588:Src/vl6180x_api.c **** void _DMax_OneTimeInit(VL6180xDev_t dev)
2589:Src/vl6180x_api.c **** {
2590:Src/vl6180x_api.c **** 	_DMaxData(ambTuningWindowFactor_K) = DEF_AMBIENT_TUNING;
2591:Src/vl6180x_api.c **** }
2592:Src/vl6180x_api.c **** 
2593:Src/vl6180x_api.c **** 
2594:Src/vl6180x_api.c **** static uint32_t _DMax_RawValueAtRateKCps(VL6180xDev_t dev, int32_t rate)
2595:Src/vl6180x_api.c **** {
 5330              		.loc 1 2595 1 is_stmt 1 view -0
 5331              		.cfi_startproc
 5332              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 163


 5333              		@ frame_needed = 0, uses_anonymous_args = 0
 5334              		.loc 1 2595 1 is_stmt 0 view .LVU1776
 5335 0000 38B5     		push	{r3, r4, r5, lr}
 5336              	.LCFI98:
 5337              		.cfi_def_cfa_offset 16
 5338              		.cfi_offset 3, -16
 5339              		.cfi_offset 4, -12
 5340              		.cfi_offset 5, -8
 5341              		.cfi_offset 14, -4
2596:Src/vl6180x_api.c **** 	uint32_t snrLimit_K;
 5342              		.loc 1 2596 2 is_stmt 1 view .LVU1777
2597:Src/vl6180x_api.c **** 	int32_t DMaxSq;
 5343              		.loc 1 2597 2 view .LVU1778
2598:Src/vl6180x_api.c **** 	uint32_t RawDMax;
 5344              		.loc 1 2598 2 view .LVU1779
2599:Src/vl6180x_api.c **** 	DMaxFix_t retSignalAt400mm;
 5345              		.loc 1 2599 2 view .LVU1780
2600:Src/vl6180x_api.c **** 	uint32_t ambTuningWindowFactor_K;
 5346              		.loc 1 2600 2 view .LVU1781
2601:Src/vl6180x_api.c **** 
2602:Src/vl6180x_api.c **** 
2603:Src/vl6180x_api.c **** 	ambTuningWindowFactor_K = _DMaxData(ambTuningWindowFactor_K);
 5347              		.loc 1 2603 2 view .LVU1782
 5348              		.loc 1 2603 26 is_stmt 0 view .LVU1783
 5349 0002 D0F8BC20 		ldr	r2, [r0, #188]
 5350              	.LVL557:
2604:Src/vl6180x_api.c **** 	snrLimit_K              = _DMaxData(snrLimit_K);
 5351              		.loc 1 2604 2 is_stmt 1 view .LVU1784
 5352              		.loc 1 2604 28 is_stmt 0 view .LVU1785
 5353 0006 D0F8C450 		ldr	r5, [r0, #196]
 5354              	.LVL558:
2605:Src/vl6180x_api.c **** 	retSignalAt400mm        = _DMaxData(retSignalAt400mm);
 5355              		.loc 1 2605 2 is_stmt 1 view .LVU1786
 5356              		.loc 1 2605 26 is_stmt 0 view .LVU1787
 5357 000a D0F8C040 		ldr	r4, [r0, #192]
 5358              	.LVL559:
2606:Src/vl6180x_api.c **** 	/* 12 to 18 bits Kcps */
2607:Src/vl6180x_api.c **** 	if (rate > 0) {
 5359              		.loc 1 2607 2 is_stmt 1 view .LVU1788
 5360              		.loc 1 2607 5 is_stmt 0 view .LVU1789
 5361 000e 0B1E     		subs	r3, r1, #0
 5362 0010 17DD     		ble	.L402
2608:Src/vl6180x_api.c **** 		DMaxSq = 400 * 400 * 1000 / rate - (400 * 400 / 330);
 5363              		.loc 1 2608 3 is_stmt 1 view .LVU1790
 5364              		.loc 1 2608 29 is_stmt 0 view .LVU1791
 5365 0012 0E49     		ldr	r1, .L405
 5366              	.LVL560:
 5367              		.loc 1 2608 29 view .LVU1792
 5368 0014 91FBF3F1 		sdiv	r1, r1, r3
 5369              		.loc 1 2608 10 view .LVU1793
 5370 0018 A1F5F271 		sub	r1, r1, #484
 5371              	.LVL561:
2609:Src/vl6180x_api.c **** 		/* K of (1/RtnAmb -1/330 )=> 30bit- (12-18)bit  => 12-18 bits*/
2610:Src/vl6180x_api.c **** 		if (DMaxSq <= 0) {
 5372              		.loc 1 2610 3 is_stmt 1 view .LVU1794
 5373              		.loc 1 2610 6 is_stmt 0 view .LVU1795
 5374 001c 0029     		cmp	r1, #0
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 164


 5375 001e 13DD     		ble	.L403
2611:Src/vl6180x_api.c **** 		    RawDMax = 0;
2612:Src/vl6180x_api.c **** 		} else {
2613:Src/vl6180x_api.c **** 		    /* value can be more 32 bit so base on raneg apply
2614:Src/vl6180x_api.c **** 			 * retSignalAt400mm before or after division to presevr accuracy */
2615:Src/vl6180x_api.c **** 		    if (DMaxSq < (2 << 12)) {
 5376              		.loc 1 2615 7 is_stmt 1 view .LVU1796
 5377              		.loc 1 2615 10 is_stmt 0 view .LVU1797
 5378 0020 B1F5005F 		cmp	r1, #8192
 5379 0024 07DA     		bge	.L400
2616:Src/vl6180x_api.c **** 				DMaxSq = DMaxSq * retSignalAt400mm /
 5380              		.loc 1 2616 5 is_stmt 1 view .LVU1798
 5381              		.loc 1 2616 21 is_stmt 0 view .LVU1799
 5382 0026 01FB04F1 		mul	r1, r1, r4
 5383              	.LVL562:
2617:Src/vl6180x_api.c **** 							(snrLimit_K + ambTuningWindowFactor_K);
 5384              		.loc 1 2617 20 view .LVU1800
 5385 002a 5019     		adds	r0, r2, r5
 5386              	.LVL563:
2616:Src/vl6180x_api.c **** 				DMaxSq = DMaxSq * retSignalAt400mm /
 5387              		.loc 1 2616 40 view .LVU1801
 5388 002c B1FBF0F0 		udiv	r0, r1, r0
 5389              	.LVL564:
 5390              	.L401:
2618:Src/vl6180x_api.c **** 				/* max 12 + 12 to 18 -10 => 12-26 bit */
2619:Src/vl6180x_api.c **** 		    } else {
2620:Src/vl6180x_api.c **** 				DMaxSq = DMaxSq / (snrLimit_K + ambTuningWindowFactor_K) * retSignalAt400mm;
2621:Src/vl6180x_api.c **** 				/* 12 to 18 -10 + 12 to 18 *=> 12-26 bit */
2622:Src/vl6180x_api.c **** 		    }
2623:Src/vl6180x_api.c **** 		    RawDMax = VL6180x_SqrtUint32(DMaxSq);
 5391              		.loc 1 2623 7 is_stmt 1 view .LVU1802
 5392              		.loc 1 2623 17 is_stmt 0 view .LVU1803
 5393 0030 FFF7FEFF 		bl	VL6180x_SqrtUint32
 5394              	.LVL565:
 5395              	.L398:
2624:Src/vl6180x_api.c **** 		}
2625:Src/vl6180x_api.c **** 	} else {
2626:Src/vl6180x_api.c **** 		RawDMax = 0x7FFFFFFF; /* bigest possibmle 32bit signed value */
2627:Src/vl6180x_api.c **** 	}
2628:Src/vl6180x_api.c **** 	return RawDMax;
2629:Src/vl6180x_api.c **** }
 5396              		.loc 1 2629 1 view .LVU1804
 5397 0034 38BD     		pop	{r3, r4, r5, pc}
 5398              	.LVL566:
 5399              	.L400:
2620:Src/vl6180x_api.c **** 				/* 12 to 18 -10 + 12 to 18 *=> 12-26 bit */
 5400              		.loc 1 2620 5 is_stmt 1 view .LVU1805
2620:Src/vl6180x_api.c **** 				/* 12 to 18 -10 + 12 to 18 *=> 12-26 bit */
 5401              		.loc 1 2620 35 is_stmt 0 view .LVU1806
 5402 0036 5019     		adds	r0, r2, r5
 5403              	.LVL567:
2620:Src/vl6180x_api.c **** 				/* 12 to 18 -10 + 12 to 18 *=> 12-26 bit */
 5404              		.loc 1 2620 21 view .LVU1807
 5405 0038 B1FBF0F1 		udiv	r1, r1, r0
 5406              	.LVL568:
2620:Src/vl6180x_api.c **** 				/* 12 to 18 -10 + 12 to 18 *=> 12-26 bit */
 5407              		.loc 1 2620 62 view .LVU1808
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 165


 5408 003c 01FB04F0 		mul	r0, r1, r4
 5409              	.LVL569:
2620:Src/vl6180x_api.c **** 				/* 12 to 18 -10 + 12 to 18 *=> 12-26 bit */
 5410              		.loc 1 2620 62 view .LVU1809
 5411 0040 F6E7     		b	.L401
 5412              	.LVL570:
 5413              	.L402:
2626:Src/vl6180x_api.c **** 	}
 5414              		.loc 1 2626 11 view .LVU1810
 5415 0042 6FF00040 		mvn	r0, #-2147483648
 5416              	.LVL571:
2626:Src/vl6180x_api.c **** 	}
 5417              		.loc 1 2626 11 view .LVU1811
 5418 0046 F5E7     		b	.L398
 5419              	.LVL572:
 5420              	.L403:
2611:Src/vl6180x_api.c **** 		} else {
 5421              		.loc 1 2611 15 view .LVU1812
 5422 0048 0020     		movs	r0, #0
 5423              	.LVL573:
2628:Src/vl6180x_api.c **** }
 5424              		.loc 1 2628 2 is_stmt 1 view .LVU1813
2628:Src/vl6180x_api.c **** }
 5425              		.loc 1 2628 9 is_stmt 0 view .LVU1814
 5426 004a F3E7     		b	.L398
 5427              	.L406:
 5428              		.align	2
 5429              	.L405:
 5430 004c 00688909 		.word	160000000
 5431              		.cfi_endproc
 5432              	.LFE74:
 5434              		.section	.text._DMax_InitData,"ax",%progbits
 5435              		.align	1
 5436              		.syntax unified
 5437              		.thumb
 5438              		.thumb_func
 5439              		.fpu fpv4-sp-d16
 5441              	_DMax_InitData:
 5442              	.LVL574:
 5443              	.LFB75:
2630:Src/vl6180x_api.c **** 
2631:Src/vl6180x_api.c **** /*
2632:Src/vl6180x_api.c ****  * fetch static data from register to avoid re-read
2633:Src/vl6180x_api.c ****  * precompute all intermediate constant and cliipings
2634:Src/vl6180x_api.c ****  *
2635:Src/vl6180x_api.c ****  * to be re-used/call on  changes of :
2636:Src/vl6180x_api.c ****  *  0x2A
2637:Src/vl6180x_api.c ****  *  SYSRANGE_MAX_AMBIENT_LEVEL_MULT
2638:Src/vl6180x_api.c ****  *  Dev Data XtalkComRate_KCPs
2639:Src/vl6180x_api.c ****  *  SYSRANGE_MAX_CONVERGENCE_TIME
2640:Src/vl6180x_api.c ****  *  SYSRANGE_RANGE_CHECK_ENABLES    mask RANGE_CHECK_RANGE_ENABLE_MASK
2641:Src/vl6180x_api.c ****  *  range 0xb8-0xbb (0xbb)
2642:Src/vl6180x_api.c ****  */
2643:Src/vl6180x_api.c **** static int _DMax_InitData(VL6180xDev_t dev)
2644:Src/vl6180x_api.c **** {
 5444              		.loc 1 2644 1 is_stmt 1 view -0
 5445              		.cfi_startproc
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 166


 5446              		@ args = 0, pretend = 0, frame = 16
 5447              		@ frame_needed = 0, uses_anonymous_args = 0
 5448              		.loc 1 2644 1 is_stmt 0 view .LVU1816
 5449 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 5450              	.LCFI99:
 5451              		.cfi_def_cfa_offset 24
 5452              		.cfi_offset 4, -24
 5453              		.cfi_offset 5, -20
 5454              		.cfi_offset 6, -16
 5455              		.cfi_offset 7, -12
 5456              		.cfi_offset 8, -8
 5457              		.cfi_offset 14, -4
 5458 0004 84B0     		sub	sp, sp, #16
 5459              	.LCFI100:
 5460              		.cfi_def_cfa_offset 40
 5461 0006 0746     		mov	r7, r0
2645:Src/vl6180x_api.c **** 	int status, warning;
 5462              		.loc 1 2645 2 is_stmt 1 view .LVU1817
2646:Src/vl6180x_api.c **** 	uint8_t u8;
 5463              		.loc 1 2646 2 view .LVU1818
2647:Src/vl6180x_api.c **** 	uint16_t u16;
 5464              		.loc 1 2647 2 view .LVU1819
2648:Src/vl6180x_api.c **** 	uint32_t u32;
 5465              		.loc 1 2648 2 view .LVU1820
2649:Src/vl6180x_api.c **** 	uint32_t Reg2A_KCps;
 5466              		.loc 1 2649 2 view .LVU1821
2650:Src/vl6180x_api.c **** 	uint32_t RegB8;
 5467              		.loc 1 2650 2 view .LVU1822
2651:Src/vl6180x_api.c **** 	uint8_t  MaxConvTime;
 5468              		.loc 1 2651 2 view .LVU1823
2652:Src/vl6180x_api.c **** 	uint32_t XTalkCompRate_KCps;
 5469              		.loc 1 2652 2 view .LVU1824
2653:Src/vl6180x_api.c **** 	uint32_t RangeIgnoreThreshold;
 5470              		.loc 1 2653 2 view .LVU1825
2654:Src/vl6180x_api.c **** 	int32_t minSignalNeeded;
 5471              		.loc 1 2654 2 view .LVU1826
2655:Src/vl6180x_api.c **** 	uint8_t SysRangeCheckEn;
 5472              		.loc 1 2655 2 view .LVU1827
2656:Src/vl6180x_api.c **** 	uint8_t snrLimit;
 5473              		.loc 1 2656 2 view .LVU1828
2657:Src/vl6180x_api.c **** 	static const int ROMABLE_DATA MaxConvTimeAdjust = -4;
 5474              		.loc 1 2657 2 view .LVU1829
2658:Src/vl6180x_api.c **** 
2659:Src/vl6180x_api.c **** 	warning = 0;
 5475              		.loc 1 2659 2 view .LVU1830
 5476              	.LVL575:
2660:Src/vl6180x_api.c **** 
2661:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 5477              		.loc 1 2661 2 view .LVU1831
2662:Src/vl6180x_api.c **** 	do {
 5478              		.loc 1 2662 2 view .LVU1832
2663:Src/vl6180x_api.c **** 		status = VL6180x_RdByte(dev, 0x02A, &u8);
 5479              		.loc 1 2663 3 view .LVU1833
 5480              		.loc 1 2663 12 is_stmt 0 view .LVU1834
 5481 0008 0DF10F02 		add	r2, sp, #15
 5482 000c 2A21     		movs	r1, #42
 5483 000e FFF7FEFF 		bl	VL6180x_RdByte
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 167


 5484              	.LVL576:
2664:Src/vl6180x_api.c **** 		if (status) {
 5485              		.loc 1 2664 3 is_stmt 1 view .LVU1835
 5486              		.loc 1 2664 6 is_stmt 0 view .LVU1836
 5487 0012 0446     		mov	r4, r0
 5488 0014 0028     		cmp	r0, #0
 5489 0016 70D1     		bne	.L415
2665:Src/vl6180x_api.c **** 		    VL6180x_ErrLog("Reg 0x02A rd fail");
2666:Src/vl6180x_api.c **** 		    break;
2667:Src/vl6180x_api.c **** 		}
2668:Src/vl6180x_api.c **** 
2669:Src/vl6180x_api.c **** 		if (u8 == 0) {
 5490              		.loc 1 2669 3 is_stmt 1 view .LVU1837
 5491              		.loc 1 2669 10 is_stmt 0 view .LVU1838
 5492 0018 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 5493              		.loc 1 2669 6 view .LVU1839
 5494 001c 23B9     		cbnz	r3, .L416
2670:Src/vl6180x_api.c **** 		    warning = CALIBRATION_WARNING;
 5495              		.loc 1 2670 7 is_stmt 1 view .LVU1840
 5496              	.LVL577:
2671:Src/vl6180x_api.c **** 		    u8 = 40; /* use a default average value */
 5497              		.loc 1 2671 7 view .LVU1841
 5498              		.loc 1 2671 10 is_stmt 0 view .LVU1842
 5499 001e 2823     		movs	r3, #40
 5500 0020 8DF80F30 		strb	r3, [sp, #15]
2670:Src/vl6180x_api.c **** 		    warning = CALIBRATION_WARNING;
 5501              		.loc 1 2670 15 view .LVU1843
 5502 0024 0126     		movs	r6, #1
 5503 0026 00E0     		b	.L409
 5504              	.LVL578:
 5505              	.L416:
2659:Src/vl6180x_api.c **** 
 5506              		.loc 1 2659 10 view .LVU1844
 5507 0028 0646     		mov	r6, r0
 5508              	.LVL579:
 5509              	.L409:
2672:Src/vl6180x_api.c **** 		}
2673:Src/vl6180x_api.c **** 		Reg2A_KCps = Fix7_2_KCPs(u8); /* convert to KCPs */
 5510              		.loc 1 2673 3 is_stmt 1 view .LVU1845
 5511              		.loc 1 2673 16 is_stmt 0 view .LVU1846
 5512 002a 9DF80F20 		ldrb	r2, [sp, #15]	@ zero_extendqisi2
 5513 002e 4FF47A73 		mov	r3, #1000
 5514 0032 03FB02F3 		mul	r3, r3, r2
 5515              		.loc 1 2673 14 view .LVU1847
 5516 0036 DD09     		lsrs	r5, r3, #7
 5517              	.LVL580:
2674:Src/vl6180x_api.c **** 
2675:Src/vl6180x_api.c **** 		status = VL6180x_RdByte(dev, SYSRANGE_RANGE_CHECK_ENABLES, &SysRangeCheckEn);
 5518              		.loc 1 2675 3 is_stmt 1 view .LVU1848
 5519              		.loc 1 2675 12 is_stmt 0 view .LVU1849
 5520 0038 0DF10602 		add	r2, sp, #6
 5521 003c 2D21     		movs	r1, #45
 5522 003e 3846     		mov	r0, r7
 5523              	.LVL581:
 5524              		.loc 1 2675 12 view .LVU1850
 5525 0040 FFF7FEFF 		bl	VL6180x_RdByte
 5526              	.LVL582:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 168


2676:Src/vl6180x_api.c **** 		if (status) {
 5527              		.loc 1 2676 3 is_stmt 1 view .LVU1851
 5528              		.loc 1 2676 6 is_stmt 0 view .LVU1852
 5529 0044 0446     		mov	r4, r0
 5530 0046 0028     		cmp	r0, #0
 5531 0048 58D1     		bne	.L408
2677:Src/vl6180x_api.c **** 		    VL6180x_ErrLog("SYSRANGE_RANGE_CHECK_ENABLES rd fail ");
2678:Src/vl6180x_api.c **** 		    break;
2679:Src/vl6180x_api.c **** 		}
2680:Src/vl6180x_api.c **** 
2681:Src/vl6180x_api.c **** 		status = VL6180x_RdByte(dev, SYSRANGE_MAX_CONVERGENCE_TIME, &MaxConvTime);
 5532              		.loc 1 2681 3 is_stmt 1 view .LVU1853
 5533              		.loc 1 2681 12 is_stmt 0 view .LVU1854
 5534 004a 0DF10702 		add	r2, sp, #7
 5535 004e 1C21     		movs	r1, #28
 5536 0050 3846     		mov	r0, r7
 5537              	.LVL583:
 5538              		.loc 1 2681 12 view .LVU1855
 5539 0052 FFF7FEFF 		bl	VL6180x_RdByte
 5540              	.LVL584:
2682:Src/vl6180x_api.c **** 		if (status) {
 5541              		.loc 1 2682 3 is_stmt 1 view .LVU1856
 5542              		.loc 1 2682 6 is_stmt 0 view .LVU1857
 5543 0056 0446     		mov	r4, r0
 5544 0058 0028     		cmp	r0, #0
 5545 005a 4FD1     		bne	.L408
2683:Src/vl6180x_api.c **** 		    VL6180x_ErrLog("SYSRANGE_MAX_CONVERGENCE_TIME rd fail ");
2684:Src/vl6180x_api.c **** 			break;
2685:Src/vl6180x_api.c **** 		}
2686:Src/vl6180x_api.c **** 
2687:Src/vl6180x_api.c **** 		status = VL6180x_RdDWord(dev, 0x0B8, &RegB8);
 5546              		.loc 1 2687 3 is_stmt 1 view .LVU1858
 5547              		.loc 1 2687 12 is_stmt 0 view .LVU1859
 5548 005c 02AA     		add	r2, sp, #8
 5549 005e B821     		movs	r1, #184
 5550 0060 3846     		mov	r0, r7
 5551              	.LVL585:
 5552              		.loc 1 2687 12 view .LVU1860
 5553 0062 FFF7FEFF 		bl	VL6180x_RdDWord
 5554              	.LVL586:
2688:Src/vl6180x_api.c **** 		if (status) {
 5555              		.loc 1 2688 3 is_stmt 1 view .LVU1861
 5556              		.loc 1 2688 6 is_stmt 0 view .LVU1862
 5557 0066 0446     		mov	r4, r0
 5558 0068 0028     		cmp	r0, #0
 5559 006a 47D1     		bne	.L408
2689:Src/vl6180x_api.c **** 		    VL6180x_ErrLog("reg 0x0B8 rd fail ");
2690:Src/vl6180x_api.c **** 		    break;
2691:Src/vl6180x_api.c **** 		}
2692:Src/vl6180x_api.c **** 
2693:Src/vl6180x_api.c **** 		status = VL6180x_RdByte(dev, SYSRANGE_MAX_AMBIENT_LEVEL_MULT, &snrLimit);
 5560              		.loc 1 2693 3 is_stmt 1 view .LVU1863
 5561              		.loc 1 2693 12 is_stmt 0 view .LVU1864
 5562 006c 0DF10502 		add	r2, sp, #5
 5563 0070 2C21     		movs	r1, #44
 5564 0072 3846     		mov	r0, r7
 5565              	.LVL587:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 169


 5566              		.loc 1 2693 12 view .LVU1865
 5567 0074 FFF7FEFF 		bl	VL6180x_RdByte
 5568              	.LVL588:
2694:Src/vl6180x_api.c **** 		if (status) {
 5569              		.loc 1 2694 3 is_stmt 1 view .LVU1866
 5570              		.loc 1 2694 6 is_stmt 0 view .LVU1867
 5571 0078 0446     		mov	r4, r0
 5572 007a 0028     		cmp	r0, #0
 5573 007c 3ED1     		bne	.L408
2695:Src/vl6180x_api.c **** 		    VL6180x_ErrLog("SYSRANGE_MAX_AMBIENT_LEVEL_MULT rd fail ");
2696:Src/vl6180x_api.c **** 		    break;
2697:Src/vl6180x_api.c **** 		}
2698:Src/vl6180x_api.c **** 		_DMaxData(snrLimit_K) = (int32_t)16 * 1000 / snrLimit;
 5574              		.loc 1 2698 3 is_stmt 1 view .LVU1868
 5575              		.loc 1 2698 46 is_stmt 0 view .LVU1869
 5576 007e 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 5577 0082 4FF47A53 		mov	r3, #16000
 5578 0086 93FBF2F3 		sdiv	r3, r3, r2
 5579              		.loc 1 2698 25 view .LVU1870
 5580 008a C7F8C430 		str	r3, [r7, #196]
2699:Src/vl6180x_api.c **** 		XTalkCompRate_KCps =   VL6180xDevDataGet(dev, XTalkCompRate_KCps);
 5581              		.loc 1 2699 3 is_stmt 1 view .LVU1871
 5582              		.loc 1 2699 22 is_stmt 0 view .LVU1872
 5583 008e D7F80480 		ldr	r8, [r7, #4]
 5584              	.LVL589:
2700:Src/vl6180x_api.c **** 
2701:Src/vl6180x_api.c **** 		if (Reg2A_KCps >= XTalkCompRate_KCps) {
 5585              		.loc 1 2701 3 is_stmt 1 view .LVU1873
 5586              		.loc 1 2701 6 is_stmt 0 view .LVU1874
 5587 0092 4545     		cmp	r5, r8
 5588 0094 1ED3     		bcc	.L410
2702:Src/vl6180x_api.c **** 		    _DMaxData(retSignalAt400mm) = Reg2A_KCps;
 5589              		.loc 1 2702 7 is_stmt 1 view .LVU1875
 5590              		.loc 1 2702 35 is_stmt 0 view .LVU1876
 5591 0096 C7F8C050 		str	r5, [r7, #192]
 5592              	.L411:
2703:Src/vl6180x_api.c **** 		} else{
2704:Src/vl6180x_api.c **** 		    _DMaxData(retSignalAt400mm) = 0;
2705:Src/vl6180x_api.c **** 			/* Reg2A_K - XTalkCompRate_KCp <0 is invalid */
2706:Src/vl6180x_api.c **** 		}
2707:Src/vl6180x_api.c **** 
2708:Src/vl6180x_api.c **** 		/* if xtalk range check is off omit it in snr clipping */
2709:Src/vl6180x_api.c **** 		if (SysRangeCheckEn&RANGE_CHECK_RANGE_ENABLE_MASK) {
 5593              		.loc 1 2709 3 is_stmt 1 view .LVU1877
 5594              		.loc 1 2709 22 is_stmt 0 view .LVU1878
 5595 009a 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 5596              		.loc 1 2709 6 view .LVU1879
 5597 009e 13F0020F 		tst	r3, #2
 5598 00a2 1BD1     		bne	.L419
2710:Src/vl6180x_api.c **** 		    status = VL6180x_RdWord(dev, SYSRANGE_RANGE_IGNORE_THRESHOLD, &u16);
2711:Src/vl6180x_api.c **** 		    if (status) {
2712:Src/vl6180x_api.c **** 				VL6180x_ErrLog("SYSRANGE_RANGE_IGNORE_THRESHOLD rd fail ");
2713:Src/vl6180x_api.c **** 				break;
2714:Src/vl6180x_api.c **** 		    }
2715:Src/vl6180x_api.c **** 		    RangeIgnoreThreshold = Fix7_2_KCPs(u16);
2716:Src/vl6180x_api.c **** 		} else{
2717:Src/vl6180x_api.c **** 		    RangeIgnoreThreshold  = 0;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 170


 5599              		.loc 1 2717 29 view .LVU1880
 5600 00a4 0022     		movs	r2, #0
 5601              	.L412:
 5602              	.LVL590:
2718:Src/vl6180x_api.c **** 		}
2719:Src/vl6180x_api.c **** 
2720:Src/vl6180x_api.c **** 		minSignalNeeded = (RegB8 * 256) / ((int32_t)MaxConvTime + (int32_t)MaxConvTimeAdjust);
 5603              		.loc 1 2720 3 is_stmt 1 view .LVU1881
 5604              		.loc 1 2720 28 is_stmt 0 view .LVU1882
 5605 00a6 029B     		ldr	r3, [sp, #8]
 5606 00a8 1B02     		lsls	r3, r3, #8
 5607              		.loc 1 2720 38 view .LVU1883
 5608 00aa 9DF80710 		ldrb	r1, [sp, #7]	@ zero_extendqisi2
 5609              		.loc 1 2720 59 view .LVU1884
 5610 00ae 0439     		subs	r1, r1, #4
 5611              		.loc 1 2720 35 view .LVU1885
 5612 00b0 B3FBF1F3 		udiv	r3, r3, r1
 5613              	.LVL591:
2721:Src/vl6180x_api.c **** 		/* KCps 8+8 bit -(1 to 6 bit) => 15-10 bit */
2722:Src/vl6180x_api.c **** 		/* minSignalNeeded = max ( minSignalNeeded,  RangeIgnoreThreshold - XTalkCompRate_KCps) */
2723:Src/vl6180x_api.c **** 		if (minSignalNeeded  <= (int32_t)RangeIgnoreThreshold - (int32_t)XTalkCompRate_KCps)
 5614              		.loc 1 2723 3 is_stmt 1 view .LVU1886
 5615              		.loc 1 2723 57 is_stmt 0 view .LVU1887
 5616 00b4 A2EB0802 		sub	r2, r2, r8
 5617              	.LVL592:
 5618              		.loc 1 2723 6 view .LVU1888
 5619 00b8 9A42     		cmp	r2, r3
 5620 00ba 00DA     		bge	.L413
2720:Src/vl6180x_api.c **** 		/* KCps 8+8 bit -(1 to 6 bit) => 15-10 bit */
 5621              		.loc 1 2720 19 view .LVU1889
 5622 00bc 1A46     		mov	r2, r3
 5623              	.L413:
 5624              	.LVL593:
2724:Src/vl6180x_api.c **** 		    minSignalNeeded  =  RangeIgnoreThreshold - XTalkCompRate_KCps;
2725:Src/vl6180x_api.c **** 
2726:Src/vl6180x_api.c **** 		u32 = (minSignalNeeded*(uint32_t)snrLimit) / 16;
 5625              		.loc 1 2726 3 is_stmt 1 view .LVU1890
 5626              		.loc 1 2726 26 is_stmt 0 view .LVU1891
 5627 00be 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 5628              		.loc 1 2726 25 view .LVU1892
 5629 00c2 03FB02F2 		mul	r2, r3, r2
 5630              	.LVL594:
2727:Src/vl6180x_api.c **** 		_DMaxData(ClipSnrLimit) = _DMax_RawValueAtRateKCps(dev, u32);
 5631              		.loc 1 2727 3 is_stmt 1 view .LVU1893
 5632              		.loc 1 2727 29 is_stmt 0 view .LVU1894
 5633 00c6 1109     		lsrs	r1, r2, #4
 5634              	.LVL595:
 5635              		.loc 1 2727 29 view .LVU1895
 5636 00c8 3846     		mov	r0, r7
 5637              	.LVL596:
 5638              		.loc 1 2727 29 view .LVU1896
 5639 00ca FFF7FEFF 		bl	_DMax_RawValueAtRateKCps
 5640              	.LVL597:
 5641              		.loc 1 2727 27 view .LVU1897
 5642 00ce A7F8C800 		strh	r0, [r7, #200]	@ movhi
 5643 00d2 13E0     		b	.L408
 5644              	.LVL598:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 171


 5645              	.L410:
2704:Src/vl6180x_api.c **** 			/* Reg2A_K - XTalkCompRate_KCp <0 is invalid */
 5646              		.loc 1 2704 7 is_stmt 1 view .LVU1898
2704:Src/vl6180x_api.c **** 			/* Reg2A_K - XTalkCompRate_KCp <0 is invalid */
 5647              		.loc 1 2704 35 is_stmt 0 view .LVU1899
 5648 00d4 0023     		movs	r3, #0
 5649 00d6 C7F8C030 		str	r3, [r7, #192]
 5650 00da DEE7     		b	.L411
 5651              	.L419:
2710:Src/vl6180x_api.c **** 		    if (status) {
 5652              		.loc 1 2710 7 is_stmt 1 view .LVU1900
2710:Src/vl6180x_api.c **** 		    if (status) {
 5653              		.loc 1 2710 16 is_stmt 0 view .LVU1901
 5654 00dc 03AA     		add	r2, sp, #12
 5655 00de 2621     		movs	r1, #38
 5656 00e0 3846     		mov	r0, r7
 5657              	.LVL599:
2710:Src/vl6180x_api.c **** 		    if (status) {
 5658              		.loc 1 2710 16 view .LVU1902
 5659 00e2 FFF7FEFF 		bl	VL6180x_RdWord
 5660              	.LVL600:
2711:Src/vl6180x_api.c **** 				VL6180x_ErrLog("SYSRANGE_RANGE_IGNORE_THRESHOLD rd fail ");
 5661              		.loc 1 2711 7 is_stmt 1 view .LVU1903
2711:Src/vl6180x_api.c **** 				VL6180x_ErrLog("SYSRANGE_RANGE_IGNORE_THRESHOLD rd fail ");
 5662              		.loc 1 2711 10 is_stmt 0 view .LVU1904
 5663 00e6 0446     		mov	r4, r0
 5664 00e8 40B9     		cbnz	r0, .L408
2715:Src/vl6180x_api.c **** 		} else{
 5665              		.loc 1 2715 7 is_stmt 1 view .LVU1905
2715:Src/vl6180x_api.c **** 		} else{
 5666              		.loc 1 2715 30 is_stmt 0 view .LVU1906
 5667 00ea BDF80C30 		ldrh	r3, [sp, #12]
 5668 00ee 4FF47A72 		mov	r2, #1000
 5669 00f2 02FB03F2 		mul	r2, r2, r3
2715:Src/vl6180x_api.c **** 		} else{
 5670              		.loc 1 2715 28 view .LVU1907
 5671 00f6 D209     		lsrs	r2, r2, #7
 5672              	.LVL601:
2715:Src/vl6180x_api.c **** 		} else{
 5673              		.loc 1 2715 28 view .LVU1908
 5674 00f8 D5E7     		b	.L412
 5675              	.LVL602:
 5676              	.L415:
2659:Src/vl6180x_api.c **** 
 5677              		.loc 1 2659 10 view .LVU1909
 5678 00fa 0026     		movs	r6, #0
 5679              	.LVL603:
 5680              	.L408:
2728:Src/vl6180x_api.c **** 		/* clip to dmax to min signal snr limit rate*/
2729:Src/vl6180x_api.c **** 	} while (0);
 5681              		.loc 1 2729 10 is_stmt 1 view .LVU1910
2730:Src/vl6180x_api.c **** 	if (!status)
 5682              		.loc 1 2730 2 view .LVU1911
 5683              		.loc 1 2730 5 is_stmt 0 view .LVU1912
 5684 00fc 04B1     		cbz	r4, .L407
 5685              		.loc 1 2730 5 view .LVU1913
 5686 00fe 2646     		mov	r6, r4
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 172


 5687              	.LVL604:
2731:Src/vl6180x_api.c **** 		status = warning;
2732:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 5688              		.loc 1 2732 2 is_stmt 1 view .LVU1914
2733:Src/vl6180x_api.c **** 	return status;
 5689              		.loc 1 2733 2 view .LVU1915
 5690              	.L407:
2734:Src/vl6180x_api.c **** }
 5691              		.loc 1 2734 1 is_stmt 0 view .LVU1916
 5692 0100 3046     		mov	r0, r6
 5693 0102 04B0     		add	sp, sp, #16
 5694              	.LCFI101:
 5695              		.cfi_def_cfa_offset 24
 5696              		@ sp needed
 5697 0104 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 5698              		.loc 1 2734 1 view .LVU1917
 5699              		.cfi_endproc
 5700              	.LFE75:
 5702              		.section	.text.VL6180x_SetXTalkCompensationRate,"ax",%progbits
 5703              		.align	1
 5704              		.global	VL6180x_SetXTalkCompensationRate
 5705              		.syntax unified
 5706              		.thumb
 5707              		.thumb_func
 5708              		.fpu fpv4-sp-d16
 5710              	VL6180x_SetXTalkCompensationRate:
 5711              	.LVL605:
 5712              	.LFB5:
 317:Src/vl6180x_api.c **** 	int status;
 5713              		.loc 1 317 1 is_stmt 1 view -0
 5714              		.cfi_startproc
 5715              		@ args = 0, pretend = 0, frame = 0
 5716              		@ frame_needed = 0, uses_anonymous_args = 0
 317:Src/vl6180x_api.c **** 	int status;
 5717              		.loc 1 317 1 is_stmt 0 view .LVU1919
 5718 0000 38B5     		push	{r3, r4, r5, lr}
 5719              	.LCFI102:
 5720              		.cfi_def_cfa_offset 16
 5721              		.cfi_offset 3, -16
 5722              		.cfi_offset 4, -12
 5723              		.cfi_offset 5, -8
 5724              		.cfi_offset 14, -4
 5725 0002 0546     		mov	r5, r0
 5726 0004 0C46     		mov	r4, r1
 318:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", Rate);
 5727              		.loc 1 318 2 is_stmt 1 view .LVU1920
 319:Src/vl6180x_api.c **** 	status = VL6180x_WrWord(dev, SYSRANGE_CROSSTALK_COMPENSATION_RATE, Rate);
 5728              		.loc 1 319 2 view .LVU1921
 320:Src/vl6180x_api.c **** 	if (status == 0) {
 5729              		.loc 1 320 2 view .LVU1922
 320:Src/vl6180x_api.c **** 	if (status == 0) {
 5730              		.loc 1 320 11 is_stmt 0 view .LVU1923
 5731 0006 0A46     		mov	r2, r1
 5732 0008 1E21     		movs	r1, #30
 5733              	.LVL606:
 320:Src/vl6180x_api.c **** 	if (status == 0) {
 5734              		.loc 1 320 11 view .LVU1924
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 173


 5735 000a FFF7FEFF 		bl	VL6180x_WrWord
 5736              	.LVL607:
 321:Src/vl6180x_api.c **** 		uint32_t XTalkCompRate_KCps;
 5737              		.loc 1 321 2 is_stmt 1 view .LVU1925
 321:Src/vl6180x_api.c **** 		uint32_t XTalkCompRate_KCps;
 5738              		.loc 1 321 5 is_stmt 0 view .LVU1926
 5739 000e 00B1     		cbz	r0, .L423
 5740              	.L420:
 330:Src/vl6180x_api.c **** 
 5741              		.loc 1 330 1 view .LVU1927
 5742 0010 38BD     		pop	{r3, r4, r5, pc}
 5743              	.LVL608:
 5744              	.L423:
 5745              	.LBB11:
 322:Src/vl6180x_api.c **** 		XTalkCompRate_KCps = Fix7_2_KCPs(Rate);
 5746              		.loc 1 322 3 is_stmt 1 view .LVU1928
 323:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, XTalkCompRate_KCps, XTalkCompRate_KCps);
 5747              		.loc 1 323 3 view .LVU1929
 323:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, XTalkCompRate_KCps, XTalkCompRate_KCps);
 5748              		.loc 1 323 24 is_stmt 0 view .LVU1930
 5749 0012 4FF47A71 		mov	r1, #1000
 5750 0016 01FB04F4 		mul	r4, r1, r4
 323:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, XTalkCompRate_KCps, XTalkCompRate_KCps);
 5751              		.loc 1 323 22 view .LVU1931
 5752 001a E409     		lsrs	r4, r4, #7
 5753              	.LVL609:
 324:Src/vl6180x_api.c **** 		/* update dmax whenever xtalk rate changes */
 5754              		.loc 1 324 3 is_stmt 1 view .LVU1932
 5755 001c 6C60     		str	r4, [r5, #4]
 326:Src/vl6180x_api.c **** 	}
 5756              		.loc 1 326 3 view .LVU1933
 326:Src/vl6180x_api.c **** 	}
 5757              		.loc 1 326 12 is_stmt 0 view .LVU1934
 5758 001e 2846     		mov	r0, r5
 5759 0020 FFF7FEFF 		bl	_DMax_InitData
 5760              	.LVL610:
 326:Src/vl6180x_api.c **** 	}
 5761              		.loc 1 326 12 view .LVU1935
 5762              	.LBE11:
 328:Src/vl6180x_api.c **** 	return status;
 5763              		.loc 1 328 2 is_stmt 1 view .LVU1936
 329:Src/vl6180x_api.c **** }
 5764              		.loc 1 329 2 view .LVU1937
 329:Src/vl6180x_api.c **** }
 5765              		.loc 1 329 9 is_stmt 0 view .LVU1938
 5766 0024 F4E7     		b	.L420
 5767              		.cfi_endproc
 5768              	.LFE5:
 5770              		.section	.text.VL6180x_RangeSetMaxConvergenceTime,"ax",%progbits
 5771              		.align	1
 5772              		.global	VL6180x_RangeSetMaxConvergenceTime
 5773              		.syntax unified
 5774              		.thumb
 5775              		.thumb_func
 5776              		.fpu fpv4-sp-d16
 5778              	VL6180x_RangeSetMaxConvergenceTime:
 5779              	.LVL611:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 174


 5780              	.LFB53:
1540:Src/vl6180x_api.c **** 	int status = 0;
 5781              		.loc 1 1540 1 is_stmt 1 view -0
 5782              		.cfi_startproc
 5783              		@ args = 0, pretend = 0, frame = 0
 5784              		@ frame_needed = 0, uses_anonymous_args = 0
1540:Src/vl6180x_api.c **** 	int status = 0;
 5785              		.loc 1 1540 1 is_stmt 0 view .LVU1940
 5786 0000 10B5     		push	{r4, lr}
 5787              	.LCFI103:
 5788              		.cfi_def_cfa_offset 8
 5789              		.cfi_offset 4, -8
 5790              		.cfi_offset 14, -4
 5791 0002 0446     		mov	r4, r0
 5792 0004 0A46     		mov	r2, r1
1541:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", (int)MaxConTime_msec);
 5793              		.loc 1 1541 2 is_stmt 1 view .LVU1941
 5794              	.LVL612:
1542:Src/vl6180x_api.c **** 	do {
 5795              		.loc 1 1542 2 view .LVU1942
1543:Src/vl6180x_api.c **** 		status = VL6180x_WrByte(dev, SYSRANGE_MAX_CONVERGENCE_TIME, MaxConTime_msec);
 5796              		.loc 1 1543 2 view .LVU1943
1544:Src/vl6180x_api.c **** 		if (status) {
 5797              		.loc 1 1544 3 view .LVU1944
1544:Src/vl6180x_api.c **** 		if (status) {
 5798              		.loc 1 1544 12 is_stmt 0 view .LVU1945
 5799 0006 1C21     		movs	r1, #28
 5800              	.LVL613:
1544:Src/vl6180x_api.c **** 		if (status) {
 5801              		.loc 1 1544 12 view .LVU1946
 5802 0008 FFF7FEFF 		bl	VL6180x_WrByte
 5803              	.LVL614:
1545:Src/vl6180x_api.c **** 			break;
 5804              		.loc 1 1545 3 is_stmt 1 view .LVU1947
1545:Src/vl6180x_api.c **** 			break;
 5805              		.loc 1 1545 6 is_stmt 0 view .LVU1948
 5806 000c 00B1     		cbz	r0, .L427
 5807              	.L424:
1556:Src/vl6180x_api.c **** 
 5808              		.loc 1 1556 1 view .LVU1949
 5809 000e 10BD     		pop	{r4, pc}
 5810              	.LVL615:
 5811              	.L427:
1548:Src/vl6180x_api.c **** 		if (status) {
 5812              		.loc 1 1548 3 is_stmt 1 view .LVU1950
1548:Src/vl6180x_api.c **** 		if (status) {
 5813              		.loc 1 1548 12 is_stmt 0 view .LVU1951
 5814 0010 2046     		mov	r0, r4
 5815 0012 FFF7FEFF 		bl	VL6180x_RangeSetEarlyConvergenceEestimateThreshold
 5816              	.LVL616:
1549:Src/vl6180x_api.c **** 			break;
 5817              		.loc 1 1549 3 is_stmt 1 view .LVU1952
1549:Src/vl6180x_api.c **** 			break;
 5818              		.loc 1 1549 6 is_stmt 0 view .LVU1953
 5819 0016 0028     		cmp	r0, #0
 5820 0018 F9D1     		bne	.L424
1552:Src/vl6180x_api.c **** 	} while (0);
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 175


 5821              		.loc 1 1552 3 is_stmt 1 view .LVU1954
1552:Src/vl6180x_api.c **** 	} while (0);
 5822              		.loc 1 1552 12 is_stmt 0 view .LVU1955
 5823 001a 2046     		mov	r0, r4
 5824              	.LVL617:
1552:Src/vl6180x_api.c **** 	} while (0);
 5825              		.loc 1 1552 12 view .LVU1956
 5826 001c FFF7FEFF 		bl	_DMax_InitData
 5827              	.LVL618:
1553:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 5828              		.loc 1 1553 10 is_stmt 1 view .LVU1957
1554:Src/vl6180x_api.c **** 	return status;
 5829              		.loc 1 1554 2 view .LVU1958
1555:Src/vl6180x_api.c **** }
 5830              		.loc 1 1555 2 view .LVU1959
1555:Src/vl6180x_api.c **** }
 5831              		.loc 1 1555 9 is_stmt 0 view .LVU1960
 5832 0020 F5E7     		b	.L424
 5833              		.cfi_endproc
 5834              	.LFE53:
 5836              		.section	.text.VL6180x_UpscaleRegInit,"ax",%progbits
 5837              		.align	1
 5838              		.global	VL6180x_UpscaleRegInit
 5839              		.syntax unified
 5840              		.thumb
 5841              		.thumb_func
 5842              		.fpu fpv4-sp-d16
 5844              	VL6180x_UpscaleRegInit:
 5845              	.LVL619:
 5846              	.LFB41:
1203:Src/vl6180x_api.c **** 	/*  apply REGISTER_TUNING_ER02_100614_CustomerView.txt */
 5847              		.loc 1 1203 1 is_stmt 1 view -0
 5848              		.cfi_startproc
 5849              		@ args = 0, pretend = 0, frame = 0
 5850              		@ frame_needed = 0, uses_anonymous_args = 0
1203:Src/vl6180x_api.c **** 	/*  apply REGISTER_TUNING_ER02_100614_CustomerView.txt */
 5851              		.loc 1 1203 1 is_stmt 0 view .LVU1962
 5852 0000 10B5     		push	{r4, lr}
 5853              	.LCFI104:
 5854              		.cfi_def_cfa_offset 8
 5855              		.cfi_offset 4, -8
 5856              		.cfi_offset 14, -4
 5857 0002 0446     		mov	r4, r0
1205:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0208, 0x01);
 5858              		.loc 1 1205 2 is_stmt 1 view .LVU1963
 5859 0004 0122     		movs	r2, #1
 5860 0006 40F20721 		movw	r1, #519
 5861 000a FFF7FEFF 		bl	VL6180x_WrByte
 5862              	.LVL620:
1206:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0096, 0x00);
 5863              		.loc 1 1206 2 view .LVU1964
 5864 000e 0122     		movs	r2, #1
 5865 0010 4FF40271 		mov	r1, #520
 5866 0014 2046     		mov	r0, r4
 5867 0016 FFF7FEFF 		bl	VL6180x_WrByte
 5868              	.LVL621:
1207:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0097, 0x54);
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 176


 5869              		.loc 1 1207 2 view .LVU1965
 5870 001a 0022     		movs	r2, #0
 5871 001c 9621     		movs	r1, #150
 5872 001e 2046     		mov	r0, r4
 5873 0020 FFF7FEFF 		bl	VL6180x_WrByte
 5874              	.LVL622:
1208:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00e3, 0x00);
 5875              		.loc 1 1208 2 view .LVU1966
 5876 0024 5422     		movs	r2, #84
 5877 0026 9721     		movs	r1, #151
 5878 0028 2046     		mov	r0, r4
 5879 002a FFF7FEFF 		bl	VL6180x_WrByte
 5880              	.LVL623:
1209:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00e4, 0x04);
 5881              		.loc 1 1209 2 view .LVU1967
 5882 002e 0022     		movs	r2, #0
 5883 0030 E321     		movs	r1, #227
 5884 0032 2046     		mov	r0, r4
 5885 0034 FFF7FEFF 		bl	VL6180x_WrByte
 5886              	.LVL624:
1210:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00e5, 0x02);
 5887              		.loc 1 1210 2 view .LVU1968
 5888 0038 0422     		movs	r2, #4
 5889 003a E421     		movs	r1, #228
 5890 003c 2046     		mov	r0, r4
 5891 003e FFF7FEFF 		bl	VL6180x_WrByte
 5892              	.LVL625:
1211:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00e6, 0x01);
 5893              		.loc 1 1211 2 view .LVU1969
 5894 0042 0222     		movs	r2, #2
 5895 0044 E521     		movs	r1, #229
 5896 0046 2046     		mov	r0, r4
 5897 0048 FFF7FEFF 		bl	VL6180x_WrByte
 5898              	.LVL626:
1212:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00e7, 0x03);
 5899              		.loc 1 1212 2 view .LVU1970
 5900 004c 0122     		movs	r2, #1
 5901 004e E621     		movs	r1, #230
 5902 0050 2046     		mov	r0, r4
 5903 0052 FFF7FEFF 		bl	VL6180x_WrByte
 5904              	.LVL627:
1213:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00f5, 0x02);
 5905              		.loc 1 1213 2 view .LVU1971
 5906 0056 0322     		movs	r2, #3
 5907 0058 E721     		movs	r1, #231
 5908 005a 2046     		mov	r0, r4
 5909 005c FFF7FEFF 		bl	VL6180x_WrByte
 5910              	.LVL628:
1214:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00d9, 0x05);
 5911              		.loc 1 1214 2 view .LVU1972
 5912 0060 0222     		movs	r2, #2
 5913 0062 F521     		movs	r1, #245
 5914 0064 2046     		mov	r0, r4
 5915 0066 FFF7FEFF 		bl	VL6180x_WrByte
 5916              	.LVL629:
1215:Src/vl6180x_api.c **** 
 5917              		.loc 1 1215 2 view .LVU1973
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 177


 5918 006a 0522     		movs	r2, #5
 5919 006c D921     		movs	r1, #217
 5920 006e 2046     		mov	r0, r4
 5921 0070 FFF7FEFF 		bl	VL6180x_WrByte
 5922              	.LVL630:
1217:Src/vl6180x_api.c **** 
 5923              		.loc 1 1217 2 view .LVU1974
 5924 0074 2046     		mov	r0, r4
 5925 0076 FFF7FEFF 		bl	_UpscaleInitPatch0
 5926              	.LVL631:
1219:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00a3, 0x28);
 5927              		.loc 1 1219 2 view .LVU1975
 5928 007a 0022     		movs	r2, #0
 5929 007c 9F21     		movs	r1, #159
 5930 007e 2046     		mov	r0, r4
 5931 0080 FFF7FEFF 		bl	VL6180x_WrByte
 5932              	.LVL632:
1220:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00b7, 0x00);
 5933              		.loc 1 1220 2 view .LVU1976
 5934 0084 2822     		movs	r2, #40
 5935 0086 A321     		movs	r1, #163
 5936 0088 2046     		mov	r0, r4
 5937 008a FFF7FEFF 		bl	VL6180x_WrByte
 5938              	.LVL633:
1221:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00bb, 0x28);
 5939              		.loc 1 1221 2 view .LVU1977
 5940 008e 0022     		movs	r2, #0
 5941 0090 B721     		movs	r1, #183
 5942 0092 2046     		mov	r0, r4
 5943 0094 FFF7FEFF 		bl	VL6180x_WrByte
 5944              	.LVL634:
1222:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00b2, 0x09);
 5945              		.loc 1 1222 2 view .LVU1978
 5946 0098 2822     		movs	r2, #40
 5947 009a BB21     		movs	r1, #187
 5948 009c 2046     		mov	r0, r4
 5949 009e FFF7FEFF 		bl	VL6180x_WrByte
 5950              	.LVL635:
1223:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00ca, 0x09);
 5951              		.loc 1 1223 2 view .LVU1979
 5952 00a2 0922     		movs	r2, #9
 5953 00a4 B221     		movs	r1, #178
 5954 00a6 2046     		mov	r0, r4
 5955 00a8 FFF7FEFF 		bl	VL6180x_WrByte
 5956              	.LVL636:
1224:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0198, 0x01);
 5957              		.loc 1 1224 2 view .LVU1980
 5958 00ac 0922     		movs	r2, #9
 5959 00ae CA21     		movs	r1, #202
 5960 00b0 2046     		mov	r0, r4
 5961 00b2 FFF7FEFF 		bl	VL6180x_WrByte
 5962              	.LVL637:
1225:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x01b0, 0x17);
 5963              		.loc 1 1225 2 view .LVU1981
 5964 00b6 0122     		movs	r2, #1
 5965 00b8 4FF4CC71 		mov	r1, #408
 5966 00bc 2046     		mov	r0, r4
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 178


 5967 00be FFF7FEFF 		bl	VL6180x_WrByte
 5968              	.LVL638:
1226:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x01ad, 0x00);
 5969              		.loc 1 1226 2 view .LVU1982
 5970 00c2 1722     		movs	r2, #23
 5971 00c4 4FF4D871 		mov	r1, #432
 5972 00c8 2046     		mov	r0, r4
 5973 00ca FFF7FEFF 		bl	VL6180x_WrByte
 5974              	.LVL639:
1227:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x00ff, 0x05);
 5975              		.loc 1 1227 2 view .LVU1983
 5976 00ce 0022     		movs	r2, #0
 5977 00d0 40F2AD11 		movw	r1, #429
 5978 00d4 2046     		mov	r0, r4
 5979 00d6 FFF7FEFF 		bl	VL6180x_WrByte
 5980              	.LVL640:
1228:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0100, 0x05);
 5981              		.loc 1 1228 2 view .LVU1984
 5982 00da 0522     		movs	r2, #5
 5983 00dc FF21     		movs	r1, #255
 5984 00de 2046     		mov	r0, r4
 5985 00e0 FFF7FEFF 		bl	VL6180x_WrByte
 5986              	.LVL641:
1229:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0199, 0x05);
 5987              		.loc 1 1229 2 view .LVU1985
 5988 00e4 0522     		movs	r2, #5
 5989 00e6 4FF48071 		mov	r1, #256
 5990 00ea 2046     		mov	r0, r4
 5991 00ec FFF7FEFF 		bl	VL6180x_WrByte
 5992              	.LVL642:
1230:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x01a6, 0x1b);
 5993              		.loc 1 1230 2 view .LVU1986
 5994 00f0 0522     		movs	r2, #5
 5995 00f2 40F29911 		movw	r1, #409
 5996 00f6 2046     		mov	r0, r4
 5997 00f8 FFF7FEFF 		bl	VL6180x_WrByte
 5998              	.LVL643:
1231:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x01ac, 0x3e);
 5999              		.loc 1 1231 2 view .LVU1987
 6000 00fc 1B22     		movs	r2, #27
 6001 00fe 4FF4D371 		mov	r1, #422
 6002 0102 2046     		mov	r0, r4
 6003 0104 FFF7FEFF 		bl	VL6180x_WrByte
 6004              	.LVL644:
1232:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x01a7, 0x1f);
 6005              		.loc 1 1232 2 view .LVU1988
 6006 0108 3E22     		movs	r2, #62
 6007 010a 4FF4D671 		mov	r1, #428
 6008 010e 2046     		mov	r0, r4
 6009 0110 FFF7FEFF 		bl	VL6180x_WrByte
 6010              	.LVL645:
1233:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0030, 0x00);
 6011              		.loc 1 1233 2 view .LVU1989
 6012 0114 1F22     		movs	r2, #31
 6013 0116 40F2A711 		movw	r1, #423
 6014 011a 2046     		mov	r0, r4
 6015 011c FFF7FEFF 		bl	VL6180x_WrByte
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 179


 6016              	.LVL646:
1234:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0011, 0x10);
 6017              		.loc 1 1234 2 view .LVU1990
 6018 0120 0022     		movs	r2, #0
 6019 0122 3021     		movs	r1, #48
 6020 0124 2046     		mov	r0, r4
 6021 0126 FFF7FEFF 		bl	VL6180x_WrByte
 6022              	.LVL647:
1235:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x010a, 0x30);
 6023              		.loc 1 1235 2 view .LVU1991
 6024 012a 1022     		movs	r2, #16
 6025 012c 1121     		movs	r1, #17
 6026 012e 2046     		mov	r0, r4
 6027 0130 FFF7FEFF 		bl	VL6180x_WrByte
 6028              	.LVL648:
1236:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x003f, 0x46);
 6029              		.loc 1 1236 2 view .LVU1992
 6030 0134 3022     		movs	r2, #48
 6031 0136 4FF48571 		mov	r1, #266
 6032 013a 2046     		mov	r0, r4
 6033 013c FFF7FEFF 		bl	VL6180x_WrByte
 6034              	.LVL649:
1237:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0031, 0xFF);
 6035              		.loc 1 1237 2 view .LVU1993
 6036 0140 4622     		movs	r2, #70
 6037 0142 3F21     		movs	r1, #63
 6038 0144 2046     		mov	r0, r4
 6039 0146 FFF7FEFF 		bl	VL6180x_WrByte
 6040              	.LVL650:
1238:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0040, 0x63);
 6041              		.loc 1 1238 2 view .LVU1994
 6042 014a FF22     		movs	r2, #255
 6043 014c 3121     		movs	r1, #49
 6044 014e 2046     		mov	r0, r4
 6045 0150 FFF7FEFF 		bl	VL6180x_WrByte
 6046              	.LVL651:
1239:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x002e, 0x01);
 6047              		.loc 1 1239 2 view .LVU1995
 6048 0154 6322     		movs	r2, #99
 6049 0156 4021     		movs	r1, #64
 6050 0158 2046     		mov	r0, r4
 6051 015a FFF7FEFF 		bl	VL6180x_WrByte
 6052              	.LVL652:
1240:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x002c, 0xff);
 6053              		.loc 1 1240 2 view .LVU1996
 6054 015e 0122     		movs	r2, #1
 6055 0160 2E21     		movs	r1, #46
 6056 0162 2046     		mov	r0, r4
 6057 0164 FFF7FEFF 		bl	VL6180x_WrByte
 6058              	.LVL653:
1241:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x001b, 0x09);
 6059              		.loc 1 1241 2 view .LVU1997
 6060 0168 FF22     		movs	r2, #255
 6061 016a 2C21     		movs	r1, #44
 6062 016c 2046     		mov	r0, r4
 6063 016e FFF7FEFF 		bl	VL6180x_WrByte
 6064              	.LVL654:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 180


1242:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x003e, 0x31);
 6065              		.loc 1 1242 2 view .LVU1998
 6066 0172 0922     		movs	r2, #9
 6067 0174 1B21     		movs	r1, #27
 6068 0176 2046     		mov	r0, r4
 6069 0178 FFF7FEFF 		bl	VL6180x_WrByte
 6070              	.LVL655:
1243:Src/vl6180x_api.c **** 	VL6180x_WrByte(dev, 0x0014, 0x24);
 6071              		.loc 1 1243 2 view .LVU1999
 6072 017c 3122     		movs	r2, #49
 6073 017e 3E21     		movs	r1, #62
 6074 0180 2046     		mov	r0, r4
 6075 0182 FFF7FEFF 		bl	VL6180x_WrByte
 6076              	.LVL656:
1244:Src/vl6180x_api.c **** #if VL6180x_EXTENDED_RANGE
 6077              		.loc 1 1244 2 view .LVU2000
 6078 0186 2422     		movs	r2, #36
 6079 0188 1421     		movs	r1, #20
 6080 018a 2046     		mov	r0, r4
 6081 018c FFF7FEFF 		bl	VL6180x_WrByte
 6082              	.LVL657:
1248:Src/vl6180x_api.c **** #endif
 6083              		.loc 1 1248 2 view .LVU2001
 6084 0190 3221     		movs	r1, #50
 6085 0192 2046     		mov	r0, r4
 6086 0194 FFF7FEFF 		bl	VL6180x_RangeSetMaxConvergenceTime
 6087              	.LVL658:
1250:Src/vl6180x_api.c **** }
 6088              		.loc 1 1250 2 view .LVU2002
1251:Src/vl6180x_api.c **** #else
 6089              		.loc 1 1251 1 is_stmt 0 view .LVU2003
 6090 0198 0020     		movs	r0, #0
 6091 019a 10BD     		pop	{r4, pc}
1251:Src/vl6180x_api.c **** #else
 6092              		.loc 1 1251 1 view .LVU2004
 6093              		.cfi_endproc
 6094              	.LFE41:
 6096              		.section	.text.VL6180x_UpscaleStaticInit,"ax",%progbits
 6097              		.align	1
 6098              		.syntax unified
 6099              		.thumb
 6100              		.thumb_func
 6101              		.fpu fpv4-sp-d16
 6103              	VL6180x_UpscaleStaticInit:
 6104              	.LVL659:
 6105              	.LFB44:
1332:Src/vl6180x_api.c **** 	/* todo make these a fail macro in case only 1x is suppoted */
 6106              		.loc 1 1332 1 is_stmt 1 view -0
 6107              		.cfi_startproc
 6108              		@ args = 0, pretend = 0, frame = 0
 6109              		@ frame_needed = 0, uses_anonymous_args = 0
1332:Src/vl6180x_api.c **** 	/* todo make these a fail macro in case only 1x is suppoted */
 6110              		.loc 1 1332 1 is_stmt 0 view .LVU2006
 6111 0000 38B5     		push	{r3, r4, r5, lr}
 6112              	.LCFI105:
 6113              		.cfi_def_cfa_offset 16
 6114              		.cfi_offset 3, -16
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 181


 6115              		.cfi_offset 4, -12
 6116              		.cfi_offset 5, -8
 6117              		.cfi_offset 14, -4
 6118 0002 0446     		mov	r4, r0
1334:Src/vl6180x_api.c **** 
 6119              		.loc 1 1334 2 is_stmt 1 view .LVU2007
1336:Src/vl6180x_api.c **** 	do {
 6120              		.loc 1 1336 2 view .LVU2008
1337:Src/vl6180x_api.c **** 		status = VL6180x_UpscaleRegInit(dev);
 6121              		.loc 1 1337 2 view .LVU2009
1338:Src/vl6180x_api.c **** 		if (status) {
 6122              		.loc 1 1338 3 view .LVU2010
1338:Src/vl6180x_api.c **** 		if (status) {
 6123              		.loc 1 1338 12 is_stmt 0 view .LVU2011
 6124 0004 FFF7FEFF 		bl	VL6180x_UpscaleRegInit
 6125              	.LVL660:
1339:Src/vl6180x_api.c **** 			VL6180x_ErrLog("regInit fail");
 6126              		.loc 1 1339 3 is_stmt 1 view .LVU2012
1350:Src/vl6180x_api.c **** 	if (!status) {
 6127              		.loc 1 1350 10 view .LVU2013
1351:Src/vl6180x_api.c **** 		/*  must write the scaler at least once to the device to ensure the scaler is in a known state. *
 6128              		.loc 1 1351 2 view .LVU2014
1351:Src/vl6180x_api.c **** 		/*  must write the scaler at least once to the device to ensure the scaler is in a known state. *
 6129              		.loc 1 1351 5 is_stmt 0 view .LVU2015
 6130 0008 0546     		mov	r5, r0
 6131 000a 08B1     		cbz	r0, .L433
 6132              	.LVL661:
 6133              	.L430:
1358:Src/vl6180x_api.c **** 
 6134              		.loc 1 1358 1 view .LVU2016
 6135 000c 2846     		mov	r0, r5
 6136 000e 38BD     		pop	{r3, r4, r5, pc}
 6137              	.LVL662:
 6138              	.L433:
1353:Src/vl6180x_api.c **** 		VL6180x_WrByte(dev, 0x016, 0x00); /* change fresh out of set status to 0 */
 6139              		.loc 1 1353 3 is_stmt 1 view .LVU2017
1353:Src/vl6180x_api.c **** 		VL6180x_WrByte(dev, 0x016, 0x00); /* change fresh out of set status to 0 */
 6140              		.loc 1 1353 12 is_stmt 0 view .LVU2018
 6141 0010 217E     		ldrb	r1, [r4, #24]	@ zero_extendqisi2
 6142 0012 2046     		mov	r0, r4
 6143              	.LVL663:
1353:Src/vl6180x_api.c **** 		VL6180x_WrByte(dev, 0x016, 0x00); /* change fresh out of set status to 0 */
 6144              		.loc 1 1353 12 view .LVU2019
 6145 0014 FFF7FEFF 		bl	VL6180x_UpscaleSetScaling
 6146              	.LVL664:
 6147 0018 0546     		mov	r5, r0
 6148              	.LVL665:
1354:Src/vl6180x_api.c **** 	}
 6149              		.loc 1 1354 3 is_stmt 1 view .LVU2020
 6150 001a 0022     		movs	r2, #0
 6151 001c 1621     		movs	r1, #22
 6152 001e 2046     		mov	r0, r4
 6153              	.LVL666:
1354:Src/vl6180x_api.c **** 	}
 6154              		.loc 1 1354 3 is_stmt 0 view .LVU2021
 6155 0020 FFF7FEFF 		bl	VL6180x_WrByte
 6156              	.LVL667:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 182


1356:Src/vl6180x_api.c **** 	return status;
 6157              		.loc 1 1356 2 is_stmt 1 view .LVU2022
1357:Src/vl6180x_api.c **** }
 6158              		.loc 1 1357 2 view .LVU2023
1357:Src/vl6180x_api.c **** }
 6159              		.loc 1 1357 9 is_stmt 0 view .LVU2024
 6160 0024 F2E7     		b	.L430
 6161              		.cfi_endproc
 6162              	.LFE44:
 6164              		.section	.text.VL6180x_StaticInit,"ax",%progbits
 6165              		.align	1
 6166              		.global	VL6180x_StaticInit
 6167              		.syntax unified
 6168              		.thumb
 6169              		.thumb_func
 6170              		.fpu fpv4-sp-d16
 6172              	VL6180x_StaticInit:
 6173              	.LVL668:
 6174              	.LFB8:
 363:Src/vl6180x_api.c **** 	int status = 0, init_status;
 6175              		.loc 1 363 1 is_stmt 1 view -0
 6176              		.cfi_startproc
 6177              		@ args = 0, pretend = 0, frame = 8
 6178              		@ frame_needed = 0, uses_anonymous_args = 0
 363:Src/vl6180x_api.c **** 	int status = 0, init_status;
 6179              		.loc 1 363 1 is_stmt 0 view .LVU2026
 6180 0000 70B5     		push	{r4, r5, r6, lr}
 6181              	.LCFI106:
 6182              		.cfi_def_cfa_offset 16
 6183              		.cfi_offset 4, -16
 6184              		.cfi_offset 5, -12
 6185              		.cfi_offset 6, -8
 6186              		.cfi_offset 14, -4
 6187 0002 82B0     		sub	sp, sp, #8
 6188              	.LCFI107:
 6189              		.cfi_def_cfa_offset 24
 6190 0004 0546     		mov	r5, r0
 364:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 6191              		.loc 1 364 2 is_stmt 1 view .LVU2027
 6192              	.LVL669:
 365:Src/vl6180x_api.c **** 
 6193              		.loc 1 365 2 view .LVU2028
 369:Src/vl6180x_api.c **** 		init_status = VL6180x_RangeStaticInit(dev);
 6194              		.loc 1 369 2 view .LVU2029
 372:Src/vl6180x_api.c **** 
 6195              		.loc 1 372 3 view .LVU2030
 372:Src/vl6180x_api.c **** 
 6196              		.loc 1 372 17 is_stmt 0 view .LVU2031
 6197 0006 FFF7FEFF 		bl	VL6180x_UpscaleStaticInit
 6198              	.LVL670:
 374:Src/vl6180x_api.c **** 		VL6180x_ErrLog("StaticInit fail");
 6199              		.loc 1 374 2 is_stmt 1 view .LVU2032
 374:Src/vl6180x_api.c **** 		VL6180x_ErrLog("StaticInit fail");
 6200              		.loc 1 374 5 is_stmt 0 view .LVU2033
 6201 000a 041E     		subs	r4, r0, #0
 6202 000c 1EDB     		blt	.L438
 377:Src/vl6180x_api.c **** 		VL6180x_ErrLog("StaticInit warning");
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 183


 6203              		.loc 1 377 9 is_stmt 1 view .LVU2034
 378:Src/vl6180x_api.c **** 	}
 6204              		.loc 1 378 3 view .LVU2035
 384:Src/vl6180x_api.c **** 		uint8_t data;
 6205              		.loc 1 384 2 view .LVU2036
 6206              	.LBB12:
 385:Src/vl6180x_api.c **** 		status =  VL6180x_RdByte(dev, FW_ALS_RESULT_SCALER, &data);
 6207              		.loc 1 385 3 view .LVU2037
 386:Src/vl6180x_api.c **** 		if (status)
 6208              		.loc 1 386 3 view .LVU2038
 386:Src/vl6180x_api.c **** 		if (status)
 6209              		.loc 1 386 13 is_stmt 0 view .LVU2039
 6210 000e 0DF10702 		add	r2, sp, #7
 6211 0012 4FF49071 		mov	r1, #288
 6212 0016 2846     		mov	r0, r5
 6213              	.LVL671:
 386:Src/vl6180x_api.c **** 		if (status)
 6214              		.loc 1 386 13 view .LVU2040
 6215 0018 FFF7FEFF 		bl	VL6180x_RdByte
 6216              	.LVL672:
 387:Src/vl6180x_api.c **** 			break;
 6217              		.loc 1 387 3 is_stmt 1 view .LVU2041
 387:Src/vl6180x_api.c **** 			break;
 6218              		.loc 1 387 6 is_stmt 0 view .LVU2042
 6219 001c 0646     		mov	r6, r0
 6220 001e 18B1     		cbz	r0, .L441
 6221              	.LVL673:
 6222              	.L437:
 387:Src/vl6180x_api.c **** 			break;
 6223              		.loc 1 387 6 view .LVU2043
 6224              	.LBE12:
 395:Src/vl6180x_api.c **** 	#endif
 6225              		.loc 1 395 10 is_stmt 1 view .LVU2044
 398:Src/vl6180x_api.c **** 		VL6180x_ErrLog("StaticInit fail");
 6226              		.loc 1 398 2 view .LVU2045
 399:Src/vl6180x_api.c **** 	}
 6227              		.loc 1 399 3 view .LVU2046
 401:Src/vl6180x_api.c **** 		status = init_status;
 6228              		.loc 1 401 2 view .LVU2047
 401:Src/vl6180x_api.c **** 		status = init_status;
 6229              		.loc 1 401 5 is_stmt 0 view .LVU2048
 6230 0020 AEB9     		cbnz	r6, .L434
 401:Src/vl6180x_api.c **** 		status = init_status;
 6231              		.loc 1 401 14 discriminator 1 view .LVU2049
 6232 0022 A4B1     		cbz	r4, .L434
 402:Src/vl6180x_api.c **** 	}
 6233              		.loc 1 402 10 view .LVU2050
 6234 0024 2646     		mov	r6, r4
 6235              	.LVL674:
 6236              	.L435:
 405:Src/vl6180x_api.c **** 	return status;
 6237              		.loc 1 405 2 is_stmt 1 view .LVU2051
 406:Src/vl6180x_api.c **** }
 6238              		.loc 1 406 2 view .LVU2052
 406:Src/vl6180x_api.c **** }
 6239              		.loc 1 406 9 is_stmt 0 view .LVU2053
 6240 0026 12E0     		b	.L434
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 184


 6241              	.LVL675:
 6242              	.L441:
 6243              	.LBB13:
 389:Src/vl6180x_api.c **** 
 6244              		.loc 1 389 3 is_stmt 1 view .LVU2054
 6245 0028 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 6246 002c EB82     		strh	r3, [r5, #22]	@ movhi
 391:Src/vl6180x_api.c **** 		if (status)
 6247              		.loc 1 391 3 view .LVU2055
 391:Src/vl6180x_api.c **** 		if (status)
 6248              		.loc 1 391 13 is_stmt 0 view .LVU2056
 6249 002e 0DF10702 		add	r2, sp, #7
 6250 0032 3F21     		movs	r1, #63
 6251 0034 2846     		mov	r0, r5
 6252              	.LVL676:
 391:Src/vl6180x_api.c **** 		if (status)
 6253              		.loc 1 391 13 view .LVU2057
 6254 0036 FFF7FEFF 		bl	VL6180x_RdByte
 6255              	.LVL677:
 392:Src/vl6180x_api.c **** 			break;
 6256              		.loc 1 392 3 is_stmt 1 view .LVU2058
 392:Src/vl6180x_api.c **** 			break;
 6257              		.loc 1 392 6 is_stmt 0 view .LVU2059
 6258 003a 0646     		mov	r6, r0
 6259 003c 0028     		cmp	r0, #0
 6260 003e EFD1     		bne	.L437
 394:Src/vl6180x_api.c **** 	} while (0);
 6261              		.loc 1 394 3 is_stmt 1 view .LVU2060
 6262 0040 9DF80710 		ldrb	r1, [sp, #7]	@ zero_extendqisi2
 6263 0044 2846     		mov	r0, r5
 6264              	.LVL678:
 394:Src/vl6180x_api.c **** 	} while (0);
 6265              		.loc 1 394 3 is_stmt 0 view .LVU2061
 6266 0046 FFF7FEFF 		bl	VL6180x_AlsSetAnalogueGain
 6267              	.LVL679:
 6268 004a E9E7     		b	.L437
 6269              	.LVL680:
 6270              	.L438:
 394:Src/vl6180x_api.c **** 	} while (0);
 6271              		.loc 1 394 3 view .LVU2062
 6272              	.LBE13:
 364:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 6273              		.loc 1 364 6 view .LVU2063
 6274 004c 0026     		movs	r6, #0
 6275              	.LVL681:
 6276              	.L434:
 407:Src/vl6180x_api.c **** 
 6277              		.loc 1 407 1 view .LVU2064
 6278 004e 3046     		mov	r0, r6
 6279 0050 02B0     		add	sp, sp, #8
 6280              	.LCFI108:
 6281              		.cfi_def_cfa_offset 16
 6282              		@ sp needed
 6283 0052 70BD     		pop	{r4, r5, r6, pc}
 407:Src/vl6180x_api.c **** 
 6284              		.loc 1 407 1 view .LVU2065
 6285              		.cfi_endproc
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 185


 6286              	.LFE8:
 6288              		.section	.text.VL6180x_Prepare,"ax",%progbits
 6289              		.align	1
 6290              		.global	VL6180x_Prepare
 6291              		.syntax unified
 6292              		.thumb
 6293              		.thumb_func
 6294              		.fpu fpv4-sp-d16
 6296              	VL6180x_Prepare:
 6297              	.LVL682:
 6298              	.LFB10:
 428:Src/vl6180x_api.c **** 	int status;
 6299              		.loc 1 428 1 is_stmt 1 view -0
 6300              		.cfi_startproc
 6301              		@ args = 0, pretend = 0, frame = 0
 6302              		@ frame_needed = 0, uses_anonymous_args = 0
 428:Src/vl6180x_api.c **** 	int status;
 6303              		.loc 1 428 1 is_stmt 0 view .LVU2067
 6304 0000 10B5     		push	{r4, lr}
 6305              	.LCFI109:
 6306              		.cfi_def_cfa_offset 8
 6307              		.cfi_offset 4, -8
 6308              		.cfi_offset 14, -4
 6309 0002 0446     		mov	r4, r0
 429:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("");
 6310              		.loc 1 429 2 is_stmt 1 view .LVU2068
 430:Src/vl6180x_api.c **** 
 6311              		.loc 1 430 2 view .LVU2069
 432:Src/vl6180x_api.c **** 		status = VL6180x_StaticInit(dev);
 6312              		.loc 1 432 2 view .LVU2070
 433:Src/vl6180x_api.c **** 		if (status < 0)
 6313              		.loc 1 433 3 view .LVU2071
 433:Src/vl6180x_api.c **** 		if (status < 0)
 6314              		.loc 1 433 12 is_stmt 0 view .LVU2072
 6315 0004 FFF7FEFF 		bl	VL6180x_StaticInit
 6316              	.LVL683:
 434:Src/vl6180x_api.c **** 			break;
 6317              		.loc 1 434 3 is_stmt 1 view .LVU2073
 434:Src/vl6180x_api.c **** 			break;
 6318              		.loc 1 434 6 is_stmt 0 view .LVU2074
 6319 0008 0028     		cmp	r0, #0
 434:Src/vl6180x_api.c **** 			break;
 6320              		.loc 1 434 6 view .LVU2075
 6321 000a 00DA     		bge	.L445
 6322              	.L442:
 477:Src/vl6180x_api.c **** 
 6323              		.loc 1 477 1 view .LVU2076
 6324 000c 10BD     		pop	{r4, pc}
 6325              	.LVL684:
 6326              	.L445:
 438:Src/vl6180x_api.c **** 		if (status)
 6327              		.loc 1 438 3 is_stmt 1 view .LVU2077
 438:Src/vl6180x_api.c **** 		if (status)
 6328              		.loc 1 438 12 is_stmt 0 view .LVU2078
 6329 000e 0421     		movs	r1, #4
 6330 0010 2046     		mov	r0, r4
 6331              	.LVL685:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 186


 438:Src/vl6180x_api.c **** 		if (status)
 6332              		.loc 1 438 12 view .LVU2079
 6333 0012 FFF7FEFF 		bl	VL6180x_RangeConfigInterrupt
 6334              	.LVL686:
 439:Src/vl6180x_api.c **** 			break;
 6335              		.loc 1 439 3 is_stmt 1 view .LVU2080
 439:Src/vl6180x_api.c **** 			break;
 6336              		.loc 1 439 6 is_stmt 0 view .LVU2081
 6337 0016 0028     		cmp	r0, #0
 6338 0018 F8D1     		bne	.L442
 443:Src/vl6180x_api.c **** 		if (status) {
 6339              		.loc 1 443 3 is_stmt 1 view .LVU2082
 443:Src/vl6180x_api.c **** 		if (status) {
 6340              		.loc 1 443 12 is_stmt 0 view .LVU2083
 6341 001a C822     		movs	r2, #200
 6342 001c 0A21     		movs	r1, #10
 6343 001e 2046     		mov	r0, r4
 6344              	.LVL687:
 443:Src/vl6180x_api.c **** 		if (status) {
 6345              		.loc 1 443 12 view .LVU2084
 6346 0020 FFF7FEFF 		bl	VL6180x_RangeSetRawThresholds
 6347              	.LVL688:
 444:Src/vl6180x_api.c **** 			VL6180x_ErrLog("VL6180x_RangeSetRawThresholds fail");
 6348              		.loc 1 444 3 is_stmt 1 view .LVU2085
 444:Src/vl6180x_api.c **** 			VL6180x_ErrLog("VL6180x_RangeSetRawThresholds fail");
 6349              		.loc 1 444 6 is_stmt 0 view .LVU2086
 6350 0024 0028     		cmp	r0, #0
 6351 0026 F1D1     		bne	.L442
 449:Src/vl6180x_api.c **** 		if (status)
 6352              		.loc 1 449 3 is_stmt 1 view .LVU2087
 449:Src/vl6180x_api.c **** 		if (status)
 6353              		.loc 1 449 12 is_stmt 0 view .LVU2088
 6354 0028 6421     		movs	r1, #100
 6355 002a 2046     		mov	r0, r4
 6356              	.LVL689:
 449:Src/vl6180x_api.c **** 		if (status)
 6357              		.loc 1 449 12 view .LVU2089
 6358 002c FFF7FEFF 		bl	VL6180x_AlsSetIntegrationPeriod
 6359              	.LVL690:
 450:Src/vl6180x_api.c **** 			break;
 6360              		.loc 1 450 3 is_stmt 1 view .LVU2090
 450:Src/vl6180x_api.c **** 			break;
 6361              		.loc 1 450 6 is_stmt 0 view .LVU2091
 6362 0030 0028     		cmp	r0, #0
 6363 0032 EBD1     		bne	.L442
 452:Src/vl6180x_api.c **** 		if (status)
 6364              		.loc 1 452 3 is_stmt 1 view .LVU2092
 452:Src/vl6180x_api.c **** 		if (status)
 6365              		.loc 1 452 12 is_stmt 0 view .LVU2093
 6366 0034 C821     		movs	r1, #200
 6367 0036 2046     		mov	r0, r4
 6368              	.LVL691:
 452:Src/vl6180x_api.c **** 		if (status)
 6369              		.loc 1 452 12 view .LVU2094
 6370 0038 FFF7FEFF 		bl	VL6180x_AlsSetInterMeasurementPeriod
 6371              	.LVL692:
 453:Src/vl6180x_api.c **** 			break;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 187


 6372              		.loc 1 453 3 is_stmt 1 view .LVU2095
 453:Src/vl6180x_api.c **** 			break;
 6373              		.loc 1 453 6 is_stmt 0 view .LVU2096
 6374 003c 0028     		cmp	r0, #0
 6375 003e E5D1     		bne	.L442
 455:Src/vl6180x_api.c **** 		if (status)
 6376              		.loc 1 455 3 is_stmt 1 view .LVU2097
 455:Src/vl6180x_api.c **** 		if (status)
 6377              		.loc 1 455 12 is_stmt 0 view .LVU2098
 6378 0040 0021     		movs	r1, #0
 6379 0042 2046     		mov	r0, r4
 6380              	.LVL693:
 455:Src/vl6180x_api.c **** 		if (status)
 6381              		.loc 1 455 12 view .LVU2099
 6382 0044 FFF7FEFF 		bl	VL6180x_AlsSetAnalogueGain
 6383              	.LVL694:
 456:Src/vl6180x_api.c **** 			break;
 6384              		.loc 1 456 3 is_stmt 1 view .LVU2100
 456:Src/vl6180x_api.c **** 			break;
 6385              		.loc 1 456 6 is_stmt 0 view .LVU2101
 6386 0048 0028     		cmp	r0, #0
 6387 004a DFD1     		bne	.L442
 458:Src/vl6180x_api.c **** 		if (status)
 6388              		.loc 1 458 3 is_stmt 1 view .LVU2102
 458:Src/vl6180x_api.c **** 		if (status)
 6389              		.loc 1 458 12 is_stmt 0 view .LVU2103
 6390 004c FF22     		movs	r2, #255
 6391 004e 0021     		movs	r1, #0
 6392 0050 2046     		mov	r0, r4
 6393              	.LVL695:
 458:Src/vl6180x_api.c **** 		if (status)
 6394              		.loc 1 458 12 view .LVU2104
 6395 0052 FFF7FEFF 		bl	VL6180x_AlsSetThresholds
 6396              	.LVL696:
 459:Src/vl6180x_api.c **** 			break;
 6397              		.loc 1 459 3 is_stmt 1 view .LVU2105
 459:Src/vl6180x_api.c **** 			break;
 6398              		.loc 1 459 6 is_stmt 0 view .LVU2106
 6399 0056 0028     		cmp	r0, #0
 6400 0058 D8D1     		bne	.L442
 462:Src/vl6180x_api.c **** 		if (status) {
 6401              		.loc 1 462 3 is_stmt 1 view .LVU2107
 462:Src/vl6180x_api.c **** 		if (status) {
 6402              		.loc 1 462 12 is_stmt 0 view .LVU2108
 6403 005a 0421     		movs	r1, #4
 6404 005c 2046     		mov	r0, r4
 6405              	.LVL697:
 462:Src/vl6180x_api.c **** 		if (status) {
 6406              		.loc 1 462 12 view .LVU2109
 6407 005e FFF7FEFF 		bl	VL6180x_AlsConfigInterrupt
 6408              	.LVL698:
 463:Src/vl6180x_api.c **** 			VL6180x_ErrLog("VL6180x_AlsConfigInterrupt fail");
 6409              		.loc 1 463 3 is_stmt 1 view .LVU2110
 463:Src/vl6180x_api.c **** 			VL6180x_ErrLog("VL6180x_AlsConfigInterrupt fail");
 6410              		.loc 1 463 6 is_stmt 0 view .LVU2111
 6411 0062 0028     		cmp	r0, #0
 6412 0064 D2D1     		bne	.L442
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 188


 469:Src/vl6180x_api.c **** 	#endif
 6413              		.loc 1 469 3 is_stmt 1 view .LVU2112
 6414 0066 2046     		mov	r0, r4
 6415              	.LVL699:
 469:Src/vl6180x_api.c **** 	#endif
 6416              		.loc 1 469 3 is_stmt 0 view .LVU2113
 6417 0068 FFF7FEFF 		bl	_filter_Init
 6418              	.LVL700:
 472:Src/vl6180x_api.c **** 	} while (0);
 6419              		.loc 1 472 3 is_stmt 1 view .LVU2114
 472:Src/vl6180x_api.c **** 	} while (0);
 6420              		.loc 1 472 12 is_stmt 0 view .LVU2115
 6421 006c 0721     		movs	r1, #7
 6422 006e 2046     		mov	r0, r4
 6423 0070 FFF7FEFF 		bl	VL6180x_ClearInterrupt
 6424              	.LVL701:
 473:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 6425              		.loc 1 473 10 is_stmt 1 view .LVU2116
 474:Src/vl6180x_api.c **** 
 6426              		.loc 1 474 2 view .LVU2117
 476:Src/vl6180x_api.c **** }
 6427              		.loc 1 476 2 view .LVU2118
 476:Src/vl6180x_api.c **** }
 6428              		.loc 1 476 9 is_stmt 0 view .LVU2119
 6429 0074 CAE7     		b	.L442
 6430              		.cfi_endproc
 6431              	.LFE10:
 6433              		.section	.text.VL6180x_RangeSetEceFactor,"ax",%progbits
 6434              		.align	1
 6435              		.global	VL6180x_RangeSetEceFactor
 6436              		.syntax unified
 6437              		.thumb
 6438              		.thumb_func
 6439              		.fpu fpv4-sp-d16
 6441              	VL6180x_RangeSetEceFactor:
 6442              	.LVL702:
 6443              	.LFB51:
1492:Src/vl6180x_api.c **** 	int status;
 6444              		.loc 1 1492 1 is_stmt 1 view -0
 6445              		.cfi_startproc
 6446              		@ args = 0, pretend = 0, frame = 8
 6447              		@ frame_needed = 0, uses_anonymous_args = 0
1493:Src/vl6180x_api.c **** 	uint8_t u8;
 6448              		.loc 1 1493 2 view .LVU2121
1494:Src/vl6180x_api.c **** 
 6449              		.loc 1 1494 2 view .LVU2122
1496:Src/vl6180x_api.c **** 	do {
 6450              		.loc 1 1496 2 view .LVU2123
1497:Src/vl6180x_api.c **** 		/* D cannot be 0 M must be <=D and >= 0 */
 6451              		.loc 1 1497 2 view .LVU2124
1499:Src/vl6180x_api.c **** 			VL6180xDevDataSet(dev, EceFactorM, FactorM);
 6452              		.loc 1 1499 3 view .LVU2125
1499:Src/vl6180x_api.c **** 			VL6180xDevDataSet(dev, EceFactorM, FactorM);
 6453              		.loc 1 1499 6 is_stmt 0 view .LVU2126
 6454 0000 9142     		cmp	r1, r2
 6455 0002 13D8     		bhi	.L448
1492:Src/vl6180x_api.c **** 	int status;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 189


 6456              		.loc 1 1492 1 discriminator 1 view .LVU2127
 6457 0004 10B5     		push	{r4, lr}
 6458              	.LCFI110:
 6459              		.cfi_def_cfa_offset 8
 6460              		.cfi_offset 4, -8
 6461              		.cfi_offset 14, -4
 6462 0006 82B0     		sub	sp, sp, #8
 6463              	.LCFI111:
 6464              		.cfi_def_cfa_offset 16
 6465 0008 0446     		mov	r4, r0
1499:Src/vl6180x_api.c **** 			VL6180xDevDataSet(dev, EceFactorM, FactorM);
 6466              		.loc 1 1499 27 discriminator 1 view .LVU2128
 6467 000a 92B1     		cbz	r2, .L449
1500:Src/vl6180x_api.c **** 			VL6180xDevDataSet(dev, EceFactorD, FactorD);
 6468              		.loc 1 1500 4 is_stmt 1 view .LVU2129
 6469 000c 0181     		strh	r1, [r0, #8]	@ movhi
1501:Src/vl6180x_api.c **** 			/* read and re-apply max conv time to get new ece factor set */
 6470              		.loc 1 1501 4 view .LVU2130
 6471 000e 4281     		strh	r2, [r0, #10]	@ movhi
1503:Src/vl6180x_api.c **** 			if (status) {
 6472              		.loc 1 1503 4 view .LVU2131
1503:Src/vl6180x_api.c **** 			if (status) {
 6473              		.loc 1 1503 13 is_stmt 0 view .LVU2132
 6474 0010 0DF10702 		add	r2, sp, #7
 6475              	.LVL703:
1503:Src/vl6180x_api.c **** 			if (status) {
 6476              		.loc 1 1503 13 view .LVU2133
 6477 0014 1C21     		movs	r1, #28
 6478              	.LVL704:
1503:Src/vl6180x_api.c **** 			if (status) {
 6479              		.loc 1 1503 13 view .LVU2134
 6480 0016 FFF7FEFF 		bl	VL6180x_RdByte
 6481              	.LVL705:
1504:Src/vl6180x_api.c **** 			   VL6180x_ErrLog("SYSRANGE_MAX_CONVERGENCE_TIME rd fail ");
 6482              		.loc 1 1504 4 is_stmt 1 view .LVU2135
1504:Src/vl6180x_api.c **** 			   VL6180x_ErrLog("SYSRANGE_MAX_CONVERGENCE_TIME rd fail ");
 6483              		.loc 1 1504 7 is_stmt 0 view .LVU2136
 6484 001a 08B1     		cbz	r0, .L454
 6485              	.LVL706:
 6486              	.L446:
1520:Src/vl6180x_api.c **** 
 6487              		.loc 1 1520 1 view .LVU2137
 6488 001c 02B0     		add	sp, sp, #8
 6489              	.LCFI112:
 6490              		.cfi_remember_state
 6491              		.cfi_def_cfa_offset 8
 6492              		@ sp needed
 6493 001e 10BD     		pop	{r4, pc}
 6494              	.LVL707:
 6495              	.L454:
 6496              	.LCFI113:
 6497              		.cfi_restore_state
1508:Src/vl6180x_api.c **** 			if (status < 0) {
 6498              		.loc 1 1508 4 is_stmt 1 view .LVU2138
1508:Src/vl6180x_api.c **** 			if (status < 0) {
 6499              		.loc 1 1508 13 is_stmt 0 view .LVU2139
 6500 0020 9DF80710 		ldrb	r1, [sp, #7]	@ zero_extendqisi2
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 190


 6501 0024 2046     		mov	r0, r4
 6502              	.LVL708:
1508:Src/vl6180x_api.c **** 			if (status < 0) {
 6503              		.loc 1 1508 13 view .LVU2140
 6504 0026 FFF7FEFF 		bl	VL6180x_RangeSetMaxConvergenceTime
 6505              	.LVL709:
1509:Src/vl6180x_api.c **** 				VL6180x_ErrLog("fail to apply time after ece m/d change");
 6506              		.loc 1 1509 4 is_stmt 1 view .LVU2141
 6507 002a F7E7     		b	.L446
 6508              	.LVL710:
 6509              	.L448:
 6510              	.LCFI114:
 6511              		.cfi_def_cfa_offset 0
 6512              		.cfi_restore 4
 6513              		.cfi_restore 14
1515:Src/vl6180x_api.c **** 		}
 6514              		.loc 1 1515 11 is_stmt 0 view .LVU2142
 6515 002c 6FF00100 		mvn	r0, #1
 6516              	.LVL711:
1520:Src/vl6180x_api.c **** 
 6517              		.loc 1 1520 1 view .LVU2143
 6518 0030 7047     		bx	lr
 6519              	.LVL712:
 6520              	.L449:
 6521              	.LCFI115:
 6522              		.cfi_def_cfa_offset 16
 6523              		.cfi_offset 4, -8
 6524              		.cfi_offset 14, -4
1515:Src/vl6180x_api.c **** 		}
 6525              		.loc 1 1515 11 view .LVU2144
 6526 0032 6FF00100 		mvn	r0, #1
 6527              	.LVL713:
1517:Src/vl6180x_api.c **** 	LOG_FUNCTION_END(status);
 6528              		.loc 1 1517 10 is_stmt 1 view .LVU2145
1518:Src/vl6180x_api.c **** 	return status;
 6529              		.loc 1 1518 2 view .LVU2146
1519:Src/vl6180x_api.c **** }
 6530              		.loc 1 1519 2 view .LVU2147
1519:Src/vl6180x_api.c **** }
 6531              		.loc 1 1519 9 is_stmt 0 view .LVU2148
 6532 0036 F1E7     		b	.L446
 6533              		.cfi_endproc
 6534              	.LFE51:
 6536              		.section	.text._RangeIgnore_UpdateDevice,"ax",%progbits
 6537              		.align	1
 6538              		.syntax unified
 6539              		.thumb
 6540              		.thumb_func
 6541              		.fpu fpv4-sp-d16
 6543              	_RangeIgnore_UpdateDevice:
 6544              	.LVL714:
 6545              	.LFB61:
1713:Src/vl6180x_api.c **** 	int status;
 6546              		.loc 1 1713 55 is_stmt 1 view -0
 6547              		.cfi_startproc
 6548              		@ args = 0, pretend = 0, frame = 0
 6549              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 191


1713:Src/vl6180x_api.c **** 	int status;
 6550              		.loc 1 1713 55 is_stmt 0 view .LVU2150
 6551 0000 38B5     		push	{r3, r4, r5, lr}
 6552              	.LCFI116:
 6553              		.cfi_def_cfa_offset 16
 6554              		.cfi_offset 3, -16
 6555              		.cfi_offset 4, -12
 6556              		.cfi_offset 5, -8
 6557              		.cfi_offset 14, -4
 6558 0002 0446     		mov	r4, r0
1714:Src/vl6180x_api.c **** 	int enable;
 6559              		.loc 1 1714 2 is_stmt 1 view .LVU2151
1715:Src/vl6180x_api.c **** 	int threshold;
 6560              		.loc 1 1715 2 view .LVU2152
1716:Src/vl6180x_api.c **** 	int range;
 6561              		.loc 1 1716 2 view .LVU2153
1717:Src/vl6180x_api.c **** 	int or_mask;
 6562              		.loc 1 1717 2 view .LVU2154
1718:Src/vl6180x_api.c **** 	enable= VL6180xDevDataGet(dev, RangeIgnore.Enabled);
 6563              		.loc 1 1718 2 view .LVU2155
1719:Src/vl6180x_api.c **** 	if( enable ){
 6564              		.loc 1 1719 2 view .LVU2156
1719:Src/vl6180x_api.c **** 	if( enable ){
 6565              		.loc 1 1719 10 is_stmt 0 view .LVU2157
 6566 0004 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 6567              	.LVL715:
1720:Src/vl6180x_api.c **** 		// if to be nabled program first range value and threshold
 6568              		.loc 1 1720 2 is_stmt 1 view .LVU2158
1720:Src/vl6180x_api.c **** 		// if to be nabled program first range value and threshold
 6569              		.loc 1 1720 4 is_stmt 0 view .LVU2159
 6570 0006 B3B1     		cbz	r3, .L459
1722:Src/vl6180x_api.c **** 		range /= _GetUpscale(dev);
 6571              		.loc 1 1722 3 is_stmt 1 view .LVU2160
1722:Src/vl6180x_api.c **** 		range /= _GetUpscale(dev);
 6572              		.loc 1 1722 11 is_stmt 0 view .LVU2161
 6573 0008 8289     		ldrh	r2, [r0, #12]
 6574              	.LVL716:
1723:Src/vl6180x_api.c **** 		if( range > 255 )
 6575              		.loc 1 1723 3 is_stmt 1 view .LVU2162
1723:Src/vl6180x_api.c **** 		if( range > 255 )
 6576              		.loc 1 1723 12 is_stmt 0 view .LVU2163
 6577 000a 037E     		ldrb	r3, [r0, #24]	@ zero_extendqisi2
 6578              	.LVL717:
1723:Src/vl6180x_api.c **** 		if( range > 255 )
 6579              		.loc 1 1723 9 view .LVU2164
 6580 000c 92FBF3F2 		sdiv	r2, r2, r3
 6581              	.LVL718:
1724:Src/vl6180x_api.c **** 			range = 255;
 6582              		.loc 1 1724 3 is_stmt 1 view .LVU2165
1724:Src/vl6180x_api.c **** 			range = 255;
 6583              		.loc 1 1724 5 is_stmt 0 view .LVU2166
 6584 0010 FF2A     		cmp	r2, #255
 6585 0012 00DD     		ble	.L457
1725:Src/vl6180x_api.c **** 
 6586              		.loc 1 1725 10 view .LVU2167
 6587 0014 FF22     		movs	r2, #255
 6588              	.LVL719:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 192


 6589              	.L457:
1727:Src/vl6180x_api.c **** 		if( status ){
 6590              		.loc 1 1727 3 is_stmt 1 view .LVU2168
1727:Src/vl6180x_api.c **** 		if( status ){
 6591              		.loc 1 1727 12 is_stmt 0 view .LVU2169
 6592 0016 D2B2     		uxtb	r2, r2
 6593              	.LVL720:
1727:Src/vl6180x_api.c **** 		if( status ){
 6594              		.loc 1 1727 12 view .LVU2170
 6595 0018 2521     		movs	r1, #37
 6596 001a 2046     		mov	r0, r4
 6597              	.LVL721:
1727:Src/vl6180x_api.c **** 		if( status ){
 6598              		.loc 1 1727 12 view .LVU2171
 6599 001c FFF7FEFF 		bl	VL6180x_WrByte
 6600              	.LVL722:
1728:Src/vl6180x_api.c **** 			goto done;
 6601              		.loc 1 1728 3 is_stmt 1 view .LVU2172
1728:Src/vl6180x_api.c **** 			goto done;
 6602              		.loc 1 1728 5 is_stmt 0 view .LVU2173
 6603 0020 0546     		mov	r5, r0
 6604 0022 90B9     		cbnz	r0, .L455
1732:Src/vl6180x_api.c **** 		status = VL6180x_WrWord(dev, SYSRANGE_RANGE_IGNORE_THRESHOLD,  threshold);
 6605              		.loc 1 1732 3 is_stmt 1 view .LVU2174
 6606              	.LVL723:
1733:Src/vl6180x_api.c **** 		if( status ){
 6607              		.loc 1 1733 3 view .LVU2175
1733:Src/vl6180x_api.c **** 		if( status ){
 6608              		.loc 1 1733 12 is_stmt 0 view .LVU2176
 6609 0024 E289     		ldrh	r2, [r4, #14]
 6610              	.LVL724:
1733:Src/vl6180x_api.c **** 		if( status ){
 6611              		.loc 1 1733 12 view .LVU2177
 6612 0026 2621     		movs	r1, #38
 6613 0028 2046     		mov	r0, r4
 6614              	.LVL725:
1733:Src/vl6180x_api.c **** 		if( status ){
 6615              		.loc 1 1733 12 view .LVU2178
 6616 002a FFF7FEFF 		bl	VL6180x_WrWord
 6617              	.LVL726:
1734:Src/vl6180x_api.c **** 			goto done;
 6618              		.loc 1 1734 3 is_stmt 1 view .LVU2179
1734:Src/vl6180x_api.c **** 			goto done;
 6619              		.loc 1 1734 5 is_stmt 0 view .LVU2180
 6620 002e 0546     		mov	r5, r0
 6621 0030 58B9     		cbnz	r0, .L455
1737:Src/vl6180x_api.c **** 	}
 6622              		.loc 1 1737 11 view .LVU2181
 6623 0032 0223     		movs	r3, #2
 6624 0034 00E0     		b	.L456
 6625              	.LVL727:
 6626              	.L459:
1740:Src/vl6180x_api.c **** 	}
 6627              		.loc 1 1740 11 view .LVU2182
 6628 0036 0023     		movs	r3, #0
 6629              	.LVL728:
 6630              	.L456:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 193


1742:Src/vl6180x_api.c **** 	_DMax_InitData(dev);
 6631              		.loc 1 1742 2 is_stmt 1 view .LVU2183
1742:Src/vl6180x_api.c **** 	_DMax_InitData(dev);
 6632              		.loc 1 1742 11 is_stmt 0 view .LVU2184
 6633 0038 FD22     		movs	r2, #253
 6634 003a 2D21     		movs	r1, #45
 6635 003c 2046     		mov	r0, r4
 6636 003e FFF7FEFF 		bl	VL6180x_UpdateByte
 6637              	.LVL729:
1742:Src/vl6180x_api.c **** 	_DMax_InitData(dev);
 6638              		.loc 1 1742 11 view .LVU2185
 6639 0042 0546     		mov	r5, r0
 6640              	.LVL730:
1743:Src/vl6180x_api.c **** done:
 6641              		.loc 1 1743 2 is_stmt 1 view .LVU2186
 6642 0044 2046     		mov	r0, r4
 6643              	.LVL731:
1743:Src/vl6180x_api.c **** done:
 6644              		.loc 1 1743 2 is_stmt 0 view .LVU2187
 6645 0046 FFF7FEFF 		bl	_DMax_InitData
 6646              	.LVL732:
 6647              	.L458:
1745:Src/vl6180x_api.c **** }
 6648              		.loc 1 1745 2 is_stmt 1 view .LVU2188
 6649              	.L455:
1746:Src/vl6180x_api.c **** 
 6650              		.loc 1 1746 1 is_stmt 0 view .LVU2189
 6651 004a 2846     		mov	r0, r5
 6652 004c 38BD     		pop	{r3, r4, r5, pc}
1746:Src/vl6180x_api.c **** 
 6653              		.loc 1 1746 1 view .LVU2190
 6654              		.cfi_endproc
 6655              	.LFE61:
 6657              		.section	.text.VL6180x_RangeIgnoreSetEnable,"ax",%progbits
 6658              		.align	1
 6659              		.global	VL6180x_RangeIgnoreSetEnable
 6660              		.syntax unified
 6661              		.thumb
 6662              		.thumb_func
 6663              		.fpu fpv4-sp-d16
 6665              	VL6180x_RangeIgnoreSetEnable:
 6666              	.LVL733:
 6667              	.LFB62:
1748:Src/vl6180x_api.c **** 	int CurEnable;
 6668              		.loc 1 1748 68 is_stmt 1 view -0
 6669              		.cfi_startproc
 6670              		@ args = 0, pretend = 0, frame = 0
 6671              		@ frame_needed = 0, uses_anonymous_args = 0
1748:Src/vl6180x_api.c **** 	int CurEnable;
 6672              		.loc 1 1748 68 is_stmt 0 view .LVU2192
 6673 0000 08B5     		push	{r3, lr}
 6674              	.LCFI117:
 6675              		.cfi_def_cfa_offset 8
 6676              		.cfi_offset 3, -8
 6677              		.cfi_offset 14, -4
1749:Src/vl6180x_api.c **** 	int status;
 6678              		.loc 1 1749 2 is_stmt 1 view .LVU2193
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 194


1750:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("enable %d", EnableState);
 6679              		.loc 1 1750 2 view .LVU2194
1751:Src/vl6180x_api.c **** 
 6680              		.loc 1 1751 2 view .LVU2195
1753:Src/vl6180x_api.c **** 		EnableState = 1;
 6681              		.loc 1 1753 2 view .LVU2196
1753:Src/vl6180x_api.c **** 		EnableState = 1;
 6682              		.loc 1 1753 4 is_stmt 0 view .LVU2197
 6683 0002 0B46     		mov	r3, r1
 6684 0004 01B1     		cbz	r1, .L463
1754:Src/vl6180x_api.c **** 
 6685              		.loc 1 1754 15 view .LVU2198
 6686 0006 0123     		movs	r3, #1
 6687              	.L463:
 6688              	.LVL734:
1756:Src/vl6180x_api.c **** 	if( EnableState != CurEnable  ){
 6689              		.loc 1 1756 2 is_stmt 1 view .LVU2199
1756:Src/vl6180x_api.c **** 	if( EnableState != CurEnable  ){
 6690              		.loc 1 1756 14 is_stmt 0 view .LVU2200
 6691 0008 017C     		ldrb	r1, [r0, #16]	@ zero_extendqisi2
 6692              	.LVL735:
1757:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, RangeIgnore.Enabled, EnableState);
 6693              		.loc 1 1757 2 is_stmt 1 view .LVU2201
1757:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, RangeIgnore.Enabled, EnableState);
 6694              		.loc 1 1757 4 is_stmt 0 view .LVU2202
 6695 000a 8B42     		cmp	r3, r1
 6696 000c 01D1     		bne	.L467
 6697              	.LVL736:
 6698              	.L462:
1763:Src/vl6180x_api.c **** 
 6699              		.loc 1 1763 1 view .LVU2203
 6700 000e 1046     		mov	r0, r2
 6701 0010 08BD     		pop	{r3, pc}
 6702              	.LVL737:
 6703              	.L467:
1758:Src/vl6180x_api.c **** 		status = _RangeIgnore_UpdateDevice(dev);
 6704              		.loc 1 1758 3 is_stmt 1 view .LVU2204
 6705 0012 0374     		strb	r3, [r0, #16]
1759:Src/vl6180x_api.c **** 	}
 6706              		.loc 1 1759 3 view .LVU2205
1759:Src/vl6180x_api.c **** 	}
 6707              		.loc 1 1759 12 is_stmt 0 view .LVU2206
 6708 0014 FFF7FEFF 		bl	_RangeIgnore_UpdateDevice
 6709              	.LVL738:
1759:Src/vl6180x_api.c **** 	}
 6710              		.loc 1 1759 12 view .LVU2207
 6711 0018 0246     		mov	r2, r0
 6712              	.LVL739:
1761:Src/vl6180x_api.c **** 	return status;
 6713              		.loc 1 1761 2 is_stmt 1 view .LVU2208
1762:Src/vl6180x_api.c **** }
 6714              		.loc 1 1762 2 view .LVU2209
1762:Src/vl6180x_api.c **** }
 6715              		.loc 1 1762 9 is_stmt 0 view .LVU2210
 6716 001a F8E7     		b	.L462
 6717              		.cfi_endproc
 6718              	.LFE62:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 195


 6720              		.section	.text.VL6180x_RangeIgnoreConfigure,"ax",%progbits
 6721              		.align	1
 6722              		.global	VL6180x_RangeIgnoreConfigure
 6723              		.syntax unified
 6724              		.thumb
 6725              		.thumb_func
 6726              		.fpu fpv4-sp-d16
 6728              	VL6180x_RangeIgnoreConfigure:
 6729              	.LVL740:
 6730              	.LFB63:
1765:Src/vl6180x_api.c **** 	int status;
 6731              		.loc 1 1765 102 is_stmt 1 view -0
 6732              		.cfi_startproc
 6733              		@ args = 0, pretend = 0, frame = 0
 6734              		@ frame_needed = 0, uses_anonymous_args = 0
1765:Src/vl6180x_api.c **** 	int status;
 6735              		.loc 1 1765 102 is_stmt 0 view .LVU2212
 6736 0000 08B5     		push	{r3, lr}
 6737              	.LCFI118:
 6738              		.cfi_def_cfa_offset 8
 6739              		.cfi_offset 3, -8
 6740              		.cfi_offset 14, -4
1766:Src/vl6180x_api.c **** 	int enabled;
 6741              		.loc 1 1766 2 is_stmt 1 view .LVU2213
1767:Src/vl6180x_api.c **** 
 6742              		.loc 1 1767 2 view .LVU2214
1769:Src/vl6180x_api.c **** 
 6743              		.loc 1 1769 2 view .LVU2215
1771:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, RangeIgnore.ValidHeight, ValidHeight_mm);
 6744              		.loc 1 1771 2 view .LVU2216
1771:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, RangeIgnore.ValidHeight, ValidHeight_mm);
 6745              		.loc 1 1771 12 is_stmt 0 view .LVU2217
 6746 0002 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 6747              	.LVL741:
1772:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, RangeIgnore.IgnoreThreshold, IgnoreThreshold);
 6748              		.loc 1 1772 2 is_stmt 1 view .LVU2218
 6749 0004 8181     		strh	r1, [r0, #12]	@ movhi
1773:Src/vl6180x_api.c **** 	if(  enabled ){
 6750              		.loc 1 1773 2 view .LVU2219
 6751 0006 C281     		strh	r2, [r0, #14]	@ movhi
1774:Src/vl6180x_api.c **** 		status = _RangeIgnore_UpdateDevice(dev);
 6752              		.loc 1 1774 2 view .LVU2220
1774:Src/vl6180x_api.c **** 		status = _RangeIgnore_UpdateDevice(dev);
 6753              		.loc 1 1774 4 is_stmt 0 view .LVU2221
 6754 0008 0BB9     		cbnz	r3, .L472
1778:Src/vl6180x_api.c **** 	}
 6755              		.loc 1 1778 10 view .LVU2222
 6756 000a 0020     		movs	r0, #0
 6757              	.LVL742:
1780:Src/vl6180x_api.c **** 	return status;
 6758              		.loc 1 1780 2 is_stmt 1 view .LVU2223
1781:Src/vl6180x_api.c **** }
 6759              		.loc 1 1781 2 view .LVU2224
 6760              	.L468:
1782:Src/vl6180x_api.c **** 
 6761              		.loc 1 1782 1 is_stmt 0 view .LVU2225
 6762 000c 08BD     		pop	{r3, pc}
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 196


 6763              	.LVL743:
 6764              	.L472:
1775:Src/vl6180x_api.c **** 	}
 6765              		.loc 1 1775 3 is_stmt 1 view .LVU2226
1775:Src/vl6180x_api.c **** 	}
 6766              		.loc 1 1775 12 is_stmt 0 view .LVU2227
 6767 000e FFF7FEFF 		bl	_RangeIgnore_UpdateDevice
 6768              	.LVL744:
1775:Src/vl6180x_api.c **** 	}
 6769              		.loc 1 1775 12 view .LVU2228
 6770 0012 FBE7     		b	.L468
 6771              		.cfi_endproc
 6772              	.LFE63:
 6774              		.section	.text.VL6180x_DMaxSetState,"ax",%progbits
 6775              		.align	1
 6776              		.global	VL6180x_DMaxSetState
 6777              		.syntax unified
 6778              		.thumb
 6779              		.thumb_func
 6780              		.fpu fpv4-sp-d16
 6782              	VL6180x_DMaxSetState:
 6783              	.LVL745:
 6784              	.LFB70:
2521:Src/vl6180x_api.c **** 	int status;
 6785              		.loc 1 2521 1 is_stmt 1 view -0
 6786              		.cfi_startproc
 6787              		@ args = 0, pretend = 0, frame = 0
 6788              		@ frame_needed = 0, uses_anonymous_args = 0
2521:Src/vl6180x_api.c **** 	int status;
 6789              		.loc 1 2521 1 is_stmt 0 view .LVU2230
 6790 0000 08B5     		push	{r3, lr}
 6791              	.LCFI119:
 6792              		.cfi_def_cfa_offset 8
 6793              		.cfi_offset 3, -8
 6794              		.cfi_offset 14, -4
 6795 0002 0346     		mov	r3, r0
 6796 0004 0846     		mov	r0, r1
 6797              	.LVL746:
2522:Src/vl6180x_api.c **** 	LOG_FUNCTION_START("%d", state);
 6798              		.loc 1 2522 2 is_stmt 1 view .LVU2231
2523:Src/vl6180x_api.c **** #if VL6180x_HAVE_DMAX_RANGING
 6799              		.loc 1 2523 2 view .LVU2232
2525:Src/vl6180x_api.c **** 	if (state) {
 6800              		.loc 1 2525 2 view .LVU2233
 6801 0006 83F8CC10 		strb	r1, [r3, #204]
2526:Src/vl6180x_api.c **** 		status = _DMax_InitData(dev);
 6802              		.loc 1 2526 2 view .LVU2234
2526:Src/vl6180x_api.c **** 		status = _DMax_InitData(dev);
 6803              		.loc 1 2526 5 is_stmt 0 view .LVU2235
 6804 000a 01B9     		cbnz	r1, .L476
 6805              	.LVL747:
 6806              	.L474:
2534:Src/vl6180x_api.c **** 	return status;
 6807              		.loc 1 2534 2 is_stmt 1 view .LVU2236
2535:Src/vl6180x_api.c **** }
 6808              		.loc 1 2535 2 view .LVU2237
2536:Src/vl6180x_api.c **** 
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 197


 6809              		.loc 1 2536 1 is_stmt 0 view .LVU2238
 6810 000c 08BD     		pop	{r3, pc}
 6811              	.LVL748:
 6812              	.L476:
2527:Src/vl6180x_api.c **** 	} else {
 6813              		.loc 1 2527 3 is_stmt 1 view .LVU2239
2527:Src/vl6180x_api.c **** 	} else {
 6814              		.loc 1 2527 12 is_stmt 0 view .LVU2240
 6815 000e 1846     		mov	r0, r3
 6816              	.LVL749:
2527:Src/vl6180x_api.c **** 	} else {
 6817              		.loc 1 2527 12 view .LVU2241
 6818 0010 FFF7FEFF 		bl	_DMax_InitData
 6819              	.LVL750:
2527:Src/vl6180x_api.c **** 	} else {
 6820              		.loc 1 2527 12 view .LVU2242
 6821 0014 FAE7     		b	.L474
 6822              		.cfi_endproc
 6823              	.LFE70:
 6825              		.section	.text._DMax_Compute,"ax",%progbits
 6826              		.align	1
 6827              		.syntax unified
 6828              		.thumb
 6829              		.thumb_func
 6830              		.fpu fpv4-sp-d16
 6832              	_DMax_Compute:
 6833              	.LVL751:
 6834              	.LFB76:
2735:Src/vl6180x_api.c **** 
2736:Src/vl6180x_api.c **** static int _DMax_Compute(VL6180xDev_t dev, VL6180x_RangeData_t *pRange)
2737:Src/vl6180x_api.c **** {
 6835              		.loc 1 2737 1 is_stmt 1 view -0
 6836              		.cfi_startproc
 6837              		@ args = 0, pretend = 0, frame = 0
 6838              		@ frame_needed = 0, uses_anonymous_args = 0
 6839              		.loc 1 2737 1 is_stmt 0 view .LVU2244
 6840 0000 38B5     		push	{r3, r4, r5, lr}
 6841              	.LCFI120:
 6842              		.cfi_def_cfa_offset 16
 6843              		.cfi_offset 3, -16
 6844              		.cfi_offset 4, -12
 6845              		.cfi_offset 5, -8
 6846              		.cfi_offset 14, -4
 6847 0002 0C46     		mov	r4, r1
2738:Src/vl6180x_api.c **** 	uint32_t rtnAmbRate;
 6848              		.loc 1 2738 2 is_stmt 1 view .LVU2245
2739:Src/vl6180x_api.c **** 	int32_t DMax;
 6849              		.loc 1 2739 2 view .LVU2246
2740:Src/vl6180x_api.c **** 	int scaling;
 6850              		.loc 1 2740 2 view .LVU2247
2741:Src/vl6180x_api.c **** 	uint16_t HwLimitAtScale;
 6851              		.loc 1 2741 2 view .LVU2248
2742:Src/vl6180x_api.c **** 	static const int ROMABLE_DATA rtnAmbLowLimit_KCps = 330 * 1000;
 6852              		.loc 1 2742 2 view .LVU2249
2743:Src/vl6180x_api.c **** 
2744:Src/vl6180x_api.c **** 	rtnAmbRate = pRange->rtnAmbRate;
 6853              		.loc 1 2744 2 view .LVU2250
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 198


 6854              		.loc 1 2744 13 is_stmt 0 view .LVU2251
 6855 0004 C968     		ldr	r1, [r1, #12]
 6856              	.LVL752:
2745:Src/vl6180x_api.c **** 	if (rtnAmbRate  < rtnAmbLowLimit_KCps) {
 6857              		.loc 1 2745 2 is_stmt 1 view .LVU2252
 6858              		.loc 1 2745 5 is_stmt 0 view .LVU2253
 6859 0006 0D4B     		ldr	r3, .L484
 6860 0008 9942     		cmp	r1, r3
 6861 000a 03D9     		bls	.L483
2746:Src/vl6180x_api.c **** 		DMax = _DMax_RawValueAtRateKCps(dev, rtnAmbRate);
2747:Src/vl6180x_api.c **** 		scaling = _GetUpscale(dev);
2748:Src/vl6180x_api.c **** 		HwLimitAtScale = UpperLimitLookUP[scaling - 1];
2749:Src/vl6180x_api.c **** 
2750:Src/vl6180x_api.c **** 		if (DMax > _DMaxData(ClipSnrLimit)) {
2751:Src/vl6180x_api.c **** 		    DMax = _DMaxData(ClipSnrLimit);
2752:Src/vl6180x_api.c **** 		}
2753:Src/vl6180x_api.c **** 		if (DMax > HwLimitAtScale) {
2754:Src/vl6180x_api.c **** 		    DMax = HwLimitAtScale;
2755:Src/vl6180x_api.c **** 		}
2756:Src/vl6180x_api.c **** 		pRange->DMax = DMax;
2757:Src/vl6180x_api.c **** 	} else {
2758:Src/vl6180x_api.c **** 		pRange->DMax = 0;
 6862              		.loc 1 2758 3 is_stmt 1 view .LVU2254
 6863              		.loc 1 2758 16 is_stmt 0 view .LVU2255
 6864 000c 0023     		movs	r3, #0
 6865 000e E361     		str	r3, [r4, #28]
 6866              	.LVL753:
 6867              	.L481:
2759:Src/vl6180x_api.c **** 	}
2760:Src/vl6180x_api.c **** 	return 0;
 6868              		.loc 1 2760 2 is_stmt 1 view .LVU2256
2761:Src/vl6180x_api.c **** }
 6869              		.loc 1 2761 1 is_stmt 0 view .LVU2257
 6870 0010 0020     		movs	r0, #0
 6871 0012 38BD     		pop	{r3, r4, r5, pc}
 6872              	.LVL754:
 6873              	.L483:
 6874              		.loc 1 2761 1 view .LVU2258
 6875 0014 0546     		mov	r5, r0
2746:Src/vl6180x_api.c **** 		DMax = _DMax_RawValueAtRateKCps(dev, rtnAmbRate);
 6876              		.loc 1 2746 3 is_stmt 1 view .LVU2259
2746:Src/vl6180x_api.c **** 		DMax = _DMax_RawValueAtRateKCps(dev, rtnAmbRate);
 6877              		.loc 1 2746 10 is_stmt 0 view .LVU2260
 6878 0016 FFF7FEFF 		bl	_DMax_RawValueAtRateKCps
 6879              	.LVL755:
2747:Src/vl6180x_api.c **** 		HwLimitAtScale = UpperLimitLookUP[scaling - 1];
 6880              		.loc 1 2747 3 is_stmt 1 view .LVU2261
2747:Src/vl6180x_api.c **** 		HwLimitAtScale = UpperLimitLookUP[scaling - 1];
 6881              		.loc 1 2747 13 is_stmt 0 view .LVU2262
 6882 001a 2B7E     		ldrb	r3, [r5, #24]	@ zero_extendqisi2
 6883              	.LVL756:
2748:Src/vl6180x_api.c **** 
 6884              		.loc 1 2748 3 is_stmt 1 view .LVU2263
2748:Src/vl6180x_api.c **** 
 6885              		.loc 1 2748 45 is_stmt 0 view .LVU2264
 6886 001c 013B     		subs	r3, r3, #1
 6887              	.LVL757:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 199


2748:Src/vl6180x_api.c **** 
 6888              		.loc 1 2748 18 view .LVU2265
 6889 001e 084A     		ldr	r2, .L484+4
 6890 0020 32F81320 		ldrh	r2, [r2, r3, lsl #1]
 6891              	.LVL758:
2750:Src/vl6180x_api.c **** 		    DMax = _DMaxData(ClipSnrLimit);
 6892              		.loc 1 2750 3 is_stmt 1 view .LVU2266
2750:Src/vl6180x_api.c **** 		    DMax = _DMaxData(ClipSnrLimit);
 6893              		.loc 1 2750 14 is_stmt 0 view .LVU2267
 6894 0024 B5F8C830 		ldrh	r3, [r5, #200]
 6895              	.LVL759:
2750:Src/vl6180x_api.c **** 		    DMax = _DMaxData(ClipSnrLimit);
 6896              		.loc 1 2750 6 view .LVU2268
 6897 0028 8342     		cmp	r3, r0
 6898 002a 00DB     		blt	.L479
2746:Src/vl6180x_api.c **** 		scaling = _GetUpscale(dev);
 6899              		.loc 1 2746 8 view .LVU2269
 6900 002c 0346     		mov	r3, r0
 6901              	.L479:
 6902              	.LVL760:
2753:Src/vl6180x_api.c **** 		    DMax = HwLimitAtScale;
 6903              		.loc 1 2753 3 is_stmt 1 view .LVU2270
2753:Src/vl6180x_api.c **** 		    DMax = HwLimitAtScale;
 6904              		.loc 1 2753 12 is_stmt 0 view .LVU2271
 6905 002e 1146     		mov	r1, r2
2753:Src/vl6180x_api.c **** 		    DMax = HwLimitAtScale;
 6906              		.loc 1 2753 6 view .LVU2272
 6907 0030 9A42     		cmp	r2, r3
 6908 0032 00DB     		blt	.L480
 6909 0034 1946     		mov	r1, r3
 6910              	.L480:
 6911              	.LVL761:
2756:Src/vl6180x_api.c **** 	} else {
 6912              		.loc 1 2756 3 is_stmt 1 view .LVU2273
2756:Src/vl6180x_api.c **** 	} else {
 6913              		.loc 1 2756 16 is_stmt 0 view .LVU2274
 6914 0036 E161     		str	r1, [r4, #28]
 6915              	.LVL762:
2756:Src/vl6180x_api.c **** 	} else {
 6916              		.loc 1 2756 16 view .LVU2275
 6917 0038 EAE7     		b	.L481
 6918              	.L485:
 6919 003a 00BF     		.align	2
 6920              	.L484:
 6921 003c 0F090500 		.word	329999
 6922 0040 00000000 		.word	.LANCHOR1
 6923              		.cfi_endproc
 6924              	.LFE76:
 6926              		.section	.text.VL6180x_RangeGetMeasurement,"ax",%progbits
 6927              		.align	1
 6928              		.global	VL6180x_RangeGetMeasurement
 6929              		.syntax unified
 6930              		.thumb
 6931              		.thumb_func
 6932              		.fpu fpv4-sp-d16
 6934              	VL6180x_RangeGetMeasurement:
 6935              	.LVL763:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 200


 6936              	.LFB28:
 883:Src/vl6180x_api.c **** 	int status;
 6937              		.loc 1 883 1 is_stmt 1 view -0
 6938              		.cfi_startproc
 6939              		@ args = 0, pretend = 0, frame = 8
 6940              		@ frame_needed = 0, uses_anonymous_args = 0
 883:Src/vl6180x_api.c **** 	int status;
 6941              		.loc 1 883 1 is_stmt 0 view .LVU2277
 6942 0000 70B5     		push	{r4, r5, r6, lr}
 6943              	.LCFI121:
 6944              		.cfi_def_cfa_offset 16
 6945              		.cfi_offset 4, -16
 6946              		.cfi_offset 5, -12
 6947              		.cfi_offset 6, -8
 6948              		.cfi_offset 14, -4
 6949 0002 82B0     		sub	sp, sp, #8
 6950              	.LCFI122:
 6951              		.cfi_def_cfa_offset 24
 6952 0004 0446     		mov	r4, r0
 6953 0006 0E46     		mov	r6, r1
 884:Src/vl6180x_api.c **** 	uint16_t RawRate;
 6954              		.loc 1 884 2 is_stmt 1 view .LVU2278
 885:Src/vl6180x_api.c **** 	uint8_t RawStatus;
 6955              		.loc 1 885 2 view .LVU2279
 886:Src/vl6180x_api.c **** 
 6956              		.loc 1 886 2 view .LVU2280
 888:Src/vl6180x_api.c **** 
 6957              		.loc 1 888 2 view .LVU2281
 890:Src/vl6180x_api.c **** 	if (status) {
 6958              		.loc 1 890 2 view .LVU2282
 890:Src/vl6180x_api.c **** 	if (status) {
 6959              		.loc 1 890 11 is_stmt 0 view .LVU2283
 6960 0008 FFF7FEFF 		bl	_CachedRegs_Fetch
 6961              	.LVL764:
 891:Src/vl6180x_api.c **** 		VL6180x_ErrLog("Cache register read fail");
 6962              		.loc 1 891 2 is_stmt 1 view .LVU2284
 891:Src/vl6180x_api.c **** 		VL6180x_ErrLog("Cache register read fail");
 6963              		.loc 1 891 5 is_stmt 0 view .LVU2285
 6964 000c 0546     		mov	r5, r0
 6965 000e 28B1     		cbz	r0, .L491
 6966              	.LVL765:
 6967              	.L487:
 934:Src/vl6180x_api.c **** 	}
 6968              		.loc 1 934 3 is_stmt 1 view .LVU2286
 937:Src/vl6180x_api.c **** 	LOG_FUNCTION_END_FMT(status, "%d %d %d", (int)pRangeData->range_mm, (int)pRangeData->signalRate_mc
 6969              		.loc 1 937 2 view .LVU2287
 6970 0010 2046     		mov	r0, r4
 6971 0012 FFF7FEFF 		bl	_CachedRegs_Flush
 6972              	.LVL766:
 938:Src/vl6180x_api.c **** 	return status;
 6973              		.loc 1 938 2 view .LVU2288
 939:Src/vl6180x_api.c **** }
 6974              		.loc 1 939 2 view .LVU2289
 940:Src/vl6180x_api.c **** 
 6975              		.loc 1 940 1 is_stmt 0 view .LVU2290
 6976 0016 2846     		mov	r0, r5
 6977 0018 02B0     		add	sp, sp, #8
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 201


 6978              	.LCFI123:
 6979              		.cfi_remember_state
 6980              		.cfi_def_cfa_offset 16
 6981              		@ sp needed
 6982 001a 70BD     		pop	{r4, r5, r6, pc}
 6983              	.LVL767:
 6984              	.L491:
 6985              	.LCFI124:
 6986              		.cfi_restore_state
 895:Src/vl6180x_api.c **** 	if (!status) {
 6987              		.loc 1 895 2 is_stmt 1 view .LVU2291
 895:Src/vl6180x_api.c **** 	if (!status) {
 6988              		.loc 1 895 11 is_stmt 0 view .LVU2292
 6989 001c 3146     		mov	r1, r6
 6990 001e 2046     		mov	r0, r4
 6991              	.LVL768:
 895:Src/vl6180x_api.c **** 	if (!status) {
 6992              		.loc 1 895 11 view .LVU2293
 6993 0020 FFF7FEFF 		bl	VL6180x_RangeGetResult
 6994              	.LVL769:
 896:Src/vl6180x_api.c **** 		status = VL6180x_GetCachedWord(dev, RESULT_RANGE_SIGNAL_RATE, &RawRate);
 6995              		.loc 1 896 2 is_stmt 1 view .LVU2294
 896:Src/vl6180x_api.c **** 		status = VL6180x_GetCachedWord(dev, RESULT_RANGE_SIGNAL_RATE, &RawRate);
 6996              		.loc 1 896 5 is_stmt 0 view .LVU2295
 6997 0024 0546     		mov	r5, r0
 6998 0026 0028     		cmp	r0, #0
 6999 0028 F2D1     		bne	.L487
 897:Src/vl6180x_api.c **** 		if (!status) {
 7000              		.loc 1 897 3 is_stmt 1 view .LVU2296
 897:Src/vl6180x_api.c **** 		if (!status) {
 7001              		.loc 1 897 12 is_stmt 0 view .LVU2297
 7002 002a 0DF10602 		add	r2, sp, #6
 7003 002e 6621     		movs	r1, #102
 7004 0030 2046     		mov	r0, r4
 7005              	.LVL770:
 897:Src/vl6180x_api.c **** 		if (!status) {
 7006              		.loc 1 897 12 view .LVU2298
 7007 0032 FFF7FEFF 		bl	VL6180x_GetCachedWord
 7008              	.LVL771:
 898:Src/vl6180x_api.c **** 			pRangeData->signalRate_mcps = VL6180x_9to7Conv(RawRate);
 7009              		.loc 1 898 3 is_stmt 1 view .LVU2299
 898:Src/vl6180x_api.c **** 			pRangeData->signalRate_mcps = VL6180x_9to7Conv(RawRate);
 7010              		.loc 1 898 6 is_stmt 0 view .LVU2300
 7011 0036 0546     		mov	r5, r0
 7012 0038 0028     		cmp	r0, #0
 7013 003a E9D1     		bne	.L487
 899:Src/vl6180x_api.c **** 			status = VL6180x_GetCachedByte(dev, RESULT_RANGE_STATUS, &RawStatus);
 7014              		.loc 1 899 4 is_stmt 1 view .LVU2301
 899:Src/vl6180x_api.c **** 			status = VL6180x_GetCachedByte(dev, RESULT_RANGE_STATUS, &RawStatus);
 7015              		.loc 1 899 32 is_stmt 0 view .LVU2302
 7016 003c BDF80630 		ldrh	r3, [sp, #6]
 7017 0040 7360     		str	r3, [r6, #4]
 900:Src/vl6180x_api.c **** 			if (!status) {
 7018              		.loc 1 900 4 is_stmt 1 view .LVU2303
 900:Src/vl6180x_api.c **** 			if (!status) {
 7019              		.loc 1 900 13 is_stmt 0 view .LVU2304
 7020 0042 0DF10502 		add	r2, sp, #5
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 202


 7021 0046 4D21     		movs	r1, #77
 7022 0048 2046     		mov	r0, r4
 7023              	.LVL772:
 900:Src/vl6180x_api.c **** 			if (!status) {
 7024              		.loc 1 900 13 view .LVU2305
 7025 004a FFF7FEFF 		bl	VL6180x_GetCachedByte
 7026              	.LVL773:
 901:Src/vl6180x_api.c **** 				pRangeData->errorStatus = RawStatus >> 4;
 7027              		.loc 1 901 4 is_stmt 1 view .LVU2306
 901:Src/vl6180x_api.c **** 				pRangeData->errorStatus = RawStatus >> 4;
 7028              		.loc 1 901 7 is_stmt 0 view .LVU2307
 7029 004e 18B9     		cbnz	r0, .L488
 902:Src/vl6180x_api.c **** 			} else {
 7030              		.loc 1 902 5 is_stmt 1 view .LVU2308
 902:Src/vl6180x_api.c **** 			} else {
 7031              		.loc 1 902 41 is_stmt 0 view .LVU2309
 7032 0050 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 7033 0054 1B09     		lsrs	r3, r3, #4
 902:Src/vl6180x_api.c **** 			} else {
 7034              		.loc 1 902 29 view .LVU2310
 7035 0056 B360     		str	r3, [r6, #8]
 7036              	.L488:
 904:Src/vl6180x_api.c **** 			}
 7037              		.loc 1 904 5 is_stmt 1 view .LVU2311
 907:Src/vl6180x_api.c **** 			if (status)
 7038              		.loc 1 907 4 view .LVU2312
 907:Src/vl6180x_api.c **** 			if (status)
 7039              		.loc 1 907 13 is_stmt 0 view .LVU2313
 7040 0058 3146     		mov	r1, r6
 7041 005a 2046     		mov	r0, r4
 7042              	.LVL774:
 907:Src/vl6180x_api.c **** 			if (status)
 7043              		.loc 1 907 13 view .LVU2314
 7044 005c FFF7FEFF 		bl	_GetRateResult
 7045              	.LVL775:
 908:Src/vl6180x_api.c **** 				goto error;
 7046              		.loc 1 908 4 is_stmt 1 view .LVU2315
 908:Src/vl6180x_api.c **** 				goto error;
 7047              		.loc 1 908 7 is_stmt 0 view .LVU2316
 7048 0060 0546     		mov	r5, r0
 7049 0062 0028     		cmp	r0, #0
 7050 0064 D4D1     		bne	.L487
 913:Src/vl6180x_api.c **** 				status = _filter_GetResult(dev, pRangeData);
 7051              		.loc 1 913 4 is_stmt 1 view .LVU2317
 913:Src/vl6180x_api.c **** 				status = _filter_GetResult(dev, pRangeData);
 7052              		.loc 1 913 8 is_stmt 0 view .LVU2318
 7053 0066 637E     		ldrb	r3, [r4, #25]	@ zero_extendqisi2
 913:Src/vl6180x_api.c **** 				status = _filter_GetResult(dev, pRangeData);
 7054              		.loc 1 913 7 view .LVU2319
 7055 0068 43B9     		cbnz	r3, .L492
 7056              	.L489:
 926:Src/vl6180x_api.c **** 				_DMax_Compute(dev, pRangeData);
 7057              		.loc 1 926 4 is_stmt 1 view .LVU2320
 926:Src/vl6180x_api.c **** 				_DMax_Compute(dev, pRangeData);
 7058              		.loc 1 926 8 is_stmt 0 view .LVU2321
 7059 006a 94F8CC30 		ldrb	r3, [r4, #204]	@ zero_extendqisi2
 926:Src/vl6180x_api.c **** 				_DMax_Compute(dev, pRangeData);
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 203


 7060              		.loc 1 926 7 view .LVU2322
 7061 006e 002B     		cmp	r3, #0
 7062 0070 CED0     		beq	.L487
 927:Src/vl6180x_api.c **** 			}
 7063              		.loc 1 927 5 is_stmt 1 view .LVU2323
 7064 0072 3146     		mov	r1, r6
 7065 0074 2046     		mov	r0, r4
 7066              	.LVL776:
 927:Src/vl6180x_api.c **** 			}
 7067              		.loc 1 927 5 is_stmt 0 view .LVU2324
 7068 0076 FFF7FEFF 		bl	_DMax_Compute
 7069              	.LVL777:
 7070 007a C9E7     		b	.L487
 7071              	.LVL778:
 7072              	.L492:
 914:Src/vl6180x_api.c **** 				if (!status) {
 7073              		.loc 1 914 5 is_stmt 1 view .LVU2325
 914:Src/vl6180x_api.c **** 				if (!status) {
 7074              		.loc 1 914 14 is_stmt 0 view .LVU2326
 7075 007c 3146     		mov	r1, r6
 7076 007e 2046     		mov	r0, r4
 7077              	.LVL779:
 914:Src/vl6180x_api.c **** 				if (!status) {
 7078              		.loc 1 914 14 view .LVU2327
 7079 0080 FFF7FEFF 		bl	_filter_GetResult
 7080              	.LVL780:
 915:Src/vl6180x_api.c **** 					/* patch the range status and measure if it is filtered */
 7081              		.loc 1 915 5 is_stmt 1 view .LVU2328
 915:Src/vl6180x_api.c **** 					/* patch the range status and measure if it is filtered */
 7082              		.loc 1 915 8 is_stmt 0 view .LVU2329
 7083 0084 0546     		mov	r5, r0
 7084 0086 0028     		cmp	r0, #0
 7085 0088 EFD1     		bne	.L489
 917:Src/vl6180x_api.c **** 						pRangeData->errorStatus = pRangeData->FilteredData.filterError;
 7086              		.loc 1 917 6 is_stmt 1 view .LVU2330
 917:Src/vl6180x_api.c **** 						pRangeData->errorStatus = pRangeData->FilteredData.filterError;
 7087              		.loc 1 917 33 is_stmt 0 view .LVU2331
 7088 008a 736A     		ldr	r3, [r6, #36]
 917:Src/vl6180x_api.c **** 						pRangeData->errorStatus = pRangeData->FilteredData.filterError;
 7089              		.loc 1 917 8 view .LVU2332
 7090 008c 002B     		cmp	r3, #0
 7091 008e ECD0     		beq	.L489
 918:Src/vl6180x_api.c **** 						pRangeData->range_mm = pRangeData->FilteredData.range_mm;
 7092              		.loc 1 918 7 is_stmt 1 view .LVU2333
 918:Src/vl6180x_api.c **** 						pRangeData->range_mm = pRangeData->FilteredData.range_mm;
 7093              		.loc 1 918 31 is_stmt 0 view .LVU2334
 7094 0090 B360     		str	r3, [r6, #8]
 919:Src/vl6180x_api.c **** 					}
 7095              		.loc 1 919 7 is_stmt 1 view .LVU2335
 919:Src/vl6180x_api.c **** 					}
 7096              		.loc 1 919 54 is_stmt 0 view .LVU2336
 7097 0092 338C     		ldrh	r3, [r6, #32]
 919:Src/vl6180x_api.c **** 					}
 7098              		.loc 1 919 28 view .LVU2337
 7099 0094 3360     		str	r3, [r6]
 7100 0096 E8E7     		b	.L489
 7101              		.cfi_endproc
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 204


 7102              	.LFE28:
 7104              		.section	.text.VL6180x_RangePollMeasurement,"ax",%progbits
 7105              		.align	1
 7106              		.global	VL6180x_RangePollMeasurement
 7107              		.syntax unified
 7108              		.thumb
 7109              		.thumb_func
 7110              		.fpu fpv4-sp-d16
 7112              	VL6180x_RangePollMeasurement:
 7113              	.LVL781:
 7114              	.LFB22:
 738:Src/vl6180x_api.c **** 	int status;
 7115              		.loc 1 738 1 is_stmt 1 view -0
 7116              		.cfi_startproc
 7117              		@ args = 0, pretend = 0, frame = 8
 7118              		@ frame_needed = 0, uses_anonymous_args = 0
 738:Src/vl6180x_api.c **** 	int status;
 7119              		.loc 1 738 1 is_stmt 0 view .LVU2339
 7120 0000 70B5     		push	{r4, r5, r6, lr}
 7121              	.LCFI125:
 7122              		.cfi_def_cfa_offset 16
 7123              		.cfi_offset 4, -16
 7124              		.cfi_offset 5, -12
 7125              		.cfi_offset 6, -8
 7126              		.cfi_offset 14, -4
 7127 0002 82B0     		sub	sp, sp, #8
 7128              	.LCFI126:
 7129              		.cfi_def_cfa_offset 24
 7130 0004 0446     		mov	r4, r0
 7131 0006 0D46     		mov	r5, r1
 739:Src/vl6180x_api.c **** 	int ClrStatus;
 7132              		.loc 1 739 2 is_stmt 1 view .LVU2340
 740:Src/vl6180x_api.c **** 	IntrStatus_t IntStatus;
 7133              		.loc 1 740 2 view .LVU2341
 741:Src/vl6180x_api.c **** 
 7134              		.loc 1 741 2 view .LVU2342
 743:Src/vl6180x_api.c **** 	/* start single range measurement */
 7135              		.loc 1 743 2 view .LVU2343
 756:Src/vl6180x_api.c **** 	if (status) {
 7136              		.loc 1 756 2 view .LVU2344
 756:Src/vl6180x_api.c **** 	if (status) {
 7137              		.loc 1 756 11 is_stmt 0 view .LVU2345
 7138 0008 0121     		movs	r1, #1
 7139              	.LVL782:
 756:Src/vl6180x_api.c **** 	if (status) {
 7140              		.loc 1 756 11 view .LVU2346
 7141 000a FFF7FEFF 		bl	VL6180x_RangeSetSystemMode
 7142              	.LVL783:
 757:Src/vl6180x_api.c **** 		VL6180x_ErrLog("VL6180x_RangeSetSystemMode fail");
 7143              		.loc 1 757 2 is_stmt 1 view .LVU2347
 757:Src/vl6180x_api.c **** 		VL6180x_ErrLog("VL6180x_RangeSetSystemMode fail");
 7144              		.loc 1 757 5 is_stmt 0 view .LVU2348
 7145 000e 0646     		mov	r6, r0
 7146 0010 B0B9     		cbnz	r0, .L493
 7147              	.L496:
 764:Src/vl6180x_api.c **** 		status = VL6180x_RangeGetInterruptStatus(dev, &IntStatus.val);
 7148              		.loc 1 764 2 is_stmt 1 view .LVU2349
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 205


 765:Src/vl6180x_api.c **** 		if (status) {
 7149              		.loc 1 765 3 view .LVU2350
 765:Src/vl6180x_api.c **** 		if (status) {
 7150              		.loc 1 765 12 is_stmt 0 view .LVU2351
 7151 0012 01A9     		add	r1, sp, #4
 7152 0014 2046     		mov	r0, r4
 7153              	.LVL784:
 765:Src/vl6180x_api.c **** 		if (status) {
 7154              		.loc 1 765 12 view .LVU2352
 7155 0016 FFF7FEFF 		bl	VL6180x_RangeGetInterruptStatus
 7156              	.LVL785:
 766:Src/vl6180x_api.c **** 			break;
 7157              		.loc 1 766 3 is_stmt 1 view .LVU2353
 766:Src/vl6180x_api.c **** 			break;
 7158              		.loc 1 766 6 is_stmt 0 view .LVU2354
 7159 001a 0646     		mov	r6, r0
 7160 001c 40B9     		cbnz	r0, .L495
 769:Src/vl6180x_api.c **** 			break;
 7161              		.loc 1 769 3 is_stmt 1 view .LVU2355
 769:Src/vl6180x_api.c **** 			break;
 7162              		.loc 1 769 30 is_stmt 0 view .LVU2356
 7163 001e 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 7164 0022 03F00702 		and	r2, r3, #7
 769:Src/vl6180x_api.c **** 			break;
 7165              		.loc 1 769 6 view .LVU2357
 7166 0026 042A     		cmp	r2, #4
 7167 0028 02D0     		beq	.L495
 769:Src/vl6180x_api.c **** 			break;
 7168              		.loc 1 769 68 discriminator 1 view .LVU2358
 7169 002a 13F0C00F 		tst	r3, #192
 7170 002e F0D0     		beq	.L496
 7171              	.L495:
 777:Src/vl6180x_api.c **** 		status = VL6180x_RangeGetMeasurement(dev, pRangeData);
 7172              		.loc 1 777 2 is_stmt 1 view .LVU2359
 777:Src/vl6180x_api.c **** 		status = VL6180x_RangeGetMeasurement(dev, pRangeData);
 7173              		.loc 1 777 5 is_stmt 0 view .LVU2360
 7174 0030 4EB1     		cbz	r6, .L500
 7175              	.L497:
 782:Src/vl6180x_api.c **** 	if (ClrStatus) {
 7176              		.loc 1 782 2 is_stmt 1 view .LVU2361
 782:Src/vl6180x_api.c **** 	if (ClrStatus) {
 7177              		.loc 1 782 14 is_stmt 0 view .LVU2362
 7178 0032 0121     		movs	r1, #1
 7179 0034 2046     		mov	r0, r4
 7180              	.LVL786:
 782:Src/vl6180x_api.c **** 	if (ClrStatus) {
 7181              		.loc 1 782 14 view .LVU2363
 7182 0036 FFF7FEFF 		bl	VL6180x_ClearInterrupt
 7183              	.LVL787:
 783:Src/vl6180x_api.c **** 		VL6180x_ErrLog("VL6180x_RangeClearInterrupt fail");
 7184              		.loc 1 783 2 is_stmt 1 view .LVU2364
 783:Src/vl6180x_api.c **** 		VL6180x_ErrLog("VL6180x_RangeClearInterrupt fail");
 7185              		.loc 1 783 5 is_stmt 0 view .LVU2365
 7186 003a 08B1     		cbz	r0, .L493
 784:Src/vl6180x_api.c **** 		/*  leave initial status if already in error  */
 7187              		.loc 1 784 3 is_stmt 1 view .LVU2366
 786:Src/vl6180x_api.c **** 			status = ClrStatus;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 206


 7188              		.loc 1 786 3 view .LVU2367
 786:Src/vl6180x_api.c **** 			status = ClrStatus;
 7189              		.loc 1 786 6 is_stmt 0 view .LVU2368
 7190 003c 06B9     		cbnz	r6, .L493
 787:Src/vl6180x_api.c **** 		}
 7191              		.loc 1 787 11 view .LVU2369
 7192 003e 0646     		mov	r6, r0
 7193              	.LVL788:
 7194              	.L494:
 791:Src/vl6180x_api.c **** 	return status;
 7195              		.loc 1 791 2 is_stmt 1 view .LVU2370
 792:Src/vl6180x_api.c **** }
 7196              		.loc 1 792 2 view .LVU2371
 7197              	.L493:
 793:Src/vl6180x_api.c **** 
 7198              		.loc 1 793 1 is_stmt 0 view .LVU2372
 7199 0040 3046     		mov	r0, r6
 7200 0042 02B0     		add	sp, sp, #8
 7201              	.LCFI127:
 7202              		.cfi_remember_state
 7203              		.cfi_def_cfa_offset 16
 7204              		@ sp needed
 7205 0044 70BD     		pop	{r4, r5, r6, pc}
 7206              	.LVL789:
 7207              	.L500:
 7208              	.LCFI128:
 7209              		.cfi_restore_state
 778:Src/vl6180x_api.c **** 	}
 7210              		.loc 1 778 3 is_stmt 1 view .LVU2373
 778:Src/vl6180x_api.c **** 	}
 7211              		.loc 1 778 12 is_stmt 0 view .LVU2374
 7212 0046 2946     		mov	r1, r5
 7213 0048 2046     		mov	r0, r4
 7214              	.LVL790:
 778:Src/vl6180x_api.c **** 	}
 7215              		.loc 1 778 12 view .LVU2375
 7216 004a FFF7FEFF 		bl	VL6180x_RangeGetMeasurement
 7217              	.LVL791:
 7218 004e 0646     		mov	r6, r0
 7219              	.LVL792:
 778:Src/vl6180x_api.c **** 	}
 7220              		.loc 1 778 12 view .LVU2376
 7221 0050 EFE7     		b	.L497
 7222              		.cfi_endproc
 7223              	.LFE22:
 7225              		.section	.text.VL6180x_RangeGetMeasurementIfReady,"ax",%progbits
 7226              		.align	1
 7227              		.global	VL6180x_RangeGetMeasurementIfReady
 7228              		.syntax unified
 7229              		.thumb
 7230              		.thumb_func
 7231              		.fpu fpv4-sp-d16
 7233              	VL6180x_RangeGetMeasurementIfReady:
 7234              	.LVL793:
 7235              	.LFB29:
 944:Src/vl6180x_api.c **** 	int status;
 7236              		.loc 1 944 1 is_stmt 1 view -0
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 207


 7237              		.cfi_startproc
 7238              		@ args = 0, pretend = 0, frame = 8
 7239              		@ frame_needed = 0, uses_anonymous_args = 0
 944:Src/vl6180x_api.c **** 	int status;
 7240              		.loc 1 944 1 is_stmt 0 view .LVU2378
 7241 0000 30B5     		push	{r4, r5, lr}
 7242              	.LCFI129:
 7243              		.cfi_def_cfa_offset 12
 7244              		.cfi_offset 4, -12
 7245              		.cfi_offset 5, -8
 7246              		.cfi_offset 14, -4
 7247 0002 83B0     		sub	sp, sp, #12
 7248              	.LCFI130:
 7249              		.cfi_def_cfa_offset 24
 7250 0004 0546     		mov	r5, r0
 7251 0006 0C46     		mov	r4, r1
 945:Src/vl6180x_api.c **** 	IntrStatus_t IntStatus;
 7252              		.loc 1 945 2 is_stmt 1 view .LVU2379
 946:Src/vl6180x_api.c **** 
 7253              		.loc 1 946 2 view .LVU2380
 948:Src/vl6180x_api.c **** 	status = VL6180x_RangeGetInterruptStatus(dev, &IntStatus.val);
 7254              		.loc 1 948 2 view .LVU2381
 949:Src/vl6180x_api.c **** 	if (status == 0) {
 7255              		.loc 1 949 2 view .LVU2382
 949:Src/vl6180x_api.c **** 	if (status == 0) {
 7256              		.loc 1 949 11 is_stmt 0 view .LVU2383
 7257 0008 01A9     		add	r1, sp, #4
 7258              	.LVL794:
 949:Src/vl6180x_api.c **** 	if (status == 0) {
 7259              		.loc 1 949 11 view .LVU2384
 7260 000a FFF7FEFF 		bl	VL6180x_RangeGetInterruptStatus
 7261              	.LVL795:
 950:Src/vl6180x_api.c **** 		if (IntStatus.status.Range == RES_INT_STAT_GPIO_NEW_SAMPLE_READY ||
 7262              		.loc 1 950 2 is_stmt 1 view .LVU2385
 950:Src/vl6180x_api.c **** 		if (IntStatus.status.Range == RES_INT_STAT_GPIO_NEW_SAMPLE_READY ||
 7263              		.loc 1 950 5 is_stmt 0 view .LVU2386
 7264 000e 68B9     		cbnz	r0, .L501
 951:Src/vl6180x_api.c **** 			IntStatus.status.Error != 0) {
 7265              		.loc 1 951 3 is_stmt 1 view .LVU2387
 951:Src/vl6180x_api.c **** 			IntStatus.status.Error != 0) {
 7266              		.loc 1 951 30 is_stmt 0 view .LVU2388
 7267 0010 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 7268 0014 03F00702 		and	r2, r3, #7
 951:Src/vl6180x_api.c **** 			IntStatus.status.Error != 0) {
 7269              		.loc 1 951 6 view .LVU2389
 7270 0018 042A     		cmp	r2, #4
 7271 001a 02D0     		beq	.L503
 951:Src/vl6180x_api.c **** 			IntStatus.status.Error != 0) {
 7272              		.loc 1 951 68 discriminator 1 view .LVU2390
 7273 001c 13F0C00F 		tst	r3, #192
 7274 0020 0BD0     		beq	.L504
 7275              	.L503:
 953:Src/vl6180x_api.c **** 			if (status == 0) {
 7276              		.loc 1 953 4 is_stmt 1 view .LVU2391
 953:Src/vl6180x_api.c **** 			if (status == 0) {
 7277              		.loc 1 953 13 is_stmt 0 view .LVU2392
 7278 0022 2146     		mov	r1, r4
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 208


 7279 0024 2846     		mov	r0, r5
 7280 0026 FFF7FEFF 		bl	VL6180x_RangeGetMeasurement
 7281              	.LVL796:
 954:Src/vl6180x_api.c **** 				/*  clear range interrupt source */
 7282              		.loc 1 954 4 is_stmt 1 view .LVU2393
 954:Src/vl6180x_api.c **** 				/*  clear range interrupt source */
 7283              		.loc 1 954 7 is_stmt 0 view .LVU2394
 7284 002a 08B1     		cbz	r0, .L506
 7285              	.LVL797:
 7286              	.L501:
 969:Src/vl6180x_api.c **** 
 7287              		.loc 1 969 1 view .LVU2395
 7288 002c 03B0     		add	sp, sp, #12
 7289              	.LCFI131:
 7290              		.cfi_remember_state
 7291              		.cfi_def_cfa_offset 12
 7292              		@ sp needed
 7293 002e 30BD     		pop	{r4, r5, pc}
 7294              	.LVL798:
 7295              	.L506:
 7296              	.LCFI132:
 7297              		.cfi_restore_state
 956:Src/vl6180x_api.c **** 				if (status) {
 7298              		.loc 1 956 5 is_stmt 1 view .LVU2396
 956:Src/vl6180x_api.c **** 				if (status) {
 7299              		.loc 1 956 14 is_stmt 0 view .LVU2397
 7300 0030 0121     		movs	r1, #1
 7301 0032 2846     		mov	r0, r5
 7302              	.LVL799:
 956:Src/vl6180x_api.c **** 				if (status) {
 7303              		.loc 1 956 14 view .LVU2398
 7304 0034 FFF7FEFF 		bl	VL6180x_ClearInterrupt
 7305              	.LVL800:
 957:Src/vl6180x_api.c **** 					VL6180x_ErrLog("VL6180x_RangeClearInterrupt fail");
 7306              		.loc 1 957 5 is_stmt 1 view .LVU2399
 7307 0038 F8E7     		b	.L501
 7308              	.LVL801:
 7309              	.L504:
 962:Src/vl6180x_api.c **** 		}
 7310              		.loc 1 962 4 view .LVU2400
 962:Src/vl6180x_api.c **** 		}
 7311              		.loc 1 962 28 is_stmt 0 view .LVU2401
 7312 003a 1223     		movs	r3, #18
 7313 003c A360     		str	r3, [r4, #8]
 7314              	.LVL802:
 965:Src/vl6180x_api.c **** 	}
 7315              		.loc 1 965 3 is_stmt 1 view .LVU2402
 967:Src/vl6180x_api.c **** 	return status;
 7316              		.loc 1 967 2 view .LVU2403
 968:Src/vl6180x_api.c **** }
 7317              		.loc 1 968 2 view .LVU2404
 968:Src/vl6180x_api.c **** }
 7318              		.loc 1 968 9 is_stmt 0 view .LVU2405
 7319 003e F5E7     		b	.L501
 7320              		.cfi_endproc
 7321              	.LFE29:
 7323              		.section	.text._DMax_OneTimeInit,"ax",%progbits
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 209


 7324              		.align	1
 7325              		.global	_DMax_OneTimeInit
 7326              		.syntax unified
 7327              		.thumb
 7328              		.thumb_func
 7329              		.fpu fpv4-sp-d16
 7331              	_DMax_OneTimeInit:
 7332              	.LVL803:
 7333              	.LFB73:
2589:Src/vl6180x_api.c **** 	_DMaxData(ambTuningWindowFactor_K) = DEF_AMBIENT_TUNING;
 7334              		.loc 1 2589 1 is_stmt 1 view -0
 7335              		.cfi_startproc
 7336              		@ args = 0, pretend = 0, frame = 0
 7337              		@ frame_needed = 0, uses_anonymous_args = 0
 7338              		@ link register save eliminated.
2590:Src/vl6180x_api.c **** }
 7339              		.loc 1 2590 2 view .LVU2407
2590:Src/vl6180x_api.c **** }
 7340              		.loc 1 2590 37 is_stmt 0 view .LVU2408
 7341 0000 5023     		movs	r3, #80
 7342 0002 C0F8BC30 		str	r3, [r0, #188]
2591:Src/vl6180x_api.c **** 
 7343              		.loc 1 2591 1 view .LVU2409
 7344 0006 7047     		bx	lr
 7345              		.cfi_endproc
 7346              	.LFE73:
 7348              		.section	.text.VL6180x_InitData,"ax",%progbits
 7349              		.align	1
 7350              		.global	VL6180x_InitData
 7351              		.syntax unified
 7352              		.thumb
 7353              		.thumb_func
 7354              		.fpu fpv4-sp-d16
 7356              	VL6180x_InitData:
 7357              	.LVL804:
 7358              	.LFB2:
 216:Src/vl6180x_api.c **** 	int status, dmax_status ;
 7359              		.loc 1 216 1 is_stmt 1 view -0
 7360              		.cfi_startproc
 7361              		@ args = 0, pretend = 0, frame = 16
 7362              		@ frame_needed = 0, uses_anonymous_args = 0
 216:Src/vl6180x_api.c **** 	int status, dmax_status ;
 7363              		.loc 1 216 1 is_stmt 0 view .LVU2411
 7364 0000 70B5     		push	{r4, r5, r6, lr}
 7365              	.LCFI133:
 7366              		.cfi_def_cfa_offset 16
 7367              		.cfi_offset 4, -16
 7368              		.cfi_offset 5, -12
 7369              		.cfi_offset 6, -8
 7370              		.cfi_offset 14, -4
 7371 0002 84B0     		sub	sp, sp, #16
 7372              	.LCFI134:
 7373              		.cfi_def_cfa_offset 32
 7374 0004 0446     		mov	r4, r0
 217:Src/vl6180x_api.c **** 	int8_t offset;
 7375              		.loc 1 217 2 is_stmt 1 view .LVU2412
 218:Src/vl6180x_api.c **** 	uint8_t FreshOutReset;
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 210


 7376              		.loc 1 218 2 view .LVU2413
 219:Src/vl6180x_api.c **** 	uint32_t CalValue;
 7377              		.loc 1 219 2 view .LVU2414
 220:Src/vl6180x_api.c **** 	uint16_t u16;
 7378              		.loc 1 220 2 view .LVU2415
 221:Src/vl6180x_api.c **** 	uint32_t XTalkCompRate_KCps;
 7379              		.loc 1 221 2 view .LVU2416
 222:Src/vl6180x_api.c **** 
 7380              		.loc 1 222 2 view .LVU2417
 224:Src/vl6180x_api.c **** 
 7381              		.loc 1 224 2 view .LVU2418
 226:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, EceFactorD, DEF_ECE_FACTOR_D);
 7382              		.loc 1 226 2 view .LVU2419
 7383 0006 5523     		movs	r3, #85
 7384 0008 0381     		strh	r3, [r0, #8]	@ movhi
 227:Src/vl6180x_api.c **** 
 7385              		.loc 1 227 2 view .LVU2420
 7386 000a 6422     		movs	r2, #100
 7387 000c 4281     		strh	r2, [r0, #10]	@ movhi
 229:Src/vl6180x_api.c **** 
 7388              		.loc 1 229 2 view .LVU2421
 7389 000e 0023     		movs	r3, #0
 7390 0010 0374     		strb	r3, [r0, #16]
 232:Src/vl6180x_api.c **** #endif
 7391              		.loc 1 232 2 view .LVU2422
 7392 0012 0123     		movs	r3, #1
 7393 0014 0376     		strb	r3, [r0, #24]
 236:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, AlsGainCode, DEF_ALS_GAIN);
 7394              		.loc 1 236 2 view .LVU2423
 7395 0016 4282     		strh	r2, [r0, #18]	@ movhi
 237:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, AlsScaler, DEF_ALS_SCALER);
 7396              		.loc 1 237 2 view .LVU2424
 7397 0018 8382     		strh	r3, [r0, #20]	@ movhi
 238:Src/vl6180x_api.c **** #endif
 7398              		.loc 1 238 2 view .LVU2425
 7399 001a C382     		strh	r3, [r0, #22]	@ movhi
 242:Src/vl6180x_api.c **** 	VL6180xDevDataSet(dev, DMaxEnable, DEF_DMAX_ENABLE);
 7400              		.loc 1 242 2 view .LVU2426
 7401 001c 4376     		strb	r3, [r0, #25]
 243:Src/vl6180x_api.c **** #endif
 7402              		.loc 1 243 2 view .LVU2427
 7403 001e 80F8CC30 		strb	r3, [r0, #204]
 246:Src/vl6180x_api.c **** 	do {
 7404              		.loc 1 246 2 view .LVU2428
 7405 0022 FFF7FEFF 		bl	_DMax_OneTimeInit
 7406              	.LVL805:
 247:Src/vl6180x_api.c **** 
 7407              		.loc 1 247 2 view .LVU2429
 250:Src/vl6180x_api.c **** 		if (status) {
 7408              		.loc 1 250 3 view .LVU2430
 250:Src/vl6180x_api.c **** 		if (status) {
 7409              		.loc 1 250 12 is_stmt 0 view .LVU2431
 7410 0026 0DF10F02 		add	r2, sp, #15
 7411 002a 2421     		movs	r1, #36
 7412 002c 2046     		mov	r0, r4
 7413 002e FFF7FEFF 		bl	VL6180x_RdByte
 7414              	.LVL806:
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 211


 251:Src/vl6180x_api.c **** 			VL6180x_ErrLog("SYSRANGE_PART_TO_PART_RANGE_OFFSET rd fail");
 7415              		.loc 1 251 3 is_stmt 1 view .LVU2432
 251:Src/vl6180x_api.c **** 			VL6180x_ErrLog("SYSRANGE_PART_TO_PART_RANGE_OFFSET rd fail");
 7416              		.loc 1 251 6 is_stmt 0 view .LVU2433
 7417 0032 0546     		mov	r5, r0
 7418 0034 10B1     		cbz	r0, .L514
 7419              	.LVL807:
 7420              	.L508:
 294:Src/vl6180x_api.c **** 
 7421              		.loc 1 294 1 view .LVU2434
 7422 0036 2846     		mov	r0, r5
 7423 0038 04B0     		add	sp, sp, #16
 7424              	.LCFI135:
 7425              		.cfi_remember_state
 7426              		.cfi_def_cfa_offset 16
 7427              		@ sp needed
 7428 003a 70BD     		pop	{r4, r5, r6, pc}
 7429              	.LVL808:
 7430              	.L514:
 7431              	.LCFI136:
 7432              		.cfi_restore_state
 255:Src/vl6180x_api.c **** 
 7433              		.loc 1 255 3 is_stmt 1 view .LVU2435
 7434 003c 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 7435 0040 84F8CD30 		strb	r3, [r4, #205]
 257:Src/vl6180x_api.c **** 		if (status) {
 7436              		.loc 1 257 3 view .LVU2436
 257:Src/vl6180x_api.c **** 		if (status) {
 7437              		.loc 1 257 12 is_stmt 0 view .LVU2437
 7438 0044 02AA     		add	r2, sp, #8
 7439 0046 2621     		movs	r1, #38
 7440 0048 2046     		mov	r0, r4
 7441              	.LVL809:
 257:Src/vl6180x_api.c **** 		if (status) {
 7442              		.loc 1 257 12 view .LVU2438
 7443 004a FFF7FEFF 		bl	VL6180x_RdDWord
 7444              	.LVL810:
 258:Src/vl6180x_api.c **** 			VL6180x_ErrLog("Part2PartAmbNVM rd fail");
 7445              		.loc 1 258 3 is_stmt 1 view .LVU2439
 258:Src/vl6180x_api.c **** 			VL6180x_ErrLog("Part2PartAmbNVM rd fail");
 7446              		.loc 1 258 6 is_stmt 0 view .LVU2440
 7447 004e 0546     		mov	r5, r0
 7448 0050 0028     		cmp	r0, #0
 7449 0052 F0D1     		bne	.L508
 262:Src/vl6180x_api.c **** 			CalValue = 0x00CE03F8;
 7450              		.loc 1 262 3 is_stmt 1 view .LVU2441
 262:Src/vl6180x_api.c **** 			CalValue = 0x00CE03F8;
 7451              		.loc 1 262 16 is_stmt 0 view .LVU2442
 7452 0054 BDF80A30 		ldrh	r3, [sp, #10]
 262:Src/vl6180x_api.c **** 			CalValue = 0x00CE03F8;
 7453              		.loc 1 262 6 view .LVU2443
 7454 0058 0BB9     		cbnz	r3, .L510
 263:Src/vl6180x_api.c **** 		}
 7455              		.loc 1 263 4 is_stmt 1 view .LVU2444
 263:Src/vl6180x_api.c **** 		}
 7456              		.loc 1 263 13 is_stmt 0 view .LVU2445
 7457 005a 164B     		ldr	r3, .L516
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 212


 7458 005c 0293     		str	r3, [sp, #8]
 7459              	.L510:
 265:Src/vl6180x_api.c **** 
 7460              		.loc 1 265 3 is_stmt 1 view .LVU2446
 7461 005e 029B     		ldr	r3, [sp, #8]
 7462 0060 2360     		str	r3, [r4]
 267:Src/vl6180x_api.c **** 		if (status) {
 7463              		.loc 1 267 3 view .LVU2447
 267:Src/vl6180x_api.c **** 		if (status) {
 7464              		.loc 1 267 12 is_stmt 0 view .LVU2448
 7465 0062 0DF10602 		add	r2, sp, #6
 7466 0066 1E21     		movs	r1, #30
 7467 0068 2046     		mov	r0, r4
 7468              	.LVL811:
 267:Src/vl6180x_api.c **** 		if (status) {
 7469              		.loc 1 267 12 view .LVU2449
 7470 006a FFF7FEFF 		bl	VL6180x_RdWord
 7471              	.LVL812:
 268:Src/vl6180x_api.c **** 			VL6180x_ErrLog("SYSRANGE_CROSSTALK_COMPENSATION_RATE rd fail ");
 7472              		.loc 1 268 3 is_stmt 1 view .LVU2450
 268:Src/vl6180x_api.c **** 			VL6180x_ErrLog("SYSRANGE_CROSSTALK_COMPENSATION_RATE rd fail ");
 7473              		.loc 1 268 6 is_stmt 0 view .LVU2451
 7474 006e 0546     		mov	r5, r0
 7475 0070 0028     		cmp	r0, #0
 7476 0072 E0D1     		bne	.L508
 272:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, XTalkCompRate_KCps, XTalkCompRate_KCps);
 7477              		.loc 1 272 3 is_stmt 1 view .LVU2452
 272:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, XTalkCompRate_KCps, XTalkCompRate_KCps);
 7478              		.loc 1 272 24 is_stmt 0 view .LVU2453
 7479 0074 BDF80620 		ldrh	r2, [sp, #6]
 7480 0078 4FF47A73 		mov	r3, #1000
 7481 007c 03FB02F3 		mul	r3, r3, r2
 272:Src/vl6180x_api.c **** 		VL6180xDevDataSet(dev, XTalkCompRate_KCps, XTalkCompRate_KCps);
 7482              		.loc 1 272 22 view .LVU2454
 7483 0080 DB09     		lsrs	r3, r3, #7
 7484              	.LVL813:
 273:Src/vl6180x_api.c **** 
 7485              		.loc 1 273 3 is_stmt 1 view .LVU2455
 7486 0082 6360     		str	r3, [r4, #4]
 275:Src/vl6180x_api.c **** 		if (dmax_status < 0) {
 7487              		.loc 1 275 3 view .LVU2456
 275:Src/vl6180x_api.c **** 		if (dmax_status < 0) {
 7488              		.loc 1 275 17 is_stmt 0 view .LVU2457
 7489 0084 2046     		mov	r0, r4
 7490              	.LVL814:
 275:Src/vl6180x_api.c **** 		if (dmax_status < 0) {
 7491              		.loc 1 275 17 view .LVU2458
 7492 0086 FFF7FEFF 		bl	_DMax_InitData
 7493              	.LVL815:
 276:Src/vl6180x_api.c **** 			VL6180x_ErrLog("DMax init failure");
 7494              		.loc 1 276 3 is_stmt 1 view .LVU2459
 276:Src/vl6180x_api.c **** 			VL6180x_ErrLog("DMax init failure");
 7495              		.loc 1 276 6 is_stmt 0 view .LVU2460
 7496 008a 061E     		subs	r6, r0, #0
 7497 008c D3DB     		blt	.L508
 282:Src/vl6180x_api.c **** 		if (status) {
 7498              		.loc 1 282 3 is_stmt 1 view .LVU2461
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 213


 282:Src/vl6180x_api.c **** 		if (status) {
 7499              		.loc 1 282 12 is_stmt 0 view .LVU2462
 7500 008e 0DF10E02 		add	r2, sp, #14
 7501 0092 1621     		movs	r1, #22
 7502 0094 2046     		mov	r0, r4
 7503              	.LVL816:
 282:Src/vl6180x_api.c **** 		if (status) {
 7504              		.loc 1 282 12 view .LVU2463
 7505 0096 FFF7FEFF 		bl	VL6180x_RdByte
 7506              	.LVL817:
 283:Src/vl6180x_api.c **** 			VL6180x_ErrLog("SYSTEM_FRESH_OUT_OF_RESET rd fail");
 7507              		.loc 1 283 3 is_stmt 1 view .LVU2464
 283:Src/vl6180x_api.c **** 			VL6180x_ErrLog("SYSTEM_FRESH_OUT_OF_RESET rd fail");
 7508              		.loc 1 283 6 is_stmt 0 view .LVU2465
 7509 009a 0546     		mov	r5, r0
 7510 009c 0028     		cmp	r0, #0
 7511 009e CAD1     		bne	.L508
 287:Src/vl6180x_api.c **** 			status = CALIBRATION_WARNING;
 7512              		.loc 1 287 3 is_stmt 1 view .LVU2466
 287:Src/vl6180x_api.c **** 			status = CALIBRATION_WARNING;
 7513              		.loc 1 287 21 is_stmt 0 view .LVU2467
 7514 00a0 9DF80E30 		ldrb	r3, [sp, #14]	@ zero_extendqisi2
 287:Src/vl6180x_api.c **** 			status = CALIBRATION_WARNING;
 7515              		.loc 1 287 6 view .LVU2468
 7516 00a4 012B     		cmp	r3, #1
 7517 00a6 01D0     		beq	.L515
 288:Src/vl6180x_api.c **** 
 7518              		.loc 1 288 11 view .LVU2469
 7519 00a8 0125     		movs	r5, #1
 7520 00aa C4E7     		b	.L508
 7521              	.L515:
 287:Src/vl6180x_api.c **** 			status = CALIBRATION_WARNING;
 7522              		.loc 1 287 26 discriminator 1 view .LVU2470
 7523 00ac 002E     		cmp	r6, #0
 7524 00ae C2D0     		beq	.L508
 288:Src/vl6180x_api.c **** 
 7525              		.loc 1 288 11 view .LVU2471
 7526 00b0 0125     		movs	r5, #1
 7527              	.LVL818:
 290:Src/vl6180x_api.c **** 
 7528              		.loc 1 290 10 is_stmt 1 view .LVU2472
 292:Src/vl6180x_api.c **** 	return status;
 7529              		.loc 1 292 2 view .LVU2473
 293:Src/vl6180x_api.c **** }
 7530              		.loc 1 293 2 view .LVU2474
 293:Src/vl6180x_api.c **** }
 7531              		.loc 1 293 9 is_stmt 0 view .LVU2475
 7532 00b2 C0E7     		b	.L508
 7533              	.L517:
 7534              		.align	2
 7535              	.L516:
 7536 00b4 F803CE00 		.word	13501432
 7537              		.cfi_endproc
 7538              	.LFE2:
 7540              		.global	VL6180x_RangeStatusErrString
 7541              		.section	.rodata.str1.4,"aMS",%progbits,1
 7542              		.align	2
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 214


 7543              	.LC0:
 7544 0000 4E6F2045 		.ascii	"No Error\000"
 7544      72726F72 
 7544      00
 7545 0009 000000   		.align	2
 7546              	.LC1:
 7547 000c 56435345 		.ascii	"VCSEL Continuity Test\000"
 7547      4C20436F 
 7547      6E74696E 
 7547      75697479 
 7547      20546573 
 7548 0022 0000     		.align	2
 7549              	.LC2:
 7550 0024 56435345 		.ascii	"VCSEL Watchdog Test\000"
 7550      4C205761 
 7550      74636864 
 7550      6F672054 
 7550      65737400 
 7551              		.align	2
 7552              	.LC3:
 7553 0038 56435345 		.ascii	"VCSEL Watchdog\000"
 7553      4C205761 
 7553      74636864 
 7553      6F6700
 7554 0047 00       		.align	2
 7555              	.LC4:
 7556 0048 504C4C31 		.ascii	"PLL1 Lock\000"
 7556      204C6F63 
 7556      6B00
 7557 0052 0000     		.align	2
 7558              	.LC5:
 7559 0054 504C4C32 		.ascii	"PLL2 Lock\000"
 7559      204C6F63 
 7559      6B00
 7560 005e 0000     		.align	2
 7561              	.LC6:
 7562 0060 4561726C 		.ascii	"Early Convergence Estimate\000"
 7562      7920436F 
 7562      6E766572 
 7562      67656E63 
 7562      65204573 
 7563 007b 00       		.align	2
 7564              	.LC7:
 7565 007c 4D617820 		.ascii	"Max Convergence\000"
 7565      436F6E76 
 7565      65726765 
 7565      6E636500 
 7566              		.align	2
 7567              	.LC8:
 7568 008c 4E6F2054 		.ascii	"No Target Ignore\000"
 7568      61726765 
 7568      74204967 
 7568      6E6F7265 
 7568      00
 7569 009d 000000   		.align	2
 7570              	.LC9:
 7571 00a0 4E6F7420 		.ascii	"Not used 9\000"
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 215


 7571      75736564 
 7571      203900
 7572 00ab 00       		.align	2
 7573              	.LC10:
 7574 00ac 4E6F7420 		.ascii	"Not used 10\000"
 7574      75736564 
 7574      20313000 
 7575              		.align	2
 7576              	.LC11:
 7577 00b8 4D617820 		.ascii	"Max Signal To Noise Ratio\000"
 7577      5369676E 
 7577      616C2054 
 7577      6F204E6F 
 7577      69736520 
 7578 00d2 0000     		.align	2
 7579              	.LC12:
 7580 00d4 52617720 		.ascii	"Raw Ranging Algo Underflow\000"
 7580      52616E67 
 7580      696E6720 
 7580      416C676F 
 7580      20556E64 
 7581 00ef 00       		.align	2
 7582              	.LC13:
 7583 00f0 52617720 		.ascii	"Raw Ranging Algo Overflow\000"
 7583      52616E67 
 7583      696E6720 
 7583      416C676F 
 7583      204F7665 
 7584 010a 0000     		.align	2
 7585              	.LC14:
 7586 010c 52616E67 		.ascii	"Ranging Algo Underflow\000"
 7586      696E6720 
 7586      416C676F 
 7586      20556E64 
 7586      6572666C 
 7587 0123 00       		.align	2
 7588              	.LC15:
 7589 0124 52616E67 		.ascii	"Ranging Algo Overflow\000"
 7589      696E6720 
 7589      416C676F 
 7589      204F7665 
 7589      72666C6F 
 7590 013a 0000     		.align	2
 7591              	.LC16:
 7592 013c 46696C74 		.ascii	"Filtered by post processing (WAF)\000"
 7592      65726564 
 7592      20627920 
 7592      706F7374 
 7592      2070726F 
 7593 015e 0000     		.align	2
 7594              	.LC17:
 7595 0160 52616E67 		.ascii	"Ranging filtering (WAF) on-going\000"
 7595      696E6720 
 7595      66696C74 
 7595      6572696E 
 7595      67202857 
 7596 0181 000000   		.align	2
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 216


 7597              	.LC18:
 7598 0184 44617461 		.ascii	"Data not ready\000"
 7598      206E6F74 
 7598      20726561 
 7598      647900
 7599              		.section	.data.VL6180x_RangeStatusErrString,"aw"
 7600              		.align	2
 7601              		.set	.LANCHOR0,. + 0
 7604              	VL6180x_RangeStatusErrString:
 7605 0000 00000000 		.word	.LC0
 7606 0004 0C000000 		.word	.LC1
 7607 0008 24000000 		.word	.LC2
 7608 000c 38000000 		.word	.LC3
 7609 0010 48000000 		.word	.LC4
 7610 0014 54000000 		.word	.LC5
 7611 0018 60000000 		.word	.LC6
 7612 001c 7C000000 		.word	.LC7
 7613 0020 8C000000 		.word	.LC8
 7614 0024 A0000000 		.word	.LC9
 7615 0028 AC000000 		.word	.LC10
 7616 002c B8000000 		.word	.LC11
 7617 0030 D4000000 		.word	.LC12
 7618 0034 F0000000 		.word	.LC13
 7619 0038 0C010000 		.word	.LC14
 7620 003c 24010000 		.word	.LC15
 7621 0040 3C010000 		.word	.LC16
 7622 0044 60010000 		.word	.LC17
 7623 0048 84010000 		.word	.LC18
 7624              		.section	.rodata.AlsGainLookUp,"a"
 7625              		.align	2
 7626              		.set	.LANCHOR2,. + 0
 7629              	AlsGainLookUp:
 7630 0000 0014     		.short	5120
 7631 0002 000A     		.short	2560
 7632 0004 0005     		.short	1280
 7633 0006 8002     		.short	640
 7634 0008 AB01     		.short	427
 7635 000a 4001     		.short	320
 7636 000c 0001     		.short	256
 7637 000e 0028     		.short	10240
 7638              		.section	.rodata.ScalerLookUP,"a"
 7639              		.align	2
 7640              		.set	.LANCHOR3,. + 0
 7643              	ScalerLookUP:
 7644 0000 FD00     		.short	253
 7645 0002 7F00     		.short	127
 7646 0004 5400     		.short	84
 7647              		.section	.rodata.UpperLimitLookUP,"a"
 7648              		.align	2
 7649              		.set	.LANCHOR1,. + 0
 7652              	UpperLimitLookUP:
 7653 0000 B900     		.short	185
 7654 0002 7201     		.short	370
 7655 0004 4402     		.short	580
 7656              		.text
 7657              	.Letext0:
 7658              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 217


 7659              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 7660              		.file 4 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 7661              		.file 5 "Inc/vl6180x_def.h"
 7662              		.file 6 "Inc/vl6180x_platform.h"
 7663              		.file 7 "Inc/vl6180x_api.h"
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 218


DEFINED SYMBOLS
                            *ABS*:00000000 vl6180x_api.c
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:18     .text._filter_Init:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:25     .text._filter_Init:00000000 _filter_Init
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:99     .text._filter_StdDevDamper:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:105    .text._filter_StdDevDamper:00000000 _filter_StdDevDamper
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:196    .text._GetAveTotalTime:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:202    .text._GetAveTotalTime:00000000 _GetAveTotalTime
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:308    .text.VL6180x_RangeSetEarlyConvergenceEestimateThreshold:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:314    .text.VL6180x_RangeSetEarlyConvergenceEestimateThreshold:00000000 VL6180x_RangeSetEarlyConvergenceEestimateThreshold
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:453    .text._filter_Start:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:459    .text._filter_Start:00000000 _filter_Start
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:572    .text._filter_Start:00000024 $d
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:576    .text._filter_Start:00000028 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:1323   .text._filter_Start:00000378 $d
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:1328   .text._filter_Start:0000037c $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:1836   .text._filter_Start:00000570 $d
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:1841   .text._UpscaleInitPatch0:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:1847   .text._UpscaleInitPatch0:00000000 _UpscaleInitPatch0
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:1877   .text.VL6180x_RangeGetStatusErrString:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:1884   .text.VL6180x_RangeGetStatusErrString:00000000 VL6180x_RangeGetStatusErrString
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:1913   .text.VL6180x_RangeGetStatusErrString:00000010 $d
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:1918   .text.VL6180x_WaitDeviceBooted:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:1925   .text.VL6180x_WaitDeviceBooted:00000000 VL6180x_WaitDeviceBooted
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:1976   .text.VL6180x_GetOffsetCalibrationData:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:1983   .text.VL6180x_GetOffsetCalibrationData:00000000 VL6180x_GetOffsetCalibrationData
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2005   .text.VL6180x_SetOffsetCalibrationData:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2012   .text.VL6180x_SetOffsetCalibrationData:00000000 VL6180x_SetOffsetCalibrationData
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2050   .text.VL6180x_SetI2CAddress:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2057   .text.VL6180x_SetI2CAddress:00000000 VL6180x_SetI2CAddress
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2090   .text.VL6180x_GetUpperLimit:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2097   .text.VL6180x_GetUpperLimit:00000000 VL6180x_GetUpperLimit
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2127   .text.VL6180x_GetUpperLimit:0000000c $d
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2132   .text.VL6180x_SetGroupParamHold:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2139   .text.VL6180x_SetGroupParamHold:00000000 VL6180x_SetGroupParamHold
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2182   .text.VL6180x_AlsGetLux:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2189   .text.VL6180x_AlsGetLux:00000000 VL6180x_AlsGetLux
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2287   .text.VL6180x_AlsGetLux:00000040 $d
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2292   .text.VL6180x_AlsGetMeasurement:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2299   .text.VL6180x_AlsGetMeasurement:00000000 VL6180x_AlsGetMeasurement
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2361   .text.VL6180x_AlsGetInterruptStatus:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2368   .text.VL6180x_AlsGetInterruptStatus:00000000 VL6180x_AlsGetInterruptStatus
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2415   .text.VL6180x_AlsWaitDeviceReady:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2422   .text.VL6180x_AlsWaitDeviceReady:00000000 VL6180x_AlsWaitDeviceReady
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2525   .text.VL6180x_AlsSetSystemMode:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2532   .text.VL6180x_AlsSetSystemMode:00000000 VL6180x_AlsSetSystemMode
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2578   .text.VL6180x_AlsConfigInterrupt:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2585   .text.VL6180x_AlsConfigInterrupt:00000000 VL6180x_AlsConfigInterrupt
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2632   .text.VL6180x_AlsSetThresholds:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2639   .text.VL6180x_AlsSetThresholds:00000000 VL6180x_AlsSetThresholds
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2691   .text.VL6180x_AlsSetAnalogueGain:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2698   .text.VL6180x_AlsSetAnalogueGain:00000000 VL6180x_AlsSetAnalogueGain
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2754   .text.VL6180x_AlsSetInterMeasurementPeriod:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2761   .text.VL6180x_AlsSetInterMeasurementPeriod:00000000 VL6180x_AlsSetInterMeasurementPeriod
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2802   .text.VL6180x_AlsSetInterMeasurementPeriod:00000020 $d
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2807   .text.VL6180x_AlsSetIntegrationPeriod:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2814   .text.VL6180x_AlsSetIntegrationPeriod:00000000 VL6180x_AlsSetIntegrationPeriod
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 219


C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2891   .text.VL6180x_GetCachedDWord:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2898   .text.VL6180x_GetCachedDWord:00000000 VL6180x_GetCachedDWord
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2980   .text._GetRateResult:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:2986   .text._GetRateResult:00000000 _GetRateResult
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3160   .text.VL6180x_GetCachedWord:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3167   .text.VL6180x_GetCachedWord:00000000 VL6180x_GetCachedWord
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3238   .text.VL6180x_GetCachedByte:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3245   .text.VL6180x_GetCachedByte:00000000 VL6180x_GetCachedByte
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3303   .text._filter_GetResult:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3309   .text._filter_GetResult:00000000 _filter_GetResult
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3418   .text._CachedRegs_Fetch:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3425   .text._CachedRegs_Fetch:00000000 _CachedRegs_Fetch
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3474   .text._CachedRegs_Flush:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3481   .text._CachedRegs_Flush:00000000 _CachedRegs_Flush
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3498   .text.VL6180x_FilterSetState:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3505   .text.VL6180x_FilterSetState:00000000 VL6180x_FilterSetState
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3530   .text.VL6180x_FilterGetState:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3537   .text.VL6180x_FilterGetState:00000000 VL6180x_FilterGetState
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3559   .text.VL6180x_RangeGetResult:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3566   .text.VL6180x_RangeGetResult:00000000 VL6180x_RangeGetResult
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3627   .text.VL6180x_RangeSetRawThresholds:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3634   .text.VL6180x_RangeSetRawThresholds:00000000 VL6180x_RangeSetRawThresholds
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3683   .text.VL6180x_RangeSetThresholds:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3690   .text.VL6180x_RangeSetThresholds:00000000 VL6180x_RangeSetThresholds
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3811   .text.VL6180x_RangeGetThresholds:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3818   .text.VL6180x_RangeGetThresholds:00000000 VL6180x_RangeGetThresholds
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3915   .text.VL6180x_RangeGetInterruptStatus:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3922   .text.VL6180x_RangeGetInterruptStatus:00000000 VL6180x_RangeGetInterruptStatus
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3969   .text.VL6180x_GetInterruptStatus:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:3976   .text.VL6180x_GetInterruptStatus:00000000 VL6180x_GetInterruptStatus
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4007   .text.VL6180x_ClearInterrupt:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4014   .text.VL6180x_ClearInterrupt:00000000 VL6180x_ClearInterrupt
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4060   .text.VL6180x_AlsPollMeasurement:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4067   .text.VL6180x_AlsPollMeasurement:00000000 VL6180x_AlsPollMeasurement
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4178   .text.VL6180x_UpscaleGetScaling:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4185   .text.VL6180x_UpscaleGetScaling:00000000 VL6180x_UpscaleGetScaling
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4207   .text.VL6180x_SetGPIOxPolarity:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4214   .text.VL6180x_SetGPIOxPolarity:00000000 VL6180x_SetGPIOxPolarity
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4293   .text.VL6180x_SetGPIOxFunctionality:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4300   .text.VL6180x_SetGPIOxFunctionality:00000000 VL6180x_SetGPIOxFunctionality
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4382   .text.VL6180x_SetupGPIOx:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4389   .text.VL6180x_SetupGPIOx:00000000 VL6180x_SetupGPIOx
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4482   .text.VL6180x_DisableGPIOxOut:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4489   .text.VL6180x_DisableGPIOxOut:00000000 VL6180x_DisableGPIOxOut
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4517   .text.VL6180x_SetupGPIO1:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4524   .text.VL6180x_SetupGPIO1:00000000 VL6180x_SetupGPIO1
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4558   .text.VL6180x_RangeConfigInterrupt:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4565   .text.VL6180x_RangeConfigInterrupt:00000000 VL6180x_RangeConfigInterrupt
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4611   .text.VL6180x_RangeSetEceState:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4618   .text.VL6180x_RangeSetEceState:00000000 VL6180x_RangeSetEceState
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4662   .text.VL6180x_UpscaleSetScaling:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4669   .text.VL6180x_UpscaleSetScaling:00000000 VL6180x_UpscaleSetScaling
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4825   .text.VL6180x_UpscaleSetScaling:00000084 $d
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4830   .text.VL6180x_RangeSetInterMeasPeriod:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4837   .text.VL6180x_RangeSetInterMeasPeriod:00000000 VL6180x_RangeSetInterMeasPeriod
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4914   .text.VL6180x_RangeSetInterMeasPeriod:00000034 $d
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4919   .text.VL6180x_RangeGetDeviceReady:00000000 $t
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 220


C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4926   .text.VL6180x_RangeGetDeviceReady:00000000 VL6180x_RangeGetDeviceReady
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4977   .text.VL6180x_RangeWaitDeviceReady:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:4984   .text.VL6180x_RangeWaitDeviceReady:00000000 VL6180x_RangeWaitDeviceReady
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5090   .text.VL6180x_RangeSetSystemMode:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5097   .text.VL6180x_RangeSetSystemMode:00000000 VL6180x_RangeSetSystemMode
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5145   .text.VL6180x_RangeStartContinuousMode:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5152   .text.VL6180x_RangeStartContinuousMode:00000000 VL6180x_RangeStartContinuousMode
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5180   .text.VL6180x_RangeStartSingleShot:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5187   .text.VL6180x_RangeStartSingleShot:00000000 VL6180x_RangeStartSingleShot
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5215   .text.VL6180x_DMaxGetState:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5222   .text.VL6180x_DMaxGetState:00000000 VL6180x_DMaxGetState
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5244   .text.VL6180x_SqrtUint32:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5251   .text.VL6180x_SqrtUint32:00000000 VL6180x_SqrtUint32
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5321   .text._DMax_RawValueAtRateKCps:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5327   .text._DMax_RawValueAtRateKCps:00000000 _DMax_RawValueAtRateKCps
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5430   .text._DMax_RawValueAtRateKCps:0000004c $d
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5435   .text._DMax_InitData:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5441   .text._DMax_InitData:00000000 _DMax_InitData
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5703   .text.VL6180x_SetXTalkCompensationRate:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5710   .text.VL6180x_SetXTalkCompensationRate:00000000 VL6180x_SetXTalkCompensationRate
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5771   .text.VL6180x_RangeSetMaxConvergenceTime:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5778   .text.VL6180x_RangeSetMaxConvergenceTime:00000000 VL6180x_RangeSetMaxConvergenceTime
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5837   .text.VL6180x_UpscaleRegInit:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:5844   .text.VL6180x_UpscaleRegInit:00000000 VL6180x_UpscaleRegInit
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6097   .text.VL6180x_UpscaleStaticInit:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6103   .text.VL6180x_UpscaleStaticInit:00000000 VL6180x_UpscaleStaticInit
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6165   .text.VL6180x_StaticInit:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6172   .text.VL6180x_StaticInit:00000000 VL6180x_StaticInit
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6289   .text.VL6180x_Prepare:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6296   .text.VL6180x_Prepare:00000000 VL6180x_Prepare
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6434   .text.VL6180x_RangeSetEceFactor:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6441   .text.VL6180x_RangeSetEceFactor:00000000 VL6180x_RangeSetEceFactor
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6537   .text._RangeIgnore_UpdateDevice:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6543   .text._RangeIgnore_UpdateDevice:00000000 _RangeIgnore_UpdateDevice
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6658   .text.VL6180x_RangeIgnoreSetEnable:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6665   .text.VL6180x_RangeIgnoreSetEnable:00000000 VL6180x_RangeIgnoreSetEnable
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6721   .text.VL6180x_RangeIgnoreConfigure:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6728   .text.VL6180x_RangeIgnoreConfigure:00000000 VL6180x_RangeIgnoreConfigure
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6775   .text.VL6180x_DMaxSetState:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6782   .text.VL6180x_DMaxSetState:00000000 VL6180x_DMaxSetState
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6826   .text._DMax_Compute:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6832   .text._DMax_Compute:00000000 _DMax_Compute
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6921   .text._DMax_Compute:0000003c $d
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6927   .text.VL6180x_RangeGetMeasurement:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:6934   .text.VL6180x_RangeGetMeasurement:00000000 VL6180x_RangeGetMeasurement
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:7105   .text.VL6180x_RangePollMeasurement:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:7112   .text.VL6180x_RangePollMeasurement:00000000 VL6180x_RangePollMeasurement
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:7226   .text.VL6180x_RangeGetMeasurementIfReady:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:7233   .text.VL6180x_RangeGetMeasurementIfReady:00000000 VL6180x_RangeGetMeasurementIfReady
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:7324   .text._DMax_OneTimeInit:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:7331   .text._DMax_OneTimeInit:00000000 _DMax_OneTimeInit
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:7349   .text.VL6180x_InitData:00000000 $t
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:7356   .text.VL6180x_InitData:00000000 VL6180x_InitData
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:7536   .text.VL6180x_InitData:000000b4 $d
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:7604   .data.VL6180x_RangeStatusErrString:00000000 VL6180x_RangeStatusErrString
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:7542   .rodata.str1.4:00000000 $d
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:7600   .data.VL6180x_RangeStatusErrString:00000000 $d
ARM GAS  C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s 			page 221


C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:7625   .rodata.AlsGainLookUp:00000000 $d
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:7629   .rodata.AlsGainLookUp:00000000 AlsGainLookUp
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:7639   .rodata.ScalerLookUP:00000000 $d
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:7643   .rodata.ScalerLookUP:00000000 ScalerLookUP
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:7648   .rodata.UpperLimitLookUP:00000000 $d
C:\Users\asafw\AppData\Local\Temp\cclbgbuo.s:7652   .rodata.UpperLimitLookUP:00000000 UpperLimitLookUP

UNDEFINED SYMBOLS
VL6180x_RdByte
VL6180x_RdDWord
VL6180x_WrWord
VL6180x_RdMulti
VL6180x_WrByte
VL6180x_WrDWord
VL6180x_RdWord
VL6180x_UpdateByte
